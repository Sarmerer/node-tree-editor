{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/DocumentsList.vue?1ef1","webpack:///./src/components/Breadcrumb.vue?1959","webpack:///./src/components/Toolbar.vue?b707","webpack:///./src/components/Tree.vue?f40a","webpack:///./src/App.vue?b57c","webpack:///./src/components/common/Tabs.vue?1917","webpack:///./src/App.vue","webpack:///./src/components/Tree.vue","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/ImportExportModal.vue","webpack:///./src/components/ImportJSON.vue","webpack:///./src/utils.js","webpack:///./src/card.js","webpack:///./src/store/index.js","webpack:///./src/node.js","webpack:///./src/tree.js","webpack:///./src/components/common/Tabs.vue","webpack:///src/components/common/Tabs.vue","webpack:///./src/components/common/Tabs.vue?4e6a","webpack:///./src/components/common/Tabs.vue?63c3","webpack:///./src/components/common/Tab.vue","webpack:///src/components/common/Tab.vue","webpack:///./src/components/common/Tab.vue?4e19","webpack:///./src/components/common/Tab.vue?5a95","webpack:///src/components/ImportJSON.vue","webpack:///./src/components/ImportJSON.vue?a4d1","webpack:///./src/components/ImportJSON.vue?100f","webpack:///./src/components/ExportJSON.vue","webpack:///src/components/ExportJSON.vue","webpack:///./src/components/ExportJSON.vue?d96f","webpack:///./src/components/ExportJSON.vue?2bc6","webpack:///src/components/ImportExportModal.vue","webpack:///./src/components/ImportExportModal.vue?ea54","webpack:///./src/components/ImportExportModal.vue?6ebf","webpack:///./src/components/DocumentsList.vue","webpack:///src/components/DocumentsList.vue","webpack:///./src/components/DocumentsList.vue?ff8c","webpack:///./src/components/DocumentsList.vue?4525","webpack:///./src/components/EmojiBar.vue","webpack:///./src/hotkeys.js","webpack:///src/components/EmojiBar.vue","webpack:///./src/components/EmojiBar.vue?9711","webpack:///./src/components/EmojiBar.vue?37db","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?d7ea","webpack:///./src/components/Toolbar.vue?0ba6","webpack:///./src/components/Breadcrumb.vue","webpack:///src/components/Breadcrumb.vue","webpack:///./src/components/Breadcrumb.vue?1265","webpack:///./src/components/Breadcrumb.vue?36d3","webpack:///./src/components/ContextMenu.vue","webpack:///src/components/ContextMenu.vue","webpack:///./src/components/ContextMenu.vue?e866","webpack:///./src/components/ContextMenu.vue?0de6","webpack:///./src/components/cards/CardsWrapper.vue","webpack:///./src/components/cards/Card.vue","webpack:///./src/card-group.js","webpack:///src/components/cards/Card.vue","webpack:///./src/components/cards/Card.vue?9538","webpack:///./src/components/cards/Card.vue?cf85","webpack:///./src/components/cards/CardGroup.vue","webpack:///src/components/cards/CardGroup.vue","webpack:///./src/components/cards/CardGroup.vue?b785","webpack:///./src/components/cards/CardGroup.vue?1f35","webpack:///./src/components/EmojiPicker.vue","webpack:///src/components/EmojiPicker.vue","webpack:///./src/components/EmojiPicker.vue?8802","webpack:///./src/components/EmojiPicker.vue?3ce8","webpack:///src/components/cards/CardsWrapper.vue","webpack:///./src/components/cards/CardsWrapper.vue?b019","webpack:///./src/components/cards/CardsWrapper.vue?0946","webpack:///src/components/Tree.vue","webpack:///./src/components/Tree.vue?5fa4","webpack:///./src/components/Tree.vue?7763","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js","webpack:///./src/components/cards/CardsWrapper.vue?7346","webpack:///./src/components/Toolbar.vue?9542","webpack:///./src/components/EmojiBar.vue?8b00","webpack:///./src/components/Tree.vue?6f0a","webpack:///./src/components/ImportExportModal.vue?fc5e","webpack:///./src/components/ContextMenu.vue?70c6","webpack:///./src/components/cards/CardGroup.vue?e27e","webpack:///./src/components/ImportJSON.vue?fdd1","webpack:///./src/components/EmojiPicker.vue?1796","webpack:///./src/components/Tree.vue?7cbc","webpack:///./src/components/cards/Card.vue?78d6","webpack:///./src/components/ExportJSON.vue?2857"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","tree","loaded","_e","staticRenderFns","staticClass","ref","scopedSlots","_u","fn","on","addSibling","_v","addChild","toggleDone","lastNode","done","_s","isRoot","pushRootToQuery","childrenLength","collapseLastNode","collapsed","editLastNode","weight","_l","$event","addWeight","settings","toggleSetting","deletable","deleteLastNode","proxy","class","dragging","nodeDrag","handleZoom","button","arguments","style","initialTransformStyle","nodeDataList","node","_key","left","formatDimension","y","top","x","width","config","nodeWidth","height","nodeHeight","stopPropagation","mouseOverNode","onDrop","snap","isDraggedOver","dragover","highlighted","_gid","stack","editing","nodeMaxWidth","nodeMaxHeight","draggable","setLastNode","nodeContextClick","startDrag","onDrag","emoji","emojifyArray","domProps","hasQuery","spliceRootsQuery","directives","rawName","_name","expression","refInFor","type","indexOf","_k","keyCode","quitNodeEditor","preventDefault","save","callback","ctrlKey","shiftKey","altKey","metaKey","blurLastNode","target","composing","$set","totalChildrenTasks","finishedChildrenTasks","shouldDisplayProgress","progress","events","e","index","title","hotkey","join","actions","action","condSatisfied","emitEvent","event","icon","deleteAllCards","spawnCard","toggleImportExportModal","toggleDocMenu","toggleEmojiBar","$modal","show","beforeOpen","currTab","checked","importToSelectedNode","Array","isArray","_i","$$a","$$el","$$c","$$v","$$i","concat","fileChange","importFromFile","importFromClipboard","uuidv4","replace","crypto","getRandomValues","Uint8Array","toString","Card","constructor","text","props","group","undefined","id","focused","noPointerEvents","orderInGroup","Vue","use","Vuex","Document","lastEdit","Date","now","store","Store","state","favoriteEmojis","lastDocument","cards","cardGroups","documents","plugins","createPersistedState","mutations","addFavoriteEmoji","removeFavoriteEmoji","setDocument","uuid","updateDocument","assign","addDocument","document","addCard","card","addCardToGroup","cardID","groupID","cardIndex","findIndex","groupCardsAmount","filter","setCardOrder","newIndex","updateCards","deleteCard","deleteCardsInGroup","indexes","map","createGroup","setCardProperty","keyValues","kv","notDefined","v","reorderGroup","priorityIndex","priorityID","sort","a","b","targetCardIndex","deleteGroup","g","getTreeData","dispatch","createDocument","commit","saveDocument","getters","lastDocExists","deleteDocument","delete","keys","changeCardPosition","treeData","groups","_","Set","groupedCards","NodeDefaultSettings","displayProgress","deepProgress","Node","globalID","parentNode","depth","override","firstEdit","children","virtualChildren","virtualFinishedChildren","_id","_parentNode","_children","_collapsed","_depth","_editing","_firstEdit","_emoji","_done","_weight","_virtualChildrenAmount","_virtualFinishedChildrenAmount","size","_settings","addChildAtIndex","toggleEmoji","includes","toggleDoneState","getChildren","setAllChildrenDoneState","forEach","setSetting","parseName","trim","match","pseudoChildrenProgress","parseInt","spl","split","finished","total","export","parse","child","JSON","stringify","entries","k","sum","percentage","shallowProgress","totalNodes","toFixed","totalWeight","reduce","cSum","cTN","Tree","_gidCounter","_root","_query","then","parseTreeData","createNode","lastNodeID","lastNodeParent","_lastNode","pushNode","destination","parent","counter","options","force","newLast","triggerNode","goUp","closestTopNode","goDown","closestBottomNode","goLeft","goRight","Math","floor","cloneNode","position","self","deepClone","newNode","root","import","nodes","parseChildren","spliceAmount","newRoot","pop","sortLastNode","by","direction","console","log","error","tabs","tab","isVisible","active","isActive","disabled","isDisabled","selectTab","hash","header","_t","cacheLifetime","default","required","useUrlFragment","defaultTabHash","activeTabHash","activeTabIndex","lastActiveTabHash","computed","storageKey","created","mounted","methods","findTab","setTabVisible","getTabIndex","getTabHash","getActiveTab","getActiveTabIndex","component","computedId","prefix","suffix","components","Tabs","Tab","file","reader","navigator","readText","catch","alert","err","exportSelectedNode","showInNewTab","filename","defaultFilename","downloadFile","stringifiedTree","anchor","ImportJSON","ExportJSON","beforeClose","createNewDocument","doc","activeDoc","editingDoc","timeAgo","enterDocEdit","newDocName","saveDocName","leaveDocEdit","setDocumentAction","createDocumentAction","deleteDocumentAction","months","shown","searchInput","close","favorites","selected","isSelected","toggleFavorite","currentNodeEmoji","searchResult","emojis","eventBus","prevent","UIIgnore","eventsMap","Init","addEventListener","keydown","unload","toLowerCase","getCombination","eventName","$emit","combination","removeEventListener","favoritesRaw","addFavorite","removeFavorite","toggle","open","DocumentsList","EmojiBar","ImportExportModal","cond","query","q","popStack","queryLen","arg","mixins","newY","newX","emojiPick","boundaries","targetGroup","draggingCard","setDraggingCard","setTargetGroup","openPicker","closePicker","clickOutside","isChild","dragStart","focusCard","iconHover","focus","edit","CardGroup","watch","origin","cardClone","oldBounds","cardWidth","cardHeight","drag","dragEnd","inbound","ungroup","hover","unhover","showSnaps","orderMode","snapTo","right","bottom","isTarget","change","model","set","isSnapped","deep","handler","dragStop","setSnap","resetSnap","reposition","pick","EmojiPicker","align","layout","MATCH_TRANSLATE_REGEX","MATCH_SCALE_REGEX","LinkStyle","CURVE","STRAIGHT","DEFAULT_NODE_WIDTH","DEFAULT_NODE_HEIGHT","DEFAULT_LEVEL_HEIGHT","ANIMATION_DURATION","rotatePoint","levelHeight","linkStyle","Toolbar","ContextMenu","Breadcrumb","CardsWrapper","d3","colors","linkDataList","initTransformX","initTransformY","currentScale","source","transform","transformOrigin","saveDocumentAction","evt","mouseLeaveNode","beforeUnload","sortTree","doAllChildren","undoAllChildren","clickedText","clickedNode","focusInput","init","zoomIn","targetScale","zoomOut","restoreScale","setScale","getTranslate","addUniqueKey","queue","initTransform","generateLinkPath","linkPath","sourcePoint","targetPoint","draw","links","enter","append","attr","transition","duration","ease","exit","remove","buildTree","nodeSize","enableDrag","container","mouseDownTransform","startX","startY","isDrag","originOffsetX","originOffsetY","transformStr","svgElement","parseDimensionNumber","immediate","VModal","componentName","BootstrapVueIcons","ModalPlugin","FormTextareaPlugin","productionTip","h","App","$mount"],"mappings":"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YACArC,SAEAxE,QAGA0W,UACAnT,wBACA,OACAmd,mFACAC,4BAIA/J,UACA,kCACArW,oDAEA6Z,8CACAA,8CACAA,2CACAA,uCACAA,gCACA,kCAEAA,gDACAA,kDACAA,mDACAA,2CACAA,uDACAA,2DAEAA,oDAEAA,+BACAA,mCACAA,mCACAA,qCACAA,2CAEAvD,UACA,aAGAC,YACA,gBACA8J,oCAEAnc,iBAAA,YACA,OACA,qGACA,qGACA,UAGAW,eACAyb,iCACAA,oCACApd,oBACA,wBAEA4B,SACA,2BAEAd,YACA,gDACAvD,YACAyC,OACA,0BACA,oBAEAA,eACA,0BACA,0BACA,2BAEAa,mBACA,4CACA,uBACA,uCACA,mBACA,kBACA,aAEA,oBACA,2BACA,IACA,yBACA,OACA,8BAGAwc,oBAAA,QACA,2GACA,4BAEAC,eACA,oBACAxgB,wDAEAmF,sBACA1E,uBAEAkB,kBACA,2CAEA8e,cACAhgB,qBAEAU,aACAV,eACA,2CAGAY,WACAZ,aACA,2CAGAa,aACAb,8BAEAkG,yBAAA,MACA,yFAEA+Z,gBACAjgB,wCAEAkgB,kBACAlgB,wCAEA2P,eACA3P,2BAEAuE,gBACA,sCACA,sBADA,IAGAL,iBAAA,QACA,uEACA,+BACAlE,aACA,oFAEAsB,eACAtB,sBACA,2CAGA4F,gBACA5F,mBAEAoB,mBACApB,sBAEA8B,iBACA9B,oBAGAoF,oBAAAE,QAAAC,gBACA,4CACA,8BACAvF,kBAAA0S,YAEA1S,sBACAA,wBAEA,8CAGA6S,OACA7S,UAEA+S,SACA/S,YAEAiT,SACAjT,YAEAkT,UACAlT,aAEAmgB,eACA,0BAEAC,eACA,oBACApgB,sBAEAqgB,cACA,GACA,oBACA,sBACA,yBAGAjT,eACA,qCAGAjL,cACA,0CACA,YACA,6CACA,cACA,iBAGAme,OACA,YACA,kBACA,sBAEAC,SAAA,QACA,0GACA,aACA,UACA,oBACA,kBACA,yBACAC,KAEA,kBAEAC,UAAA,QACA,0GACA,aACA,YACA,oBACA,kBACA,yBACAD,QAEA,kBAEAE,eACA,kBAEAC,YAAA,QACA,8BACA,0BACA,aACA,wCACA,8FACA,gDACA,wCACA,iBACA,sBAEAC,eAAA,MACA,qEACA,aACA,kBACA,YACA,kBAEA,qBACA,iBACA,aAEAC,gBACA,YACA,oBACA,gBACApe,YACA,YACAqe,sBAGA,UAEAC,gBACA,0CACA,sDACA,qCAEAC,oBACA,8BACA,+BAsBA,OArBAC,EACAle,eACA,cAEAF,eACA,cAEA4c,oBACA,SACA1c,aACAF,cAEA,gBAEAgD,oBACA,SACA9C,aACAF,cAEA,gBAEA,KAEA,iCAEA,qBACA,OAAAE,aAAAF,cACA,GAAAE,aAAAF,cACAqe,QACAC,QACA,gBACA,GACApe,UACAF,OAEA,GAAAE,UAAAF,OAKA,OAJAoe,kBACAA,kBACAA,kBACAA,kBACA,eAGAG,OACA,0CACA,oBACA,wCAEA,aACA,wCACA,+CAGAC,EACAC,QACAC,eAMAC,qBACAA,sBACA,gCAEAH,EACAI,aACAC,aACAC,2BACAH,sBACA,gCAEAH,EACAO,OACAH,aACAC,eACAC,2BACArf,mBACAuf,SAEA,qBAEAC,aACA,gBACA9hB,OACA+hB,0DACA,0BAEA,OADA7D,MACA,6BAEA8D,aACA,uBACA,uBACA,QACA,IACA,KACA,KACAC,kBACAC,oBACAC,YACAC,YACAC,MAEAJ,kBACA,aACA,UACA,QACA,IACA,MACA,oBACA,2BACA,sBACAK,cACAC,eAGA,MACApP,4CACAmP,EACA,EACAnP,4CACAoP,EACA,8BACA,IACAC,YACArE,GACAqE,IAGAC,oBACA,2CAGAR,oBACAE,IACAC,IACAC,MAGAJ,iBACAE,IACAC,IACAC,OAGAzf,mBACA,kCACA,oBACA,EAEA,QAGA8f,wBACA,0BACA,EAEA,8BAEAve,sBAAA,MACA2C,mBACA,oBACA,2DAGAqV,OACA,aACAsB,QACAkF,aACAjF,UACA,YACA,wBChvB8U,MCU1U,I,8BAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCXA,IACfzf,WACAwY,YACA9E,SAEA9V,OACA,OACAmE,UCjB8T,MCQ1T,I,UAAY,eACd,GACAN,EACAS,GACA,EACA,KACA,KACA,OAIa,M,2FCdfqZ,KAGAjQ,aAAIC,IAAIoZ,KAAQ,CAAEC,cAAe,UASjCtZ,aAAIC,IAAIsZ,SACRvZ,aAAIC,IAAIuZ,SACRxZ,aAAIC,IAAIwZ,SAERzZ,aAAItG,OAAOggB,eAAgB,EAE3B,IAAI1Z,aAAI,CACN7J,OAASwjB,GAAMA,EAAEC,IACjBrZ,UACCsZ,OAAO,S,6DC1BV,W,oFCAA,W,oCCAA,W,oCCAA,W,6DCAA,W,oCCAA,W,2DCAA,W,gFCAA,W,kCCAA,W,uGCAA,W,qJCAA,W,kCCAA","file":"js/app.39ad248a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-mindmap/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=style&index=0&id=fdd9583a&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=style&index=0&id=223aa8a6&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=1&id=938189b0&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=12261730&prod&lang=scss&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=44676804&prod&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=0d195260&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.tree.loaded)?_c('tree'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('context-menu',{ref:\"contextMenu\",scopedSlots:_vm._u([{key:\"items\",fn:function(){return [_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.addSibling}},[_c('b-icon',{attrs:{\"icon\":\"node-plus\"}}),_vm._v(\" Add sibling \")],1),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.addChild}},[_c('b-icon',{attrs:{\"icon\":\"diagram2\"}}),_vm._v(\" Add child \")],1),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.toggleDone}},[_c('b-icon',{attrs:{\"icon\":_vm.tree.lastNode.done ? 'x' : 'check2'}}),_vm._v(\" \"+_vm._s(_vm.tree.lastNode.done ? \"Undo\" : \"Done\")+\" \")],1),(!_vm.tree.lastNode.isRoot)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.pushRootToQuery}},[_c('b-icon',{attrs:{\"icon\":\"arrow-bar-down\"}}),_vm._v(\" Drill down \")],1):_vm._e(),(_vm.tree.lastNode.childrenLength)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.collapseLastNode}},[_c('b-icon',{attrs:{\"icon\":_vm.tree.lastNode.collapsed ? 'arrows-expand' : 'arrows-collapse'}}),_vm._v(\" \"+_vm._s(_vm.tree.lastNode.collapsed ? \"Expand\" : \"Collapse\")+\" \")],1):_vm._e(),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.editLastNode}},[_c('b-icon',{attrs:{\"icon\":\"pencil\"}}),_vm._v(\" Edit \")],1),_c('button',{staticClass:\"context-menu-selector\"},[_c('b-icon',{attrs:{\"icon\":\"kanban\"}}),_vm._v(\" Weight: \"+_vm._s(_vm.tree.lastNode.weight || 1)+\" \"),_c('ul',_vm._l((['Default', 10, 5, 1, -1, -5, -10]),function(value,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.tree.lastNode.addWeight(value)}}},[_vm._v(\" \"+_vm._s(value >= 0 ? `+${value}` : value)+\" \")])}),0),_c('b-icon',{staticClass:\"arrow\",attrs:{\"icon\":\"chevron-right\"}})],1),_c('button',{staticClass:\"context-menu-selector\"},[_c('b-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" Settings \"),_c('ul',_vm._l((_vm.tree.lastNode.settings),function(value,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.tree.lastNode.toggleSetting(key)}}},[_vm._v(\" \"+_vm._s(key)+\" \"),(value)?_c('b-icon',{attrs:{\"icon\":\"check2\"}}):_vm._e()],1)}),0),_c('b-icon',{staticClass:\"arrow\",attrs:{\"icon\":\"chevron-right\"}})],1),(_vm.tree.lastNode.deletable)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.deleteLastNode}},[_c('b-icon',{attrs:{\"icon\":\"node-minus\"}}),_vm._v(\" Delete \")],1):_vm._e()]},proxy:true}])}),_c('toolbar'),_c('div',{ref:\"container\",staticClass:\"tree-container\",class:{ dragging: _vm.nodeDrag.dragging },on:{\"mousewheel\":_vm.handleZoom,\"mouseup\":function($event){if('button' in $event && $event.button !== 1)return null;return _vm.handleZoom.apply(null, arguments)}}},[_c('svg',{ref:\"svg\",staticClass:\"svg vue-tree\",style:(_vm.initialTransformStyle)}),_c('div',{ref:\"domContainer\",staticClass:\"dom-container\",style:(_vm.initialTransformStyle)},_vm._l((_vm.nodeDataList),function(node){return _c('div',{key:node.data._key,staticClass:\"node-slot\",style:({\n          left: _vm.formatDimension(node.y),\n          top: _vm.formatDimension(node.x),\n          width: _vm.formatDimension(_vm.config.nodeWidth),\n          height: _vm.formatDimension(_vm.config.nodeHeight),\n        }),on:{\"dragover\":function($event){$event.stopPropagation();return _vm.mouseOverNode($event, node)},\"dragend\":function($event){return _vm.onDrop($event, node)}}},[_c('div',{staticClass:\"node-slot-overlay\",class:{\n            'node-top': _vm.nodeDrag.snap === 'top' && _vm.isDraggedOver(node.data),\n            'node-bottom':\n              _vm.nodeDrag.snap === 'bottom' && _vm.isDraggedOver(node.data),\n            'node-right':\n              _vm.nodeDrag.snap === 'right' && _vm.isDraggedOver(node.data),\n          }},[_c('div',{staticClass:\"node\",class:{\n              dragover: _vm.isDraggedOver(node.data),\n              highlighted: node.data._gid === _vm.tree.lastNode._gid,\n              stack: node.data.childrenLength && node.data.collapsed,\n              done: node.data.done,\n              editing: node.data.editing,\n            },style:({\n              'max-width': _vm.formatDimension(_vm.config.nodeMaxWidth),\n              'max-height': _vm.formatDimension(_vm.config.nodeMaxHeight),\n            }),attrs:{\"draggable\":node.data.draggable},on:{\"mousedown\":function($event){$event.stopPropagation();},\"click\":function($event){return _vm.setLastNode(node.data, $event)},\"contextmenu\":function($event){return _vm.nodeContextClick($event, node.data)},\"dragstart\":function($event){return _vm.startDrag($event, node)},\"drag\":function($event){return _vm.onDrag()}}},[(!node.data.editing)?_c('div',{staticClass:\"content\"},[(\n                  !node.data.editing &&\n                  node.data.emoji &&\n                  node.data.emoji.length\n                )?_c('div',_vm._l((_vm.emojifyArray(node.data.emoji)),function(emoji,key){return _c('span',{key:key},[_vm._v(_vm._s(emoji)+\" \")])}),0):_vm._e(),(!node.data.editing)?_c('pre',{domProps:{\"textContent\":_vm._s(node.data.name)},on:{\"mousewheel\":function($event){$event.stopPropagation();}}}):_vm._e(),(node.data.isRoot && _vm.tree.hasQuery)?_c('button',{staticClass:\"drill-up\",on:{\"click\":function($event){$event.stopPropagation();return _vm.spliceRootsQuery.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"arrow-bar-up\"}})],1):_vm._e()]):_vm._e(),(node.data.editing)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(node.data._name),expression:\"node.data._name\"}],ref:`node-#${node.data._gid}`,refInFor:true,domProps:{\"value\":(node.data._name)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.quitNodeEditor.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return _vm.quitNodeEditor($event, { save: true })},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\"))return null;$event.preventDefault();return _vm.quitNodeEditor($event, { save: true, callback: _vm.addChild })},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();}],\"blur\":function($event){return _vm.blurLastNode(node.data)},\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing)return;_vm.$set(node.data, \"_name\", $event.target.value)}}}):_vm._e(),(!node.data.editing && node.data.totalChildrenTasks > 0)?_c('sub',{staticClass:\"completeness\"},[_vm._v(_vm._s(`${node.data.finishedChildrenTasks}/${node.data.totalChildrenTasks}`))]):_vm._e(),(_vm.shouldDisplayProgress(node.data))?_c('div',{staticClass:\"progress\",class:{ 'round-right': node.data.progress == 100 },style:({ width: `${node.data.progress}%` }),attrs:{\"title\":`${node.data.progress}%`}}):_vm._e(),(node.data._gid === _vm.tree.lastNode._gid)?_c('div',{staticClass:\"controls\"},[_c('button',{staticClass:\"add-child\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addSibling.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"node-plus\"}})],1),_c('button',{staticClass:\"add-sibling\",on:{\"click\":_vm.addChild}},[_c('b-icon',{attrs:{\"icon\":\"diagram2\"}})],1)]):_vm._e()])])])}),0)]),_c('breadcrumb'),_c('cards-wrapper')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('modal',{attrs:{\"name\":\"info-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"500px\"}},[_c('div',{attrs:{\"id\":\"modal\"}},[_c('table',{staticClass:\"info-table\"},_vm._l((_vm.events),function(e,index){return _c('tr',{key:index,staticClass:\"info-row\"},[_c('td',{staticClass:\"info-col-action\"},[_vm._v(\" \"+_vm._s(e.title)+\" \")]),_c('td',{staticClass:\"info-col-hotkey\"},[_vm._v(\" \"+_vm._s(e.hotkey.join(\" / \"))+\" \")])])}),0)])]),_c('documents-list'),_c('import-export-modal',{attrs:{\"tab\":'f'}}),_c('div',{staticClass:\"toolbar\"},[_c('div',{staticClass:\"left-buttons\"},_vm._l((_vm.actions),function(action,index){return _c('div',{key:index,attrs:{\"title\":action.title}},[(_vm.condSatisfied(action))?_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.emitEvent(action.event)}}},[_c('b-icon',{attrs:{\"icon\":action.icon}})],1):_vm._e()])}),0),_c('div',{staticClass:\"right-buttons\"},[_c('button',{attrs:{\"title\":\"Delete All Cards\"},on:{\"click\":_vm.deleteAllCards}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1),_c('button',{attrs:{\"title\":\"New Card\"},on:{\"click\":_vm.spawnCard}},[_c('b-icon',{attrs:{\"icon\":\"file-post\"}})],1),_c('button',{staticClass:\"doc-export\",attrs:{\"title\":\"Export\"},on:{\"click\":function($event){return _vm.toggleImportExportModal('export')}}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}})],1),_c('button',{staticClass:\"doc-import\",attrs:{\"title\":\"Import\"},on:{\"click\":function($event){return _vm.toggleImportExportModal('import')}}},[_c('b-icon',{attrs:{\"icon\":\"download\"}})],1),_c('button',{attrs:{\"title\":\"Documents\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDocMenu.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"file-earmark-text\"}})],1),_c('button',{attrs:{\"title\":\"Emoji\"},on:{\"click\":_vm.toggleEmojiBar}},[_c('b-icon',{attrs:{\"icon\":\"emoji-smile\"}})],1),_c('button',{attrs:{\"title\":\"Help\"},on:{\"click\":function($event){return _vm.$modal.show('info-modal')}}},[_c('b-icon',{attrs:{\"icon\":\"question\"}})],1)])]),_c('emoji-bar',{ref:\"emojiBar\",staticClass:\"emoji-bar\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{staticClass:\"helper\",attrs:{\"name\":\"import-export-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"30%\"},on:{\"before-open\":_vm.beforeOpen}},[(_vm.currTab === 'import')?_c('import-JSON'):_c('export-JSON')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('tabs',[_c('tab',{attrs:{\"name\":\"Import From File\"}},[_c('div',{staticClass:\"import-tab\"},[_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.importToSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"import-to-selected-from-file\"}},[_vm._v(\"Import to selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.importToSelectedNode),expression:\"importToSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"import-to-selected-from-file\"},domProps:{\"checked\":Array.isArray(_vm.importToSelectedNode)?_vm._i(_vm.importToSelectedNode,null)>-1:(_vm.importToSelectedNode)},on:{\"change\":function($event){var $$a=_vm.importToSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.importToSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.importToSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.importToSelectedNode=$$c}}}})]),_c('span',[_c('input',{ref:\"file\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileChange}})]),_c('div',{staticClass:\"import-button\"},[_c('button',{on:{\"click\":_vm.importFromFile}},[_vm._v(\"Import\")])])])]),_c('tab',{attrs:{\"name\":\"Import From Clipboard\"}},[_c('div',{staticClass:\"import-tab\"},[_c('small',[_vm._v(\"This feature requires Clipboard permission and doesn't work if it's not granted\")]),_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.importToSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"import-to-selected-from-clipboard\"}},[_vm._v(\"Import to current node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.importToSelectedNode),expression:\"importToSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"import-to-selected-from-clipboard\"},domProps:{\"checked\":Array.isArray(_vm.importToSelectedNode)?_vm._i(_vm.importToSelectedNode,null)>-1:(_vm.importToSelectedNode)},on:{\"change\":function($event){var $$a=_vm.importToSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.importToSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.importToSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.importToSelectedNode=$$c}}}})]),_c('div',{staticClass:\"import-button\"},[_c('button',{on:{\"click\":_vm.importFromClipboard}},[_vm._v(\"Import\")])])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function uuidv4() {\r\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\r\n    (\r\n      c ^\r\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\r\n    ).toString(16)\r\n  );\r\n}\r\n","import { uuidv4 } from \"./utils\";\r\n\r\nexport class Card {\r\n  constructor(\r\n    text = \"\",\r\n    icon = \"\",\r\n    props = { editing: false, x: 0, y: 0, group: undefined, dragging: false }\r\n  ) {\r\n    this.id = uuidv4();\r\n    this.x = props.x || 0;\r\n    this.y = props.y || 0;\r\n    this.text = text;\r\n    this.icon = icon;\r\n    this.editing = props.editing || false;\r\n    this.group = props.group || null;\r\n    this.dragging = props.dragging || false;\r\n\r\n    this.focused = false;\r\n    this.noPointerEvents = false;\r\n    this.orderInGroup = 0;\r\n  }\r\n\r\n  get isChild() {\r\n    return !!this.group;\r\n  }\r\n}\r\n","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport createPersistedState from \"vuex-persistedstate\";\r\nimport { Card } from \"../card\";\r\nimport { uuidv4 } from \"../utils\";\r\n\r\nVue.use(Vuex);\r\n\r\nclass Document {\r\n  constructor(name, data) {\r\n    this.name = name;\r\n    this.data = data;\r\n    this.lastEdit = Date.now();\r\n  }\r\n}\r\n\r\nexport const store = new Vuex.Store({\r\n  state: {\r\n    favoriteEmojis: [],\r\n    settings: {\r\n      lastDocument: \"\",\r\n    },\r\n    cards: [],\r\n    cardGroups: [],\r\n    documents: {},\r\n  },\r\n  plugins: [createPersistedState()],\r\n  mutations: {\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                               emoji mutatuins                              */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    addFavoriteEmoji: function (state, emoji) {\r\n      return state.favoriteEmojis.push(emoji);\r\n    },\r\n    removeFavoriteEmoji: function (state, emoji) {\r\n      return state.favoriteEmojis.splice(\r\n        state.favoriteEmojis.indexOf(emoji),\r\n        1\r\n      );\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                             document mutations                             */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    setDocument: function (state, uuid) {\r\n      if (uuid) state.settings.lastDocument = uuid;\r\n    },\r\n    updateDocument: (state, { uuid, data }) => {\r\n      Object.assign(state.documents[uuid], data);\r\n    },\r\n    addDocument: (state, { uuid, document }) => {\r\n      state.documents[uuid] = document;\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                               card mutatuions                              */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    addCard: function (state, card) {\r\n      if (!(card instanceof Card)) return;\r\n      state.cards.push(card);\r\n    },\r\n    addCardToGroup: function (state, { cardID, groupID }) {\r\n      const cardIndex = state.cards.findIndex((c) => c.id === cardID);\r\n      if (cardIndex < 0) return;\r\n      state.cards[cardIndex].group = groupID;\r\n      const groupCardsAmount =\r\n        state.cards.filter((c) => c.group === groupID) || [];\r\n      state.cards[cardIndex].orderInGroup =\r\n        groupCardsAmount > 0 ? groupCardsAmount + 1 : 0;\r\n    },\r\n    setCardOrder: function (state, { cardID, newIndex }) {\r\n      const cardIndex = state.cards.findIndex((c) => c.id === cardID);\r\n      if (cardIndex < 0) return;\r\n      state.cards[cardIndex].orderInGroup = newIndex;\r\n    },\r\n    updateCards: function (state, value) {\r\n      state.cards = value;\r\n    },\r\n    deleteCard: function (state, id) {\r\n      const index = state.cards.findIndex((c) => c.id === id);\r\n      if (index < 0) return;\r\n      state.cards.splice(index, 1);\r\n    },\r\n    deleteCardsInGroup: function (state, groupID) {\r\n      const indexes = state.cards\r\n        .map((c, i) => (c.group === groupID ? i : undefined))\r\n        .filter((x) => x !== undefined);\r\n\r\n      if (!indexes.length) return;\r\n      for (var i = indexes.length - 1; i >= 0; i--)\r\n        state.cards.splice([indexes[i]], 1);\r\n    },\r\n    deleteAllCards: function (state) {\r\n      state.cardGroups = [];\r\n      state.cards = [];\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                            card group mutatuins                           */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    createGroup: function (state, group) {\r\n      state.cardGroups.push(group);\r\n    },\r\n    setCardProperty: function (state, { cardID, key, value, keyValues }) {\r\n      const index = state.cards.findIndex((c) => c.id === cardID);\r\n      if (index < 0) return;\r\n      state.cards[index][key] = value;\r\n      if (!keyValues || !Array.isArray(keyValues)) return;\r\n      for (let kv of keyValues) {\r\n        if (typeof kv !== \"object\" || notDefined(kv.key)) continue;\r\n        state.cards[index][kv.key] === kv.value;\r\n      }\r\n      function notDefined(v) {\r\n        return v === undefined || v === null;\r\n      }\r\n    },\r\n    reorderGroup: function (state, { groupID, priorityIndex, priorityID }) {\r\n      const cards = state.cards\r\n        .filter((c) => c.group === groupID)\r\n        .sort((a, b) => a.orderInGroup - b.orderInGroup);\r\n      const targetCardIndex = cards.findIndex((c) => c.id === priorityID);\r\n      if (targetCardIndex < 0) return;\r\n      cards.splice(priorityIndex, 0, cards.splice(targetCardIndex, 1)[0]);\r\n      for (let i = 0; i < cards.length; i++) {\r\n        if (i === priorityIndex && cards[i].id === priorityID) continue;\r\n        cards[i].orderInGroup = i;\r\n      }\r\n    },\r\n    deleteGroup: function (state, id) {\r\n      const index = state.cardGroups.findIndex((g) => g.id === id);\r\n      if (index < 0) return;\r\n      state.cardGroups.splice(index, 1);\r\n    },\r\n  },\r\n  actions: {\r\n    getTreeData: ({ state, dispatch }) => {\r\n      if (\r\n        !state.settings.lastDocument ||\r\n        !state.documents[state.settings.lastDocument]\r\n      ) {\r\n        return dispatch(\"createDocument\");\r\n      }\r\n      return state.documents[state.settings.lastDocument].data;\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                              document actions                              */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    createDocument: (\r\n      { commit, state },\r\n      data = { name: \"document\", data: {} }\r\n    ) => {\r\n      const uuid = uuidv4();\r\n      commit(\"addDocument\", {\r\n        uuid: uuid,\r\n        document: new Document(data.name, data.data),\r\n      });\r\n      commit(\"setDocument\", uuid);\r\n      return state.documents[uuid].data;\r\n    },\r\n    setDocument: ({ commit, state }, uuid) => {\r\n      if (uuid) commit(\"setDocument\", uuid);\r\n      return state.documents[uuid].data;\r\n    },\r\n    saveDocument: ({ commit, state, getters }, data) => {\r\n      if (!getters.lastDocExists) return;\r\n      commit(\"updateDocument\", {\r\n        uuid: state.settings.lastDocument,\r\n        data: { lastEdit: Date.now(), data: data },\r\n      });\r\n    },\r\n\r\n    deleteDocument: ({ commit, state, dispatch }, uuid) => {\r\n      Vue.delete(state.documents, uuid);\r\n      const keys = Object.keys(state.documents);\r\n      if (!keys.length) {\r\n        return dispatch(\"createDocument\");\r\n      } else {\r\n        commit(\"setDocument\", keys[0]);\r\n        return state.documents[keys[0]].data;\r\n      }\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                                card actions                                */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    changeCardPosition: ({ commit }, { cardID, groupID, newIndex }) => {\r\n      commit(\"setCardOrder\", { cardID, newIndex });\r\n      commit(\"reorderGroup\", {\r\n        groupID,\r\n        priorityIndex: newIndex,\r\n        priorityID: cardID,\r\n      });\r\n    },\r\n\r\n    /* -------------------------------------------------------------------------- */\r\n    /*                             card group actions                             */\r\n    /* -------------------------------------------------------------------------- */\r\n\r\n    addCardToGroup: ({ commit }, { cardID, groupID }) => {\r\n      commit(\"addCardToGroup\", { cardID, groupID });\r\n      commit(\"reorderGroup\", { groupID });\r\n    },\r\n    deleteGroup: ({ commit }, id) => {\r\n      commit(\"deleteGroup\", id);\r\n      commit(\"deleteCardsInGroup\", id);\r\n    },\r\n  },\r\n  getters: {\r\n    documents: (state) => state.documents,\r\n    treeData: function (state) {\r\n      if (\r\n        !state.settings.lastDocument ||\r\n        !state.documents[state.settings.lastDocument]\r\n      )\r\n        return {};\r\n      return state.documents[state.settings.lastDocument].data;\r\n    },\r\n    cards: (state) => state.cards.filter((c) => !c.group),\r\n    groups: (_, getters) => [\r\n      ...new Set(getters.groupedCards.map((c) => c.group)),\r\n    ],\r\n    groupedCards: (state) =>\r\n      state.cards.filter((c) => typeof c.group === \"string\"),\r\n    lastDocExists: (state) => !!state.documents[state.settings.lastDocument],\r\n  },\r\n});\r\n","export const NodeDefaultSettings = {\r\n  displayProgress: true,\r\n  deepProgress: true,\r\n};\r\nexport class Node {\r\n  constructor(\r\n    globalID = 0,\r\n    id = 0,\r\n    parentNode = null,\r\n    depth = 0,\r\n    override = {\r\n      name: \"\",\r\n      firstEdit: true,\r\n      collapsed: false,\r\n      children: [],\r\n      emoji: [],\r\n      done: false,\r\n      isRoot: false,\r\n      weight: 1,\r\n      virtualChildren: 0,\r\n      virtualFinishedChildren: 0,\r\n      settings: {\r\n        displayProgress: true,\r\n        deepProgress: true,\r\n      },\r\n    }\r\n  ) {\r\n    this._gid = globalID;\r\n    this._id = id;\r\n    this._name = override.name;\r\n    this._parentNode = parentNode;\r\n    this._children = override.children;\r\n    this._collapsed = override?.collapsed === true ? true : false;\r\n    this._depth = depth;\r\n    this._editing = !override.firstEdit ? false : parentNode !== null;\r\n    this._firstEdit = override.firstEdit;\r\n    this._emoji = override.emoji || [];\r\n    this._done = override.done;\r\n    this._weight = override.weight || 1;\r\n\r\n    this._virtualChildrenAmount = override.virtualChildren || 0;\r\n    this._virtualFinishedChildrenAmount = override.virtualFinishedChildren || 0;\r\n\r\n    this.isRoot = override?.isRoot === true ? true : false;\r\n    this.size = [250, 250];\r\n    this._settings = {\r\n      displayProgress:\r\n        override.settings?.displayProgress === false ? false : true,\r\n      deepProgress: override.settings?.deepProgress === false ? false : true,\r\n    };\r\n  }\r\n\r\n  addChild(node) {\r\n    if (!(node instanceof Node)) return;\r\n    this._children.push(node);\r\n  }\r\n\r\n  addChildAtIndex(node, index) {\r\n    if (!(node instanceof Node) || index < 0) return;\r\n    this._children.splice(index, 0, node);\r\n  }\r\n\r\n  toggleEmoji(emoji) {\r\n    this._emoji.includes(emoji)\r\n      ? this._emoji.splice(this._emoji.indexOf(emoji), 1)\r\n      : this._emoji.push(emoji);\r\n  }\r\n\r\n  toggleDoneState() {\r\n    this._done = !this._done;\r\n  }\r\n\r\n  getChildren() {\r\n    return this._children;\r\n  }\r\n\r\n  setAllChildrenDoneState(state) {\r\n    this._children.forEach((c) => (c.done = state ? true : false));\r\n  }\r\n\r\n  delete() {\r\n    const index = this._parentNode._children.indexOf(this);\r\n    this._parentNode.children.splice(index, 1);\r\n  }\r\n\r\n  setSetting(key, value) {\r\n    if (this._settings[key] === undefined) return;\r\n    this._settings[key] = value;\r\n  }\r\n\r\n  toggleSetting(key) {\r\n    if (\r\n      this._settings[key] === undefined ||\r\n      typeof this._settings[key] !== \"boolean\"\r\n    )\r\n      return;\r\n    this.setSetting(key, !this._settings[key]);\r\n  }\r\n\r\n  parseName() {\r\n    this._name = this._name.trim();\r\n    const weight = this._name.match(/\\s\\d+$/gm);\r\n    const pseudoChildrenProgress = this._name.match(/\\s\\d+\\/\\d+/gm);\r\n    if (weight?.length) {\r\n      this._weight = parseInt(weight[0]);\r\n      // this._name = this._name.slice(0, -weight[0].length);\r\n      this._virtualChildrenAmount = 0;\r\n      this._virtualFinishedChildrenAmount = 0;\r\n    } else if (pseudoChildrenProgress?.length) {\r\n      const spl = pseudoChildrenProgress[0].split(\"/\");\r\n      if (spl.length === 2) {\r\n        const finished = parseInt(spl[0]);\r\n        const total = parseInt(spl[1]);\r\n        if (finished <= total) {\r\n          this._virtualFinishedChildrenAmount = finished;\r\n          this._virtualChildrenAmount = total;\r\n        }\r\n      }\r\n      this._name = this._name.slice(0, -pseudoChildrenProgress[0].length);\r\n    }\r\n  }\r\n\r\n  export() {\r\n    return parse(this);\r\n    function parse(data) {\r\n      const node = {\r\n        name: data.name,\r\n        children: data.getChildren()?.length\r\n          ? data.getChildren().map((c) => {\r\n              if (c.getChildren().length) {\r\n                return parse(c);\r\n              } else {\r\n                const child = {\r\n                  name: c.name,\r\n                };\r\n                assign(child, c);\r\n                return child;\r\n              }\r\n            })\r\n          : [],\r\n      };\r\n      assign(node, data);\r\n      return node;\r\n    }\r\n    function assign(node, data) {\r\n      if (data.collapsed) node.collapsed = true;\r\n      if (data.done) node.done = true;\r\n      if (data.emoji?.length) node.emoji = data.emoji;\r\n      if (data.weight > 1) node.weight = data.weight;\r\n      if (data._virtualChildrenAmount > 0)\r\n        node.virtualChildren = data._virtualChildrenAmount;\r\n      if (data._virtualFinishedChildrenAmount > 0)\r\n        node.virtualFinishedChildren = data._virtualFinishedChildrenAmount;\r\n      if (\r\n        JSON.stringify(data.settings) !== JSON.stringify(NodeDefaultSettings)\r\n      ) {\r\n        node.settings = {};\r\n        Object.entries(data.settings).forEach(([k, v]) => {\r\n          if (v !== NodeDefaultSettings[k]) node.settings[k] = v;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  addWeight(weight) {\r\n    if (typeof weight === \"number\") {\r\n      if (this._weight + weight > 0) this._weight += weight;\r\n      else this._weight = 1;\r\n    } else {\r\n      this._weight = 1;\r\n    }\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n  get parent() {\r\n    return this._parentNode;\r\n  }\r\n  get children() {\r\n    return this.collapsed ? [] : this._children;\r\n  }\r\n\r\n  get collapsed() {\r\n    return this._collapsed;\r\n  }\r\n\r\n  get name() {\r\n    return this._name || `node #${this._gid}`;\r\n  }\r\n\r\n  get editing() {\r\n    return this._editing;\r\n  }\r\n\r\n  get depth() {\r\n    return this._depth;\r\n  }\r\n\r\n  get childrenLength() {\r\n    return this._children.length;\r\n  }\r\n\r\n  get totalChildrenTasks() {\r\n    if (this._virtualChildrenAmount > 0) {\r\n      return this._virtualChildrenAmount;\r\n    }\r\n    let sum = 0;\r\n    this._children.forEach((c) => {\r\n      sum += 1;\r\n      if (c._virtualChildrenAmount > 0) {\r\n        sum += c._virtualChildrenAmount;\r\n      } else if (c._children.length) {\r\n        sum += c.totalChildrenTasks;\r\n      }\r\n    });\r\n    return sum;\r\n  }\r\n\r\n  get finishedChildrenTasks() {\r\n    if (this._virtualFinishedChildrenAmount > 0) {\r\n      return this._virtualFinishedChildrenAmount;\r\n    }\r\n    if (this._children.length) {\r\n      let sum = 0;\r\n      this._children.forEach((c) => {\r\n        sum += c.done ? 1 : 0;\r\n        if (c._virtualFinishedChildrenAmount > 0) {\r\n          sum += c._virtualFinishedChildrenAmount;\r\n        } else if (c._children.length) {\r\n          sum += c.finishedChildrenTasks;\r\n        }\r\n      });\r\n      return sum;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  get firstEdit() {\r\n    return this._firstEdit;\r\n  }\r\n\r\n  get emoji() {\r\n    return this._emoji;\r\n  }\r\n\r\n  get done() {\r\n    return this._done;\r\n  }\r\n\r\n  get progress() {\r\n    const { percentage } = this._settings.deepProgress\r\n      ? this.deepProgress\r\n      : this.shallowProgress;\r\n\r\n    return percentage;\r\n  }\r\n\r\n  get deepProgress() {\r\n    if (this._virtualFinishedChildrenAmount > 0) {\r\n      const sum = this._virtualFinishedChildrenAmount;\r\n      const totalNodes = this._virtualChildrenAmount;\r\n      const percentage = ((sum / totalNodes) * 100).toFixed(0);\r\n      return { sum, totalNodes, percentage };\r\n    } else if (this._children.length) {\r\n      let sum = 0;\r\n      let totalWeight = this._children.reduce(\r\n        (a, c) => (a += c.weight || 1),\r\n        0\r\n      );\r\n\r\n      this._children.forEach((c) => {\r\n        sum += c.done ? c.weight || 1 : 0;\r\n        if (c._virtualChildrenAmount > 0) {\r\n          sum += c._virtualFinishedChildrenAmount;\r\n          totalWeight += c._virtualChildrenAmount;\r\n        } else if (c._children.length) {\r\n          let { sum: cSum, totalNodes: cTN } = c.deepProgress;\r\n          sum += cSum;\r\n          totalWeight += cTN;\r\n        }\r\n      });\r\n      return {\r\n        sum,\r\n        totalNodes: totalWeight,\r\n        percentage: ((sum / totalWeight) * 100).toFixed(0),\r\n      };\r\n    }\r\n    return { sum: 0, totalNodes: 0, percentage: 0 };\r\n  }\r\n\r\n  get shallowProgress() {\r\n    if (this._virtualFinishedChildrenAmount > 0) {\r\n      const sum = this._virtualFinishedChildrenAmount;\r\n      const totalNodes = this._virtualChildrenAmount;\r\n      const percentage = ((sum / totalNodes) * 100).toFixed(0);\r\n      return { sum, totalNodes, percentage };\r\n    } else if (this._children.length) {\r\n      let sum = 0;\r\n      let totalWeight = this._children.reduce(\r\n        (a, c) => (a += c.weight || 1),\r\n        0\r\n      );\r\n      this._children.forEach((c) => (sum += c.done ? c.weight || 1 : 0));\r\n      return {\r\n        sum,\r\n        totalNodes: totalWeight,\r\n        percentage: ((sum / totalWeight) * 100).toFixed(0),\r\n      };\r\n    }\r\n    return { sum: 0, totalNodes: 0, percentage: 0 };\r\n  }\r\n\r\n  get settings() {\r\n    return this._settings;\r\n  }\r\n\r\n  get canDrillDown() {\r\n    return !this.isRoot;\r\n  }\r\n\r\n  get canDrillUp() {\r\n    return this.isRoot && this._parentNode != null;\r\n  }\r\n\r\n  get collapsible() {\r\n    return !this._collapsed && this.childrenLength > 0;\r\n  }\r\n\r\n  get expandable() {\r\n    return this._collapsed;\r\n  }\r\n\r\n  get draggable() {\r\n    return !this.isRoot;\r\n  }\r\n\r\n  get deletable() {\r\n    return !this.isRoot;\r\n  }\r\n\r\n  get weight() {\r\n    return this._weight;\r\n  }\r\n\r\n  set id(value) {\r\n    this._id = value;\r\n  }\r\n\r\n  set name(value) {\r\n    this._name = value;\r\n    this.editing = false;\r\n  }\r\n\r\n  set editing(value) {\r\n    this._editing = value;\r\n    if (this._firstEdit && value === false) this._firstEdit = false;\r\n  }\r\n\r\n  set collapsed(value) {\r\n    if (this._children.length) this._collapsed = value;\r\n  }\r\n\r\n  set children(value) {\r\n    this._children = value;\r\n  }\r\n\r\n  set parent(value) {\r\n    this._parentNode = value;\r\n  }\r\n\r\n  set done(value) {\r\n    this._done = value ? true : false;\r\n  }\r\n\r\n  set weight(value) {\r\n    if (typeof value === \"number\") this._weight = value;\r\n  }\r\n}\r\n","import { store } from \"@/store/index\";\r\n/** @type {import(\"./node\").Node} */\r\nimport { Node } from \"@/node\";\r\n\r\nclass Tree {\r\n  constructor() {\r\n    this._gidCounter = 1;\r\n    this._root = new Node(0, 0, null, 0, { name: \"root\", isRoot: true });\r\n    this.lastNode = this._root;\r\n    this._query = [];\r\n    this.loaded = false;\r\n    store.dispatch(\"getTreeData\").then((data) => {\r\n      this.parseTreeData(data);\r\n      this.loaded = true;\r\n    });\r\n  }\r\n\r\n  addSibling() {\r\n    // if (this._lastNode.editing) {\r\n    //   this._lastNode.editing = false;\r\n    //   this._lastNode._name = this._lastNode._name.trim();\r\n    //   return;\r\n    // }\r\n    const node = this.createNode(\r\n      this.lastNodeID,\r\n      this.lastNodeParent ? this.lastNodeParent : this._root,\r\n      this._lastNode.depth || 1\r\n    );\r\n\r\n    this.lastNodeParent\r\n      ? this.pushNode(this.lastNodeParent.children, node)\r\n      : this.pushNode(this._root.children, node);\r\n    this.lastNode = node;\r\n  }\r\n\r\n  addChild() {\r\n    // if (this._lastNode.editing) {\r\n    //   this._lastNode.editing = false;\r\n    //   this._lastNode._name = this._lastNode._name.trim();\r\n    // }\r\n    const id = this._lastNode\r\n      ? this._lastNode.children.length\r\n      : this.lastNodeID;\r\n\r\n    const node = this.createNode(\r\n      id,\r\n      this._lastNode,\r\n      (this._lastNode.depth || 0) + 1\r\n    );\r\n\r\n    this._lastNode\r\n      ? this.pushNode(this._lastNode.children, node)\r\n      : this.pushNode(this._root, node);\r\n\r\n    this.lastNode = node;\r\n    this.lastNodeParent.collapsed = false;\r\n  }\r\n\r\n  pushNode(destination, node) {\r\n    destination.push(node);\r\n  }\r\n\r\n  createNode(id = 0, parent = null, depth) {\r\n    return new Node(this.counter, id, parent, depth);\r\n  }\r\n\r\n  deleteLastNode(options = { force: false }) {\r\n    if ((this._lastNode.editing || !this.lastNodeParent) && !options.force)\r\n      return;\r\n    let newLast = null;\r\n\r\n    if (this._lastNode.id - 1 >= 0) {\r\n      newLast = this.lastNodeParent.children[this._lastNode.id - 1];\r\n    } else if (this.lastNodeParent?.parent?.children) {\r\n      newLast = this.lastNodeParent.parent.children[\r\n        this.lastNodeParent.parent.children.length - 1\r\n      ];\r\n    } else {\r\n      newLast = this.lastNodeParent;\r\n    }\r\n    this.lastNodeParent.children.splice(this._lastNode.id, 1);\r\n    this.lastNode = newLast;\r\n  }\r\n\r\n  collapseLastNode() {\r\n    if (this._lastNode.editing) return;\r\n    this._lastNode.collapsed = !this._lastNode.collapsed;\r\n  }\r\n\r\n  blurLastNode(triggerNode) {\r\n    if (!triggerNode || this._lastNode._gid !== triggerNode._gid) return;\r\n    this._lastNode._firstEdit\r\n      ? this.deleteLastNode({ force: true })\r\n      : (this._lastNode.editing = false);\r\n  }\r\n\r\n  goUp() {\r\n    if (this._lastNode.editing) return;\r\n    if (this._lastNode.id - 1 >= 0) {\r\n      this.lastNode = this.lastNodeParent.children[this._lastNode.id - 1];\r\n    } else {\r\n      if (this.lastNodeParent?.id > 0 && this.lastNodeParent.parent) {\r\n        let closestTopNode;\r\n        for (let i = this.lastNodeParent.id - 1; i >= 0; i--) {\r\n          if (this.lastNodeParent.parent.children[i].children.length) {\r\n            closestTopNode = this.lastNodeParent.parent.children[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (closestTopNode)\r\n          this.lastNode =\r\n            closestTopNode.children[closestTopNode.children.length - 1];\r\n      }\r\n    }\r\n  }\r\n  goDown() {\r\n    if (this._lastNode.editing || !this.lastNodeParent) return;\r\n    if (this._lastNode.id + 1 < this.lastNodeParent.children.length) {\r\n      this.lastNode = this.lastNodeParent.children[this._lastNode.id + 1];\r\n    } else {\r\n      if (\r\n        this.lastNodeParent.parent &&\r\n        this.lastNodeParent.id < this.lastNodeParent.parent.children.length\r\n      ) {\r\n        let closestBottomNode;\r\n        for (\r\n          let i = this.lastNodeParent.id + 1;\r\n          i < this.lastNodeParent.parent.children.length;\r\n          i++\r\n        ) {\r\n          if (this.lastNodeParent.parent.children[i].children.length) {\r\n            closestBottomNode = this.lastNodeParent.parent.children[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (closestBottomNode) this.lastNode = closestBottomNode.children[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  goLeft() {\r\n    if (this._lastNode.editing) return;\r\n    if (!this._lastNode?.parent?.parent) return;\r\n    this.lastNode = this._lastNode.parent;\r\n  }\r\n\r\n  goRight() {\r\n    if (this._lastNode.editing) return;\r\n    if (!this._lastNode || !this._lastNode.children.length) return;\r\n    let index = Math.floor(this._lastNode.children.length / 2);\r\n    this.lastNode = this._lastNode.children[index];\r\n  }\r\n\r\n  getChildren() {\r\n    return this._root._children;\r\n  }\r\n\r\n  cloneNode(node, destination, position) {\r\n    const self = this;\r\n    function deepClone(node, parent) {\r\n      const newNode = new Node(\r\n        self.counter,\r\n        node.id,\r\n        parent,\r\n        node.depth,\r\n        assign(node)\r\n      );\r\n      newNode.children = node.getChildren().map((n) => deepClone(n, newNode));\r\n      return newNode;\r\n    }\r\n    const newNode =\r\n      position === \"bottom\" || position === \"top\"\r\n        ? deepClone(node, destination.parent)\r\n        : deepClone(node, destination);\r\n    node.delete();\r\n    if (!position || position === \"right\") {\r\n      destination.addChild(newNode);\r\n    } else if (!position || position === \"top\") {\r\n      destination.parent.addChildAtIndex(\r\n        newNode,\r\n        destination.parent._children.indexOf(destination)\r\n      );\r\n    } else if (!position || position === \"bottom\") {\r\n      destination.parent.addChildAtIndex(\r\n        newNode,\r\n        destination.parent._children.indexOf(destination) + 1\r\n      );\r\n    } else {\r\n      return;\r\n    }\r\n    this.lastNode = newNode;\r\n  }\r\n\r\n  export() {\r\n    const root = this._query.length ? this._query[0] : this._root;\r\n    return root.export();\r\n  }\r\n\r\n  import(nodes) {\r\n    if (!nodes?.children?.length) return;\r\n    const self = this;\r\n    for (let node of nodes.children) {\r\n      parse(node, this.lastNode);\r\n    }\r\n    function parse(data, parent) {\r\n      let newNode = new Node(\r\n        self.counter,\r\n        parent.children.length,\r\n        parent,\r\n        parent.depth + 1 || 0,\r\n        assign(data)\r\n      );\r\n      newNode.children = data.children?.length\r\n        ? parseChildren(data, newNode)\r\n        : [];\r\n      parent.children.push(newNode);\r\n    }\r\n\r\n    function parseChildren(data, parent) {\r\n      return data?.children?.map((child, index) => {\r\n        let newNode = new Node(\r\n          self.counter,\r\n          index,\r\n          parent,\r\n          parent.depth + 1,\r\n          assign(child)\r\n        );\r\n        newNode.children = child.children?.length\r\n          ? parseChildren(child, newNode)\r\n          : [];\r\n        return newNode;\r\n      });\r\n    }\r\n  }\r\n\r\n  parseTreeData(treeData) {\r\n    if (!treeData) return;\r\n    const self = this;\r\n    this._root.name = treeData.name ? treeData.name : \"root\";\r\n    this._root.children = [];\r\n    this._lastNode = this._root;\r\n    this._gidCounter = 1;\r\n    if (!treeData.children) return;\r\n    for (let node of treeData.children) {\r\n      parse(node, this._root);\r\n    }\r\n\r\n    function parse(data, parent) {\r\n      let newNode = new Node(\r\n        self.counter,\r\n        parent.children.length,\r\n        parent,\r\n        parent.depth + 1 || 0,\r\n        assign(data)\r\n      );\r\n      newNode.children = data.children?.length\r\n        ? parseChildren(data, newNode)\r\n        : [];\r\n      parent.children.push(newNode);\r\n    }\r\n\r\n    function parseChildren(data, parent) {\r\n      return data?.children?.map((child, index) => {\r\n        let newNode = new Node(\r\n          self.counter,\r\n          index,\r\n          parent,\r\n          parent.depth + 1,\r\n          assign(child)\r\n        );\r\n        newNode.children = child.children?.length\r\n          ? parseChildren(child, newNode)\r\n          : [];\r\n        return newNode;\r\n      });\r\n    }\r\n  }\r\n\r\n  spliceRootsQuery(spliceAmount) {\r\n    if (spliceAmount <= 0 || spliceAmount > this._query.length) return;\r\n    if (spliceAmount > 1)\r\n      this._query = this._query.slice(0, -(spliceAmount - 1));\r\n    const newRoot = this._query.pop();\r\n    this._root.isRoot = false;\r\n    newRoot.isRoot = true;\r\n    this._root = newRoot;\r\n  }\r\n\r\n  pushRootToQuery(newRoot) {\r\n    if (!newRoot || !(newRoot instanceof Node)) return;\r\n    this._query.push(this._root);\r\n    newRoot.collapsed = false;\r\n    this._root.isRoot = false;\r\n    newRoot.isRoot = true;\r\n    this._root = newRoot;\r\n  }\r\n\r\n  sortLastNode(by, direction) {\r\n    console.log(by, direction);\r\n    this.lastNode._children.sort((a, b) => (a.name < b.name ? -1 : 1));\r\n  }\r\n\r\n  get lastNodeID() {\r\n    return this.lastNodeParent\r\n      ? this.lastNodeParent.children.length\r\n      : this._root.children.length;\r\n  }\r\n\r\n  get lastNode() {\r\n    return this._lastNode;\r\n  }\r\n\r\n  get lastNodeParent() {\r\n    return this._lastNode?.parent || null;\r\n  }\r\n\r\n  get counter() {\r\n    return this._gidCounter++;\r\n  }\r\n\r\n  get root() {\r\n    return this._root;\r\n  }\r\n\r\n  get query() {\r\n    return this._query;\r\n  }\r\n\r\n  get hasQuery() {\r\n    return this._query?.length > 0 ? true : false;\r\n  }\r\n\r\n  set lastNode(node) {\r\n    if (!(node instanceof Node))\r\n      return !node?._root\r\n        ? console.error(`${node} is not instance of Node`)\r\n        : null;\r\n    if (this._lastNode === node) return;\r\n    if (this?._lastNode?.editing) this._lastNode.editing = false;\r\n    this._lastNode = node;\r\n  }\r\n}\r\n\r\nfunction assign(data) {\r\n  return Object.assign(\r\n    {},\r\n    {\r\n      name: data.name,\r\n      firstEdit: data.firstEdit || false,\r\n      collapsed: data.collapsed || false,\r\n      emoji: data.emoji,\r\n      done: data.done,\r\n      weight: data.weight || 1,\r\n      virtualChildren: data.virtualChildren,\r\n      virtualFinishedChildren: data.virtualFinishedChildren,\r\n      settings: data.settings,\r\n    }\r\n  );\r\n}\r\n\r\nexport const tree = new Tree();\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tabs-component\"},[_c('ul',{staticClass:\"tabs-component-tabs\",attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.isVisible),expression:\"tab.isVisible\"}],key:i,staticClass:\"tabs-component-tab\",class:{ active: tab.isActive, disabled: tab.isDisabled },attrs:{\"role\":\"presentation\"},on:{\"click\":function($event){return _vm.selectTab(tab.hash, $event)}}},[_c('span',{staticClass:\"tabs-component-tab-a\",attrs:{\"aria-controls\":tab.hash,\"aria-selected\":tab.isActive,\"href\":tab.hash,\"role\":\"tab\"},domProps:{\"innerHTML\":_vm._s(tab.header)}})])}),0),_c('div',{staticClass:\"tabs-component-panels\"},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tabs-component\">\r\n    <ul role=\"tablist\" class=\"tabs-component-tabs\">\r\n      <li\r\n        v-for=\"(tab, i) in tabs\"\r\n        :key=\"i\"\r\n        :class=\"{ active: tab.isActive, disabled: tab.isDisabled }\"\r\n        class=\"tabs-component-tab\"\r\n        role=\"presentation\"\r\n        v-show=\"tab.isVisible\"\r\n        @click=\"selectTab(tab.hash, $event)\"\r\n      >\r\n        <span\r\n          v-html=\"tab.header\"\r\n          :aria-controls=\"tab.hash\"\r\n          :aria-selected=\"tab.isActive\"\r\n          :href=\"tab.hash\"\r\n          class=\"tabs-component-tab-a\"\r\n          role=\"tab\"\r\n        ></span>\r\n      </li>\r\n    </ul>\r\n    <div class=\"tabs-component-panels\">\r\n      <slot />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    cacheLifetime: {\r\n      default: 5,\r\n    },\r\n    options: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({\r\n        useUrlFragment: true,\r\n        defaultTabHash: null,\r\n      }),\r\n    },\r\n  },\r\n  data: () => ({\r\n    tabs: [],\r\n    activeTabHash: \"\",\r\n    activeTabIndex: 0,\r\n    lastActiveTabHash: \"\",\r\n  }),\r\n  computed: {\r\n    storageKey() {\r\n      return `vue-tabs-component.cache.${window.location.host}${window.location.pathname}`;\r\n    },\r\n  },\r\n  created() {\r\n    this.tabs = this.$children;\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"hashchange\", () =>\r\n      this.selectTab(window.location.hash)\r\n    );\r\n    if (this.findTab(window.location.hash)) {\r\n      this.selectTab(window.location.hash);\r\n      return;\r\n    }\r\n    const previousSelectedTabHash = \"\";\r\n    if (this.findTab(previousSelectedTabHash)) {\r\n      this.selectTab(previousSelectedTabHash);\r\n      return;\r\n    }\r\n    if (\r\n      this.options.defaultTabHash !== null &&\r\n      this.findTab(\"#\" + this.options.defaultTabHash)\r\n    ) {\r\n      this.selectTab(\"#\" + this.options.defaultTabHash);\r\n      return;\r\n    }\r\n    if (this.tabs.length) {\r\n      this.selectTab(this.tabs[0].hash);\r\n    }\r\n  },\r\n  methods: {\r\n    findTab(hash) {\r\n      return this.tabs.find((tab) => tab.hash === hash);\r\n    },\r\n    selectTab(selectedTabHash, event) {\r\n      // See if we should store the hash in the url fragment.\r\n      if (event && !this.options.useUrlFragment) {\r\n        event.preventDefault();\r\n      }\r\n      const selectedTab = this.findTab(selectedTabHash);\r\n      if (!selectedTab) {\r\n        return;\r\n      }\r\n      if (selectedTab.isDisabled) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n      if (this.lastActiveTabHash === selectedTab.hash) {\r\n        this.$emit(\"clicked\", { tab: selectedTab });\r\n        return;\r\n      }\r\n      this.tabs.forEach((tab) => {\r\n        tab.isActive = tab.hash === selectedTab.hash;\r\n      });\r\n      this.$emit(\"changed\", { tab: selectedTab });\r\n      this.activeTabHash = selectedTab.hash;\r\n      this.activeTabIndex = this.getTabIndex(selectedTabHash);\r\n      this.lastActiveTabHash = this.activeTabHash = selectedTab.hash;\r\n    },\r\n    setTabVisible(hash, visible) {\r\n      const tab = this.findTab(hash);\r\n      if (!tab) {\r\n        return;\r\n      }\r\n      tab.isVisible = visible;\r\n      if (tab.isActive) {\r\n        // If tab is active, set a different one as active.\r\n        tab.isActive = visible;\r\n        this.tabs.every((tab) => {\r\n          if (tab.isVisible) {\r\n            tab.isActive = true;\r\n            return false;\r\n          }\r\n          return true;\r\n        });\r\n      }\r\n    },\r\n\r\n    getTabIndex(hash) {\r\n      const tab = this.findTab(hash);\r\n\r\n      return this.tabs.indexOf(tab);\r\n    },\r\n\r\n    getTabHash(index) {\r\n      const tab = this.tabs.find((tab) => this.tabs.indexOf(tab) === index);\r\n\r\n      if (!tab) {\r\n        return;\r\n      }\r\n\r\n      return tab.hash;\r\n    },\r\n\r\n    getActiveTab() {\r\n      return this.findTab(this.activeTabHash);\r\n    },\r\n\r\n    getActiveTabIndex() {\r\n      return this.getTabIndex(this.activeTabHash);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.tabs-component-tabs {\r\n  display: flex;\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  justify-content: space-around;\r\n  gap: 0.5rem;\r\n\r\n  .tabs-component-tab {\r\n    flex: 1 1 50%;\r\n    padding: 0.5rem 0;\r\n    text-align: center;\r\n    border-radius: 0.5rem;\r\n    box-sizing: border-box;\r\n    background-color: var(--primary-clr);\r\n    &.active {\r\n      border: 2px solid var(--secondary-clr);\r\n    }\r\n\r\n    &.disabled {\r\n      border: 2px solid var(--primary-clr);\r\n      background-color: white;\r\n      color: grey;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n.tabs-component-panel {\r\n  padding: 0.5rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=0d195260&scoped=true&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=0d195260&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d195260\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"tabs-component-panel\",attrs:{\"aria-hidden\":!_vm.isActive,\"id\":_vm.computedId,\"role\":\"tabpanel\"}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section\r\n    v-show=\"isActive\"\r\n    :aria-hidden=\"!isActive\"\r\n    class=\"tabs-component-panel\"\r\n    :id=\"computedId\"\r\n    role=\"tabpanel\"\r\n  >\r\n    <slot />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    id: { default: null },\r\n    name: { required: true },\r\n    prefix: { default: \"\" },\r\n    suffix: { default: \"\" },\r\n    isDisabled: { default: false },\r\n  },\r\n  data: () => ({\r\n    isActive: false,\r\n    isVisible: true,\r\n  }),\r\n  computed: {\r\n    header() {\r\n      return this.prefix + this.name + this.suffix;\r\n    },\r\n    computedId() {\r\n      return this.id ? this.id : this.name.toLowerCase().replace(/ /g, \"-\");\r\n    },\r\n    hash() {\r\n      if (this.isDisabled) {\r\n        return \"#\";\r\n      }\r\n      return \"#\" + this.computedId;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=0bf228e4&\"\nimport script from \"./Tab.vue?vue&type=script&lang=js&\"\nexport * from \"./Tab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <tabs>\r\n      <tab name=\"Import From File\">\r\n        <div class=\"import-tab\">\r\n          <div class=\"checkbox\" :class=\"{ checked: importToSelectedNode }\">\r\n            <label class=\"checkbox-label\" for=\"import-to-selected-from-file\"\r\n              >Import to selected node</label\r\n            >\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"import-to-selected-from-file\"\r\n              v-model=\"importToSelectedNode\"\r\n            />\r\n          </div>\r\n\r\n          <span>\r\n            <input type=\"file\" ref=\"file\" @change=\"fileChange\" />\r\n          </span>\r\n          <div class=\"import-button\">\r\n            <button @click=\"importFromFile\">Import</button>\r\n          </div>\r\n        </div>\r\n      </tab>\r\n      <tab name=\"Import From Clipboard\">\r\n        <div class=\"import-tab\">\r\n          <small\r\n            >This feature requires Clipboard permission and doesn't work if it's\r\n            not granted</small\r\n          >\r\n          <div class=\"checkbox\" :class=\"{ checked: importToSelectedNode }\">\r\n            <label\r\n              class=\"checkbox-label\"\r\n              for=\"import-to-selected-from-clipboard\"\r\n              >Import to current node</label\r\n            >\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"import-to-selected-from-clipboard\"\r\n              v-model=\"importToSelectedNode\"\r\n            />\r\n          </div>\r\n          <div class=\"import-button\">\r\n            <button @click=\"importFromClipboard\">Import</button>\r\n          </div>\r\n        </div>\r\n      </tab>\r\n    </tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { tree } from \"@/tree\";\r\nimport Tabs from \"@/components/common/Tabs\";\r\nimport Tab from \"@/components/common/Tab\";\r\n\r\nexport default {\r\n  name: \"ImportJSON\",\r\n  components: { Tabs, Tab },\r\n  data() {\r\n    return {\r\n      file: null,\r\n      importToSelectedNode: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    fileChange() {\r\n      this.file = this.$refs.file.files[0];\r\n      if (!this.file) return;\r\n      if (this.file?.type !== \"application/json\") {\r\n        this.file = null;\r\n        return alert(\"Improted file should have .json extension\");\r\n      }\r\n    },\r\n    importFromFile() {\r\n      if (!this.file) return;\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        if (!e.target?.result) return;\r\n        tree.import(JSON.parse(e.target.result));\r\n        this.$modal.hide(\"import-export-modal\");\r\n      };\r\n\r\n      reader.readAsText(this.file);\r\n    },\r\n    importFromClipboard() {\r\n      navigator.clipboard\r\n        .readText()\r\n        .then((text) => {\r\n          tree.import(JSON.parse(text));\r\n          this.$modal.hide(\"import-export-modal\");\r\n        })\r\n        .catch((err) => {\r\n          alert(\r\n            \"Failed to import from clipboard\\nYou see this error either becuase there Clipboard permission is not granted,\\nor clipboard content is not a valid JSON\",\r\n            err\r\n          );\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  padding: 0.5rem;\r\n\r\n  label:not(.checkbox-label) {\r\n    display: block;\r\n    font-size: 0.9rem;\r\n    margin: 0;\r\n  }\r\n  .import-tab {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .row {\r\n      display: flex;\r\n      justify-content: space-around;\r\n    }\r\n\r\n    .import-button {\r\n      align-self: flex-end;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportJSON.vue?vue&type=template&id=726764da&scoped=true&\"\nimport script from \"./ImportJSON.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportJSON.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportJSON.vue?vue&type=style&index=0&id=726764da&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"726764da\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('tabs',[_c('tab',{attrs:{\"name\":\"Show In New Tab\"}},[_c('div',{staticClass:\"export-tab\"},[_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.exportSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"export-selected-new-tab\"}},[_vm._v(\"Export from selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exportSelectedNode),expression:\"exportSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"export-selected-new-tab\"},domProps:{\"checked\":Array.isArray(_vm.exportSelectedNode)?_vm._i(_vm.exportSelectedNode,null)>-1:(_vm.exportSelectedNode)},on:{\"change\":function($event){var $$a=_vm.exportSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.exportSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.exportSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.exportSelectedNode=$$c}}}})]),_c('div',{staticClass:\"export-button\"},[_c('button',{on:{\"click\":_vm.showInNewTab}},[_vm._v(\"Export\")])])])]),_c('tab',{attrs:{\"name\":\"Download File\"}},[_c('div',{staticClass:\"export-tab\"},[_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"name-input\"},[_c('label',{attrs:{\"for\":\"export-file-name\"}},[_vm._v(\"Filename\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filename),expression:\"filename\"}],attrs:{\"id\":\"export-file-name\",\"type\":\"text\",\"placeholder\":_vm.defaultFilename},domProps:{\"value\":(_vm.filename)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing)return;_vm.filename=$event.target.value}}})]),_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.exportSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"export-selected-download\"}},[_vm._v(\"Export from selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exportSelectedNode),expression:\"exportSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"export-selected-download\"},domProps:{\"checked\":Array.isArray(_vm.exportSelectedNode)?_vm._i(_vm.exportSelectedNode,null)>-1:(_vm.exportSelectedNode)},on:{\"change\":function($event){var $$a=_vm.exportSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.exportSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.exportSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.exportSelectedNode=$$c}}}})])]),_c('div',{staticClass:\"export-button\"},[_c('button',{on:{\"click\":_vm.downloadFile}},[_vm._v(\"Export\")])])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <tabs>\r\n      <tab name=\"Show In New Tab\">\r\n        <div class=\"export-tab\">\r\n          <div class=\"checkbox\" :class=\"{ checked: exportSelectedNode }\">\r\n            <label class=\"checkbox-label\" for=\"export-selected-new-tab\"\r\n              >Export from selected node</label\r\n            >\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"export-selected-new-tab\"\r\n              v-model=\"exportSelectedNode\"\r\n            />\r\n          </div>\r\n          <div class=\"export-button\">\r\n            <button @click=\"showInNewTab\">Export</button>\r\n          </div>\r\n        </div>\r\n      </tab>\r\n      <tab name=\"Download File\">\r\n        <div class=\"export-tab\">\r\n          <div class=\"row\">\r\n            <span class=\"name-input\">\r\n              <label for=\"export-file-name\">Filename</label>\r\n              <input\r\n                id=\"export-file-name\"\r\n                @keydown.stop\r\n                type=\"text\"\r\n                v-model=\"filename\"\r\n                :placeholder=\"defaultFilename\"\r\n              />\r\n            </span>\r\n\r\n            <div class=\"checkbox\" :class=\"{ checked: exportSelectedNode }\">\r\n              <label class=\"checkbox-label\" for=\"export-selected-download\"\r\n                >Export from selected node</label\r\n              >\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"export-selected-download\"\r\n                v-model=\"exportSelectedNode\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"export-button\">\r\n            <button @click=\"downloadFile\">Export</button>\r\n          </div>\r\n        </div>\r\n      </tab>\r\n    </tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { tree } from \"@/tree\";\r\nimport Tabs from \"@/components/common/Tabs\";\r\nimport Tab from \"@/components/common/Tab\";\r\n\r\nexport default {\r\n  name: \"ExportJSON\",\r\n  components: { Tabs, Tab },\r\n  data() {\r\n    return {\r\n      exportSelectedNode: false,\r\n      filename: \"\",\r\n      defaultFilename: \"tree-data\",\r\n    };\r\n  },\r\n  methods: {\r\n    stringifiedTree() {\r\n      return JSON.stringify(\r\n        this.exportSelectedNode ? tree.lastNode.export() : tree.export(),\r\n        null,\r\n        \"  \"\r\n      );\r\n    },\r\n\r\n    showInNewTab() {\r\n      let text = this.stringifiedTree();\r\n      var tab = window.open(\"about:blank\", \"_blank\");\r\n      tab.document.write(`<pre>${text}</pre>`); // where 'html' is a variable containing your HTML\r\n      tab.document.close(); // to finish loading the page\r\n    },\r\n    downloadFile() {\r\n      let text = this.stringifiedTree();\r\n\r\n      let blob = new Blob([text], { type: \"application/json\" });\r\n      let anchor = document.createElement(\"a\");\r\n      anchor.download = `${this.filename || this.defaultFilename}.json`;\r\n      anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);\r\n      anchor.dataset.downloadurl = [\r\n        \"application/json\",\r\n        anchor.download,\r\n        anchor.href,\r\n      ].join(\":\");\r\n      anchor.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  padding: 0.5rem;\r\n\r\n  .export-tab {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    label:not(.checkbox-label) {\r\n      display: block;\r\n      font-size: 0.9rem;\r\n      margin: 0;\r\n    }\r\n\r\n    .row {\r\n      display: flex;\r\n      justify-content: space-around;\r\n\r\n      div {\r\n        align-self: center;\r\n      }\r\n    }\r\n\r\n    .export-button {\r\n      align-self: flex-end;\r\n    }\r\n\r\n    .name-input {\r\n      // flex: 1 1 30%;\r\n      input {\r\n        height: 2rem;\r\n        border-radius: 0.4rem;\r\n        border: none;\r\n        outline: none;\r\n        background-color: var(--primary-clr);\r\n        box-sizing: border-box;\r\n        padding-left: 0.5rem;\r\n        &:focus {\r\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportJSON.vue?vue&type=template&id=a7b00144&scoped=true&\"\nimport script from \"./ExportJSON.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportJSON.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportJSON.vue?vue&type=style&index=0&id=a7b00144&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7b00144\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <modal\r\n    class=\"helper\"\r\n    name=\"import-export-modal\"\r\n    :adaptive=\"true\"\r\n    height=\"auto\"\r\n    width=\"30%\"\r\n    @before-open=\"beforeOpen\"\r\n  >\r\n    <import-JSON v-if=\"currTab === 'import'\"></import-JSON>\r\n    <export-JSON v-else></export-JSON>\r\n  </modal>\r\n</template>\r\n<script>\r\nimport ImportJSON from \"@/components/ImportJSON\";\r\nimport ExportJSON from \"@/components/ExportJSON\";\r\n\r\nexport default {\r\n  name: \"ImportExportModal\",\r\n  components: {\r\n    ImportJSON,\r\n    ExportJSON,\r\n  },\r\n  data() {\r\n    return {\r\n      currTab: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    beforeOpen(e) {\r\n      this.currTab = e.params;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.helper {\r\n  user-select: none;\r\n}\r\n\r\n::v-deep .checkbox {\r\n  width: fit-content;\r\n  border: 2px solid var(--primary-clr);\r\n  padding: 0.2rem;\r\n  border-radius: 0.2rem;\r\n\r\n  .checkbox-label {\r\n    margin: 0 0.2rem 0 0;\r\n  }\r\n\r\n  &.checked {\r\n    border: 2px solid var(--secondary-clr);\r\n    background-color: var(--primary-clr);\r\n  }\r\n\r\n  input[type=\"checkbox\"] {\r\n    -webkit-appearance: none;\r\n    outline: none;\r\n    // &:checked::before {\r\n    //   content: \"\\2713\";\r\n    //   color: rgba(32, 32, 32, 0.857);\r\n    // }\r\n    // &::before {\r\n    //   content: \"\\2715\";\r\n    //   color: rgba(32, 32, 32, 0.857);\r\n    // }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportExportModal.vue?vue&type=template&id=8c80905c&scoped=true&\"\nimport script from \"./ImportExportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportExportModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportExportModal.vue?vue&type=style&index=0&id=8c80905c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c80905c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{attrs:{\"name\":\"docs-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"30%\"},on:{\"before-close\":_vm.beforeClose}},[_c('div',{staticClass:\"doc-menu\"},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"doc-new\",on:{\"click\":_vm.createNewDocument}},[_c('b-icon',{attrs:{\"icon\":\"file-earmark-plus\"}})],1)]),_c('div',{staticClass:\"doc-list\"},_vm._l((_vm.documents),function(doc,uuid){return _c('div',{key:uuid,staticClass:\"doc\",class:{ active: _vm.activeDoc(uuid) },on:{\"click\":function($event){return _vm.setDocument(uuid)}}},[(uuid !== _vm.editingDoc)?_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"doc-name\"},[_vm._v(_vm._s(doc.name))]),_c('span',[(doc.lastEdit)?_c('span',{staticClass:\"doc-date\"},[_vm._v(_vm._s(_vm.timeAgo(doc.lastEdit)))]):_vm._e(),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.enterDocEdit(doc, uuid)}}},[_c('b-icon',{attrs:{\"icon\":\"pencil-square\"}})],1),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteDocument(uuid)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]):_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"name-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocName),expression:\"newDocName\"}],ref:\"docNameInput\",refInFor:true,attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newDocName)},on:{\"click\":function($event){$event.stopPropagation();},\"keydown\":[function($event){$event.stopPropagation();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.saveDocName(doc)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.leaveDocEdit()}],\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing)return;_vm.newDocName=$event.target.value}}})]),_c('div',[_c('button',{on:{\"click\":function($event){return _vm.leaveDocEdit(doc)}}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1),_c('button',{on:{\"click\":function($event){return _vm.saveDocName(doc)}}},[_c('b-icon',{attrs:{\"icon\":\"check2\"}})],1)])])])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <modal\r\n    name=\"docs-modal\"\r\n    :adaptive=\"true\"\r\n    height=\"auto\"\r\n    width=\"30%\"\r\n    @before-close=\"beforeClose\"\r\n  >\r\n    <div class=\"doc-menu\">\r\n      <div class=\"buttons\">\r\n        <button class=\"doc-new\" @click=\"createNewDocument\">\r\n          <b-icon icon=\"file-earmark-plus\"></b-icon>\r\n        </button>\r\n      </div>\r\n      <div class=\"doc-list\">\r\n        <div\r\n          class=\"doc\"\r\n          :class=\"{ active: activeDoc(uuid) }\"\r\n          v-for=\"(doc, uuid) in documents\"\r\n          :key=\"uuid\"\r\n          @click=\"setDocument(uuid)\"\r\n        >\r\n          <div v-if=\"uuid !== editingDoc\" class=\"content\">\r\n            <span class=\"doc-name\">{{ doc.name }}</span>\r\n            <span>\r\n              <span v-if=\"doc.lastEdit\" class=\"doc-date\">{{\r\n                timeAgo(doc.lastEdit)\r\n              }}</span>\r\n              <button @click.stop=\"enterDocEdit(doc, uuid)\">\r\n                <b-icon icon=\"pencil-square\"></b-icon>\r\n              </button>\r\n              <button @click.stop=\"deleteDocument(uuid)\">\r\n                <b-icon icon=\"trash\"></b-icon>\r\n              </button>\r\n            </span>\r\n          </div>\r\n          <div v-else class=\"content\">\r\n            <div class=\"name-input\">\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"newDocName\"\r\n                @click.stop\r\n                @keydown.stop\r\n                @keydown.enter=\"saveDocName(doc)\"\r\n                @keydown.esc=\"leaveDocEdit()\"\r\n                @mousewheel.stop\r\n                ref=\"docNameInput\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <button @click=\"leaveDocEdit(doc)\">\r\n                <b-icon icon=\"x\"></b-icon>\r\n              </button>\r\n              <button @click=\"saveDocName(doc)\">\r\n                <b-icon icon=\"check2\"></b-icon>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </modal>\r\n</template>\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { store } from \"@/store/index\";\r\nimport { tree } from \"@/tree\";\r\n\r\nexport default {\r\n  name: \"DocumentsList\",\r\n  data() {\r\n    return {\r\n      store,\r\n      newDocName: \"\",\r\n      editingDoc: \"\",\r\n      currTab: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    documents() {\r\n      return store.state.documents;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setDocumentAction: \"setDocument\",\r\n      createDocumentAction: \"createDocument\",\r\n      deleteDocumentAction: \"deleteDocument\",\r\n    }),\r\n    setDocument(uuid) {\r\n      this.setDocumentAction(uuid).then((data) => tree.parseTreeData(data));\r\n    },\r\n    createNewDocument() {\r\n      this.createDocumentAction().then((data) => tree.parseTreeData(data));\r\n    },\r\n    enterDocEdit(doc, uuid) {\r\n      this.newDocName = doc.name;\r\n      this.editingDoc = uuid;\r\n      this.$nextTick(() => {\r\n        if (this.$refs.docNameInput && this.$refs.docNameInput[0])\r\n          this.$refs.docNameInput[0].focus();\r\n      });\r\n    },\r\n    leaveDocEdit() {\r\n      this.newDocName = \"\";\r\n      this.editingDoc = \"\";\r\n    },\r\n    saveDocName(doc) {\r\n      doc.name = this.newDocName;\r\n      this.leaveDocEdit();\r\n    },\r\n    deleteDocument(uuid) {\r\n      this.deleteDocumentAction(uuid).then((data) => {\r\n        if (!this.activeDoc(uuid)) tree.parseTreeData(data);\r\n      });\r\n    },\r\n    activeDoc(id) {\r\n      return id === store.state.settings.lastDocument;\r\n    },\r\n\r\n    beforeClose() {\r\n      this.newDocName = \"\";\r\n      this.editingDoc = \"\";\r\n    },\r\n\r\n    timeAgo(ts) {\r\n      const date = new Date(ts);\r\n      // prettier-ignore\r\n      const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n      return `${date.getHours()}:${date.getMinutes()} ${date.getDate()} ${\r\n        months[date.getMonth()]\r\n      }`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.doc-menu {\r\n  flex-grow: 1;\r\n  background-color: white;\r\n  border-radius: 0.2rem;\r\n  padding: 0.5rem;\r\n  user-select: none;\r\n}\r\n\r\n.buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  justify-content: space-between;\r\n}\r\n\r\n.doc-list {\r\n  background-color: #e6e6e6;\r\n  padding: 0.5rem;\r\n  border-radius: 0.2rem;\r\n  margin-top: 0.5rem;\r\n  border: 1px solid #b3b3b3;\r\n\r\n  .doc > .content {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    gap: 2rem;\r\n    align-items: center;\r\n    padding: 0.2rem;\r\n    border-radius: 0.2rem;\r\n\r\n    .doc-date {\r\n      font-size: 0.8rem;\r\n    }\r\n    span {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    button {\r\n      margin-left: 0.5rem;\r\n    }\r\n\r\n    .name-input {\r\n      position: relative;\r\n      flex-grow: 1;\r\n\r\n      input {\r\n        width: 95%;\r\n        height: 2rem;\r\n        border-radius: 0.4rem;\r\n        border: none;\r\n        outline: none;\r\n        background-color: var(--primary-clr);\r\n        box-sizing: border-box;\r\n        padding-left: 0.5rem;\r\n        width: 100%;\r\n        &:focus {\r\n          // border: 2px solid var(--secondary-clr);\r\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .doc:not(:last-child) {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .doc.active {\r\n    color: var(--primary-clr);\r\n    background-color: var(--secondary-clr);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DocumentsList.vue?vue&type=template&id=fdd9583a&scoped=true&\"\nimport script from \"./DocumentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./DocumentsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DocumentsList.vue?vue&type=style&index=0&id=fdd9583a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdd9583a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"}],staticClass:\"bar\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInput),expression:\"searchInput\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.searchInput)},on:{\"keydown\":function($event){$event.stopPropagation();},\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing)return;_vm.searchInput=$event.target.value}}}),_c('span',{staticClass:\"input-icon\"},[_c('b-icon',{attrs:{\"shift-v\":\"4\",\"icon\":\"search\"}})],1)]),_c('button',{on:{\"click\":_vm.close}},[_c('b-icon',{attrs:{\"shift-v\":\"4\",\"icon\":\"x\"}})],1)]),(_vm.favorites.length)?_c('div',{staticClass:\"favorites-list\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Favorites:\")]),_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.favorites),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",class:{\n              selected: _vm.isSelected(e.key),\n            },attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(e.key)}}})])}),0),_c('hr')]):_vm._e(),(_vm.currentNodeEmoji.length)?_c('div',{staticClass:\"favorites-list\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Current node:\")]),_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.currentNodeEmoji),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(e.key)}}})])}),0),_c('hr')]):_vm._e(),(_vm.searchInput)?_c('div',{staticClass:\"emoji-list\"},[_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.searchResult),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",class:{\n              selected: _vm.isSelected(e.key),\n            },attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)}}})])}),0)]):_c('div',{staticClass:\"emoji-list\"},[_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.emojis.emoji),function(emoji,key){return _c('div',{key:key,staticClass:\"emoji\",class:{\n            selected: _vm.isSelected(key),\n          },attrs:{\"title\":key},domProps:{\"textContent\":_vm._s(emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(key)}}})}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\r\n\r\nexport const eventBus = new Vue();\r\n\r\nexport const events = [\r\n  // { name: \"Set root\", action: \"tree-push-root\", hotkey: \"g\" },\r\n  // { name: \"Set root\", action: \"tree-pop-root\", hotkey: \"h\" },\r\n  {\r\n    title: \"Add Child\",\r\n    icon: \"diagram2\",\r\n    event: \"tree-add-child\",\r\n    hotkey: \"tab\",\r\n    options: { prevent: true },\r\n  },\r\n  {\r\n    title: \"Add Sibling\",\r\n    icon: \"node-plus\",\r\n    event: \"tree-add-sibling\",\r\n    hotkey: \"enter\",\r\n  },\r\n  {\r\n    title: \"Collapse Node\",\r\n    icon: \"arrows-collapse\",\r\n    event: \"tree-node-collapse\",\r\n    hotkey: \"c\",\r\n  },\r\n  {\r\n    title: \"Edit Node\",\r\n    icon: \"pencil\",\r\n    event: \"tree-node-edit\",\r\n    hotkey: \"e\",\r\n    options: { prevent: true },\r\n  },\r\n\r\n  {\r\n    title: \"Toggle Node Done State\",\r\n    icon: \"check2\",\r\n    event: \"tree-node-toggle-done\",\r\n    hotkey: \"d\",\r\n  },\r\n  {\r\n    title: \"Delete Node\",\r\n    icon: \"trash\",\r\n    event: \"tree-delete-last-node\",\r\n    hotkey: [\"delete\", \"backspace\"],\r\n  },\r\n  {\r\n    title: \"Cursor Up\",\r\n    event: \"tree-go-up\",\r\n    hotkey: \"arrowup\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Right\",\r\n    event: \"tree-go-right\",\r\n    hotkey: \"arrowright\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Down\",\r\n    event: \"tree-go-down\",\r\n    hotkey: \"arrowdown\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Left\",\r\n    event: \"tree-go-left\",\r\n    hotkey: \"arrowleft\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Save Document\",\r\n    event: \"document-save\",\r\n    hotkey: \"ctrl+s\",\r\n    options: { prevent: true },\r\n    UIIgnore: true,\r\n  },\r\n];\r\n\r\nconst eventsMap = {};\r\n\r\nexport function Init() {\r\n  window.addEventListener(\"keydown\", keydown);\r\n  window.addEventListener(\"unload\", unload);\r\n\r\n  for (let event of events) {\r\n    if (!(event.hotkey instanceof Array)) {\r\n      event.hotkey = [event.hotkey];\r\n    }\r\n\r\n    for (let key of event.hotkey) {\r\n      const k = key.toLowerCase();\r\n      if (eventsMap[k]) {\r\n        console.error(\r\n          `Multiple hotkeys binding on single event: ${event.event}`\r\n        );\r\n        continue;\r\n      }\r\n      eventsMap[k] = event;\r\n    }\r\n  }\r\n}\r\n\r\nfunction keydown(e) {\r\n  const key = getCombination(e);\r\n  const match = eventsMap[key];\r\n  if (match) call(match.event, match.options);\r\n\r\n  function call(eventName, options = { prevent: false }) {\r\n    if (options.prevent) e.preventDefault();\r\n    eventBus.$emit(eventName);\r\n  }\r\n}\r\n\r\nfunction getCombination(event) {\r\n  let combination = [];\r\n\r\n  if (event.ctrlKey && event.key !== \"Control\") combination.push(\"ctrl\");\r\n  if (event.altKey && event.key !== \"Alt\") combination.push(\"alt\");\r\n  if (event.shiftKey && event.key !== \"Shift\") combination.push(\"shift\");\r\n\r\n  combination.push(event.key.toLowerCase());\r\n  return combination.join(\"+\");\r\n}\r\n\r\nfunction unload() {\r\n  window.removeEventListener(\"keydown\", keydown);\r\n  window.removeEventListener(\"unload\", unload);\r\n}\r\n","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"bar\" v-show=\"shown\">\r\n      <div class=\"title\">\r\n        <div class=\"search\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"searchInput\"\r\n            @keydown.stop\r\n            @mousewheel.stop\r\n          />\r\n          <span class=\"input-icon\">\r\n            <b-icon shift-v=\"4\" icon=\"search\"></b-icon>\r\n          </span>\r\n        </div>\r\n        <button @click=\"close\">\r\n          <b-icon shift-v=\"4\" icon=\"x\"></b-icon>\r\n        </button>\r\n      </div>\r\n      <div class=\"favorites-list\" v-if=\"favorites.length\">\r\n        <span class=\"title\">Favorites:</span>\r\n        <div class=\"flex-wrapper\">\r\n          <div v-for=\"e in favorites\" :key=\"e.key\">\r\n            <div\r\n              class=\"emoji\"\r\n              :class=\"{\r\n                selected: isSelected(e.key),\r\n              }\"\r\n              :title=\"e.key\"\r\n              @click=\"toggleEmoji(e.key)\"\r\n              @contextmenu.prevent=\"toggleFavorite(e.key)\"\r\n              v-text=\"e.emoji\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div class=\"favorites-list\" v-if=\"currentNodeEmoji.length\">\r\n        <span class=\"title\">Current node:</span>\r\n        <div class=\"flex-wrapper\">\r\n          <div v-for=\"e in currentNodeEmoji\" :key=\"e.key\">\r\n            <div\r\n              class=\"emoji\"\r\n              :title=\"e.key\"\r\n              @click=\"toggleEmoji(e.key)\"\r\n              @contextmenu.prevent=\"toggleFavorite(e.key)\"\r\n              v-text=\"e.emoji\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n      <div class=\"emoji-list\" v-if=\"searchInput\">\r\n        <div class=\"flex-wrapper\">\r\n          <div v-for=\"e in searchResult\" :key=\"e.key\">\r\n            <div\r\n              class=\"emoji\"\r\n              :class=\"{\r\n                selected: isSelected(e.key),\r\n              }\"\r\n              :title=\"e.key\"\r\n              @click=\"toggleEmoji(e.key)\"\r\n              v-text=\"e.emoji\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"emoji-list\" v-else>\r\n        <div class=\"flex-wrapper\">\r\n          <div\r\n            v-for=\"(emoji, key) in emojis.emoji\"\r\n            :key=\"key\"\r\n            class=\"emoji\"\r\n            :class=\"{\r\n              selected: isSelected(key),\r\n            }\"\r\n            :title=\"key\"\r\n            @click=\"toggleEmoji(key)\"\r\n            @contextmenu.prevent=\"toggleFavorite(key)\"\r\n            v-text=\"emoji\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport emojis from \"node-emoji\";\r\nimport { store } from \"@/store/index\";\r\nimport { eventBus } from \"@/hotkeys\";\r\nimport { tree } from \"@/tree\";\r\n\r\nexport default {\r\n  name: \"EmojiBar\",\r\n  data() {\r\n    return {\r\n      emojis,\r\n      tree,\r\n      searchInput: \"\",\r\n      shown: false,\r\n      favoritesRaw: store.state.favoriteEmojis || [],\r\n    };\r\n  },\r\n  computed: {\r\n    favorites() {\r\n      return this.favoritesRaw.map((e) => emojis.find(e));\r\n    },\r\n    currentNodeEmoji() {\r\n      return this.tree.lastNode?.emoji?.map((e) => emojis.find(e)) || [];\r\n    },\r\n    searchResult() {\r\n      return emojis.search(this.searchInput);\r\n    },\r\n  },\r\n  // TODO use vuex actions instead of mutattions\r\n  methods: {\r\n    toggleEmoji(emoji) {\r\n      if (!emoji) return;\r\n      eventBus.$emit(\"tree-node-toggle-emoji\", emoji);\r\n    },\r\n    toggleFavorite(emoji) {\r\n      if (!emoji) return;\r\n      this.favorites.some((f) => f.key === emoji)\r\n        ? this.removeFavorite(emoji)\r\n        : this.addFavorite(emoji);\r\n    },\r\n    addFavorite(emoji) {\r\n      if (!emoji) return;\r\n      store.commit(\"addFavoriteEmoji\", emoji);\r\n    },\r\n    removeFavorite(emoji) {\r\n      if (!emoji) return;\r\n      store.commit(\"removeFavoriteEmoji\", emoji);\r\n    },\r\n    isSelected(emoji) {\r\n      if (!emoji) return;\r\n      return this.currentNodeEmoji.some((c) => c.key === emoji);\r\n    },\r\n    toggle() {\r\n      this.shown ? this.close() : this.open();\r\n    },\r\n    close() {\r\n      this.shown = false;\r\n    },\r\n    open() {\r\n      this.shown = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.bar {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  max-width: 20rem;\r\n  z-index: 999;\r\n  overflow: auto;\r\n  height: 100%;\r\n  background-color: white;\r\n  user-select: none;\r\n  overflow-x: hidden;\r\n\r\n  .title {\r\n    text-align: center;\r\n    padding: 0.2rem;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    gap: 0.4rem;\r\n    width: 97%;\r\n\r\n    .search {\r\n      position: relative;\r\n      flex-grow: 1;\r\n\r\n      input {\r\n        width: 95%;\r\n        height: 2rem;\r\n        border-radius: 0.4rem;\r\n        border: none;\r\n        outline: none;\r\n        background-color: var(--primary-clr);\r\n        box-sizing: border-box;\r\n        padding-left: 2rem;\r\n        width: 100%;\r\n        &:focus {\r\n          // border: 2px solid var(--secondary-clr);\r\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\r\n        }\r\n      }\r\n\r\n      .input-icon {\r\n        position: absolute;\r\n        top: 0.5rem;\r\n        left: 0.7rem;\r\n      }\r\n    }\r\n    button {\r\n      // width: 1rem;\r\n      height: 2rem;\r\n    }\r\n  }\r\n\r\n  .emoji-list,\r\n  .favorites-list {\r\n    .flex-wrapper {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 0.1rem;\r\n    }\r\n    .title {\r\n      width: 100%;\r\n    }\r\n\r\n    .emoji {\r\n      box-sizing: border-box;\r\n      border-radius: 0.2rem;\r\n      width: 1.8rem;\r\n      height: 1.8rem;\r\n      text-align: center;\r\n      font-size: 1rem;\r\n      vertical-align: middle;\r\n\r\n      &.selected {\r\n        border: 2px solid green;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nhr {\r\n  width: 80%;\r\n}\r\n\r\n.slide-enter-active {\r\n  transition: all 0.2s ease;\r\n}\r\n.slide-leave-active {\r\n  transition: all 0.2s cubic-bezier(1, 0.5, 0.8, 1);\r\n}\r\n.slide-enter,\r\n.slide-leave-to {\r\n  transform: translateX(10rem);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiBar.vue?vue&type=template&id=6242c6c1&\"\nimport script from \"./EmojiBar.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiBar.vue?vue&type=style&index=0&id=6242c6c1&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <modal name=\"info-modal\" :adaptive=\"true\" height=\"auto\" width=\"500px\">\r\n      <div id=\"modal\">\r\n        <table class=\"info-table\">\r\n          <tr v-for=\"(e, index) in events\" :key=\"index\" class=\"info-row\">\r\n            <td class=\"info-col-action\">\r\n              {{ e.title }}\r\n            </td>\r\n            <td class=\"info-col-hotkey\">\r\n              {{ e.hotkey.join(\" / \") }}\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </modal>\r\n\r\n    <documents-list></documents-list>\r\n    <import-export-modal :tab=\"'f'\"></import-export-modal>\r\n    <div class=\"toolbar\">\r\n      <div class=\"left-buttons\">\r\n        <div\r\n          v-for=\"(action, index) in actions\"\r\n          :key=\"index\"\r\n          :title=\"action.title\"\r\n        >\r\n          <button\r\n            v-if=\"condSatisfied(action)\"\r\n            @click.stop=\"emitEvent(action.event)\"\r\n          >\r\n            <b-icon :icon=\"action.icon\"></b-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-buttons\">\r\n        <button @click=\"deleteAllCards\" title=\"Delete All Cards\">\r\n          <b-icon icon=\"x\"></b-icon>\r\n        </button>\r\n        <button @click=\"spawnCard\" title=\"New Card\">\r\n          <b-icon icon=\"file-post\"></b-icon>\r\n        </button>\r\n        <button\r\n          class=\"doc-export\"\r\n          @click=\"toggleImportExportModal('export')\"\r\n          title=\"Export\"\r\n        >\r\n          <b-icon icon=\"upload\"></b-icon>\r\n        </button>\r\n        <button\r\n          class=\"doc-import\"\r\n          @click=\"toggleImportExportModal('import')\"\r\n          title=\"Import\"\r\n        >\r\n          <b-icon icon=\"download\"></b-icon>\r\n        </button>\r\n        <button @click.stop=\"toggleDocMenu\" title=\"Documents\">\r\n          <b-icon icon=\"file-earmark-text\"></b-icon>\r\n        </button>\r\n        <button @click=\"toggleEmojiBar\" title=\"Emoji\">\r\n          <b-icon icon=\"emoji-smile\"></b-icon>\r\n        </button>\r\n        <button @click=\"$modal.show('info-modal')\" title=\"Help\">\r\n          <b-icon icon=\"question\"></b-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <emoji-bar class=\"emoji-bar\" ref=\"emojiBar\"></emoji-bar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ImportExportModal from \"@/components/ImportExportModal\";\r\nimport DocumentsList from \"@/components/DocumentsList\";\r\nimport EmojiBar from \"@/components/EmojiBar\";\r\n\r\nimport { mapMutations } from \"vuex\";\r\nimport { tree } from \"@/tree\";\r\nimport { eventBus, events } from \"@/hotkeys\";\r\nimport { Card } from \"@/card\";\r\n\r\nexport default {\r\n  name: \"Toolbar\",\r\n  components: {\r\n    DocumentsList,\r\n\r\n    EmojiBar,\r\n    ImportExportModal,\r\n  },\r\n  data() {\r\n    return {\r\n      tree,\r\n      events,\r\n      actions: [\r\n        { title: \"Add child\", icon: \"diagram2\", event: \"tree-add-child\" },\r\n        {\r\n          title: \"Add sibling\",\r\n          icon: \"node-plus\",\r\n          event: \"tree-add-sibling\",\r\n        },\r\n        {\r\n          title: \"Collapse\",\r\n          cond: () => tree.lastNode.collapsible,\r\n          icon: \"arrows-collapse\",\r\n          event: \"tree-node-collapse\",\r\n        },\r\n        {\r\n          title: \"Expand\",\r\n          cond: () => tree.lastNode.expandable,\r\n          icon: \"arrows-expand\",\r\n          event: \"tree-node-collapse\",\r\n        },\r\n        { title: \"Edit\", icon: \"pencil\", event: \"tree-node-edit\" },\r\n        {\r\n          title: \"Drill down\",\r\n          cond: () => tree.lastNode.canDrillDown,\r\n          icon: \"arrow-bar-down\",\r\n          event: \"tree-push-root\",\r\n        },\r\n        {\r\n          title: \"Drill up\",\r\n          cond: () => tree.lastNode.canDrillUp,\r\n          icon: \"arrow-bar-up\",\r\n          event: \"tree-pop-root\",\r\n        },\r\n        {\r\n          title: \"Mark done\",\r\n          icon: \"check2\",\r\n          event: \"tree-node-toggle-done\",\r\n        },\r\n        {\r\n          title: \"Do all children\",\r\n          cond: () => tree.lastNode.childrenLength > 0,\r\n          icon: \"check2-square\",\r\n          event: \"tree-node-do-all-children\",\r\n        },\r\n        {\r\n          title: \"Undo all children\",\r\n          cond: () => tree.lastNode.childrenLength > 0,\r\n          icon: \"x-square\",\r\n          event: \"tree-node-undo-all-children\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"addCard\", \"deleteAllCards\"]),\r\n    emitEvent(event) {\r\n      if (!event) return;\r\n      eventBus.$emit(event);\r\n    },\r\n\r\n    condSatisfied(action) {\r\n      if (!action.cond) return true;\r\n      return typeof action.cond === \"function\"\r\n        ? action.cond()\r\n        : action.cond == false\r\n        ? false\r\n        : true;\r\n    },\r\n    toggleEmojiBar() {\r\n      this.$refs?.emojiBar?.toggle();\r\n    },\r\n    toggleDocMenu() {\r\n      this.$modal.show(\"docs-modal\");\r\n    },\r\n    toggleImportExportModal(tab) {\r\n      this.$modal.show(\"import-export-modal\", tab);\r\n    },\r\n    spawnCard(e) {\r\n      this.addCard(\r\n        new Card(\"\", \"\", {\r\n          editing: true,\r\n          x: e.clientX,\r\n          y: e.clientY,\r\n          dragging: true,\r\n        })\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.toolbar {\r\n  overflow: hidden;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: fit-content;\r\n\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  padding: 0.5rem;\r\n  z-index: 10;\r\n  background-color: white;\r\n  box-sizing: border-box;\r\n  box-shadow: 0px -2px 5px 0px black;\r\n\r\n  .left-buttons {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 1px;\r\n    max-width: 50%;\r\n\r\n    button {\r\n      padding: 0;\r\n      border-radius: 0;\r\n      height: 1.7rem;\r\n      width: 1.7rem;\r\n      box-shadow: none;\r\n      // box-shadow: 0 0 2px 0px black;\r\n      border: 0.5px solid var(--secondary-clr);\r\n    }\r\n  }\r\n\r\n  .right-buttons {\r\n    display: flex;\r\n    gap: 0.8rem;\r\n  }\r\n}\r\n\r\n.emoji-bar {\r\n  box-shadow: 2px -2px 5px 0px black;\r\n}\r\n\r\n::v-deep button {\r\n  padding: 0.5rem;\r\n  border-radius: 0.4rem;\r\n  border: none;\r\n  z-index: 1;\r\n  color: black;\r\n  background-color: var(--node-bg-clr);\r\n  box-shadow: 0px 0px 5px -2px black;\r\n}\r\n\r\n::v-deep button:active {\r\n  top: 1.07rem;\r\n  background-color: var(--primary-clr);\r\n  box-shadow: 0px 0px 4px -2px black;\r\n  border: none;\r\n}\r\n\r\n::v-deep button:focus {\r\n  background-color: var(--primary-clr);\r\n  outline: none;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n#modal {\r\n  padding: 1rem;\r\n  user-select: none;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n}\r\n\r\n.info-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.info-row:nth-child(odd) {\r\n  background-color: rgba(167, 167, 167, 0.408);\r\n}\r\n\r\n.info-row > td {\r\n  padding-top: 0.3rem;\r\n  padding-bottom: 0.3rem;\r\n  border: 1px solid black;\r\n}\r\n\r\n.info-col-action {\r\n  width: 50%;\r\n  padding-right: 1rem;\r\n  text-align: right;\r\n}\r\n\r\n.info-col-hotkey {\r\n  width: 50%;\r\n  padding-left: 1rem;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=938189b0&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=938189b0&prod&lang=scss&scoped=true&\"\nimport style1 from \"./Toolbar.vue?vue&type=style&index=1&id=938189b0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"938189b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"breadcrumb-query\"},[_c('span',_vm._l((_vm.query),function(q,index){return _c('span',{key:index},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.popStack(index)}}},[_vm._v(_vm._s(q))]),(index + 1 < _vm.queryLen)?_c('b-icon',{attrs:{\"icon\":\"chevron-right\",\"shift-v\":\"-1\",\"shift-h\":\"1\"}}):_vm._e()],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"breadcrumb-query\">\r\n    <span>\r\n      <span v-for=\"(q, index) in query\" :key=\"index\">\r\n        <a href=\"#\" @click=\"popStack(index)\">{{ q }}</a>\r\n        <b-icon\r\n          v-if=\"index + 1 < queryLen\"\r\n          icon=\"chevron-right\"\r\n          shift-v=\"-1\"\r\n          shift-h=\"1\"\r\n        ></b-icon>\r\n      </span>\r\n    </span>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { tree } from \"@/tree\";\r\n\r\nexport default {\r\n  name: \"Breadcrumb\",\r\n  computed: {\r\n    query() {\r\n      return tree.query.map((q) => q.name);\r\n    },\r\n    queryLen() {\r\n      return tree.query.length;\r\n    },\r\n  },\r\n  methods: {\r\n    popStack(amount) {\r\n      tree.spliceRootsQuery(tree.query.length - amount);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.breadcrumb-query {\r\n  position: absolute;\r\n  bottom: 1rem;\r\n  left: 1rem;\r\n  user-select: none;\r\n  z-index: 10;\r\n\r\n  a {\r\n    color: black;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=223aa8a6&\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Breadcrumb.vue?vue&type=style&index=0&id=223aa8a6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"},{name:\"on-clickaway\",rawName:\"v-on-clickaway:mousedown\",value:(_vm.close),expression:\"close\",arg:\"mousedown\"}],ref:\"contextMenu\",staticClass:\"context-menu\",style:(_vm.style),attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.close()},\"contextmenu\":function($event){$event.preventDefault();}}},[_vm._t(\"items\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    ref=\"contextMenu\"\r\n    v-show=\"shown\"\r\n    class=\"context-menu\"\r\n    :style=\"style\"\r\n    tabindex=\"0\"\r\n    v-on-clickaway:mousedown=\"close\"\r\n    @click=\"close()\"\r\n    @contextmenu.prevent\r\n  >\r\n    <slot name=\"items\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mixin as clickaway } from \"vue-clickaway2\";\r\nexport default {\r\n  mixins: [clickaway],\r\n  computed: {\r\n    style() {\r\n      return { top: `${this.top}px`, left: `${this.left}px` };\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      shown: false,\r\n    };\r\n  },\r\n  methods: {\r\n    open(event) {\r\n      if (!event) return;\r\n      let eventY = event.pageY || event.clientY;\r\n      let eventX = event.pageX || event.clientX;\r\n      let menuHeight = this.$refs?.contextMenu?.clientHeight || 170;\r\n      let menuWidth = this.$refs?.contextMenu?.clientWidth || 0;\r\n      let newY = eventY;\r\n      let menuBottom = newY + menuHeight;\r\n      let newX = eventX;\r\n      let menuRight = newX + menuWidth;\r\n      if (Math.max(menuBottom, window.innerHeight) === menuBottom) {\r\n        newY -= menuHeight;\r\n      }\r\n      if (Math.max(menuRight, window.innerWidth * 0.5) === menuRight) {\r\n        newX -= menuWidth;\r\n      }\r\n      this.top = newY;\r\n      this.left = newX;\r\n      this.$nextTick(() => this.$el.focus());\r\n      this.shown = true;\r\n    },\r\n    close() {\r\n      if (!this.shown) return;\r\n      this.shown = false;\r\n      this.$emit(\"close-event\");\r\n      this.left = 0;\r\n      this.top = 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.context-menu {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  outline: none;\r\n  position: absolute;\r\n  z-index: 999;\r\n  padding: 0.4rem 0;\r\n  width: auto;\r\n  height: auto;\r\n  // border-radius: 0.2rem;\r\n  background-color: var(--context-menu-bg-clr);\r\n}\r\n.context-menu > .context-menu-item {\r\n  transition: background-color 0.2s linear;\r\n  background-color: var(--context-menu-bg-clr);\r\n  color: rgba(255, 255, 255, 0.87);\r\n  text-align: start;\r\n  padding: 0 3rem 0 0.5rem;\r\n  margin: 0;\r\n  border: none;\r\n  outline: none;\r\n  height: 1.8rem;\r\n  cursor: pointer;\r\n}\r\n.context-menu > .context-menu-item:hover:enabled {\r\n  background-color: var(--context-menu-item-hover-clr);\r\n}\r\n.context-menu > .context-menu-item:disabled {\r\n  opacity: 0.2;\r\n}\r\n.context-menu > .context-menu-header {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.context-menu-selector {\r\n  transition: background-color 0.2s linear;\r\n  background-color: var(--context-menu-bg-clr);\r\n  color: rgba(255, 255, 255, 0.87);\r\n  padding: 0 0 0 0.5rem;\r\n  text-align: start;\r\n  margin: 0;\r\n  border: none;\r\n  outline: none;\r\n  height: 1.8rem;\r\n  font-size: 14px;\r\n  position: relative;\r\n  &:hover {\r\n    background-color: var(--context-menu-item-hover-clr);\r\n    & ul {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .arrow {\r\n    float: right;\r\n    clear: both;\r\n    margin-right: 0.4rem;\r\n  }\r\n\r\n  ul {\r\n    position: absolute;\r\n    display: none;\r\n    left: 100%;\r\n    top: -0.4rem;\r\n    padding: 0.4rem 0;\r\n    // border-radius: 0 0.2rem 0.2rem 0;\r\n    background-color: var(--context-menu-bg-clr);\r\n    overflow: visible;\r\n    width: 8rem;\r\n    list-style: none;\r\n    li {\r\n      transition: background-color 0.2s linear;\r\n      background-color: var(--context-menu-bg-clr);\r\n      color: rgba(255, 255, 255, 0.87);\r\n      text-align: start;\r\n      margin: 0;\r\n      padding: 0 0.4rem;\r\n      border: none;\r\n      outline: none;\r\n      height: 1.8rem;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      &:hover {\r\n        background-color: var(--context-menu-item-hover-clr);\r\n      }\r\n    }\r\n\r\n    &:hover {\r\n      display: block;\r\n    }\r\n  }\r\n}\r\n\r\nhr {\r\n  margin: 0 auto;\r\n  width: 70%;\r\n  border: none;\r\n  height: 1px;\r\n  background-color: var(--hr-clr);\r\n  color: var(--hr-clr);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=d1b84f7e&scoped=true&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContextMenu.vue?vue&type=style&index=0&id=d1b84f7e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1b84f7e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cards-wrapper\"},[_c('div',{staticClass:\"cards\"},[_c('emoji-picker',{ref:\"picker\",on:{\"pick\":_vm.emojiPick}}),_vm._l((_vm.cardGroups),function(group){return _c('card-group',{key:group.id,attrs:{\"group\":group,\"boundaries\":_vm.boundaries,\"targetGroup\":_vm.targetGroup,\"draggingCard\":_vm.draggingCard},on:{\"set-dragging-card\":_vm.setDraggingCard,\"set-target-group\":_vm.setTargetGroup,\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker}})}),_vm._l((_vm.cards),function(card){return _c('card',{key:card.id,attrs:{\"card\":card,\"targetGroup\":_vm.targetGroup,\"boundaries\":_vm.boundaries},on:{\"set-dragging-card\":_vm.setDraggingCard,\"set-target-group\":_vm.setTargetGroup,\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker}})})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.clickOutside),expression:\"clickOutside\"}],staticClass:\"card-container\",class:{ 'on-top': _vm.card.focused },style:({\n    top: `${_vm.card.y}px`,\n    left: `${_vm.card.x}px`,\n    position: _vm.isChild ? 'static' : 'absolute',\n    'pointer-events': _vm.card.noPointerEvents ? 'none' : 'auto',\n  }),on:{\"mousedown\":_vm.dragStart,\"click\":function($event){return _vm.focusCard(true)}}},[_c('div',{staticClass:\"card-overlay\"},[_c('div',{ref:\"card\",staticClass:\"playing-card\"},[_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-picker', [$event, _vm.card.id])},\"mouseover\":function($event){_vm.iconHover = true},\"mouseleave\":function($event){_vm.iconHover = false}}},[(!_vm.card.icon && _vm.iconHover)?_c('b-icon',{attrs:{\"icon\":\"pencil\",\"scale\":\"0.8\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.card.icon)+\" \")],1),(!_vm.card.editing)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.card.text)}}):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.card.text),expression:\"card.text\"}],ref:\"textarea\",attrs:{\"placeholder\":\"Card text...\",\"rows\":\"3\"},domProps:{\"value\":(_vm.card.text)},on:{\"click\":_vm.focus,\"mousedown\":function($event){$event.stopPropagation();},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();_vm.card.editing = false},function($event){$event.stopPropagation();}],\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.card, \"text\", $event.target.value)}}})])]),(_vm.card.focused)?_c('div',{staticClass:\"controls\"},[_c('button',{on:{\"click\":function($event){return _vm.deleteCard(_vm.card.id)}}},[_c('b-icon',{attrs:{\"icon\":\"x\",\"scale\":\"0.7\"}})],1),_c('button',{on:{\"click\":_vm.edit}},[_c('b-icon',{attrs:{\"icon\":\"pencil\",\"scale\":\"0.7\"}})],1),_c('button',{on:{\"click\":_vm.group}},[_c('b-icon',{attrs:{\"icon\":\"grid\",\"scale\":\"0.7\"}})],1)]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { uuidv4 } from \"./utils\";\r\n\r\nexport class CardGroup {\r\n  constructor(x = 100, y = 100, cards = [], collapsed = false) {\r\n    this.id = uuidv4();\r\n    this.cards = cards;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.collapsed = collapsed;\r\n  }\r\n\r\n  addCard(cardID) {\r\n    this.cards.push(cardID);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    const index = this.cards.findIndex((c) => c.id === id);\r\n    if (index < 0) return;\r\n    this.cards.splice(index, 1);\r\n  }\r\n}\r\n","<template>\r\n  <div\r\n    class=\"card-container\"\r\n    :class=\"{ 'on-top': card.focused }\"\r\n    :style=\"{\r\n      top: `${card.y}px`,\r\n      left: `${card.x}px`,\r\n      position: isChild ? 'static' : 'absolute',\r\n      'pointer-events': card.noPointerEvents ? 'none' : 'auto',\r\n    }\"\r\n    @mousedown=\"dragStart\"\r\n    @click=\"focusCard(true)\"\r\n    v-on-clickaway=\"clickOutside\"\r\n  >\r\n    <div class=\"card-overlay\">\r\n      <div ref=\"card\" class=\"playing-card\">\r\n        <!-- @dragend=\"dragEnd\" -->\r\n        <div class=\"text\">\r\n          <div\r\n            class=\"icon\"\r\n            @click.prevent=\"$emit('open-picker', [$event, card.id])\"\r\n            @mouseover=\"iconHover = true\"\r\n            @mouseleave=\"iconHover = false\"\r\n          >\r\n            <b-icon\r\n              icon=\"pencil\"\r\n              v-if=\"!card.icon && iconHover\"\r\n              scale=\"0.8\"\r\n            ></b-icon>\r\n            {{ card.icon }}\r\n          </div>\r\n\r\n          <span v-if=\"!card.editing\" v-text=\"card.text\"></span>\r\n          <textarea\r\n            v-else\r\n            placeholder=\"Card text...\"\r\n            v-model=\"card.text\"\r\n            ref=\"textarea\"\r\n            rows=\"3\"\r\n            @click=\"focus\"\r\n            @mousedown.stop\r\n            @keydown.enter.exact.stop=\"card.editing = false\"\r\n            @keydown.stop\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"card.focused\" class=\"controls\">\r\n        <button @click=\"deleteCard(card.id)\">\r\n          <b-icon icon=\"x\" scale=\"0.7\"></b-icon>\r\n        </button>\r\n        <button @click=\"edit\">\r\n          <b-icon icon=\"pencil\" scale=\"0.7\"></b-icon>\r\n        </button>\r\n\r\n        <button @click=\"group\">\r\n          <b-icon icon=\"grid\" scale=\"0.7\"></b-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapMutations } from \"vuex\";\r\nimport { mixin as clickaway } from \"vue-clickaway2\";\r\nimport { CardGroup } from \"@/card-group\";\r\n\r\nexport default {\r\n  mixins: [clickaway],\r\n  props: {\r\n    card: { required: true },\r\n    targetGroup: { default: null },\r\n    boundaries: { default: null },\r\n  },\r\n  computed: {\r\n    isChild() {\r\n      return !!this.card.group;\r\n    },\r\n  },\r\n  watch: {\r\n    boundaries(bounds) {\r\n      if (this.isChild) return;\r\n      if (!this.oldBounds) this.oldBounds = bounds;\r\n      const xDiff = (bounds?.width || 0) - (this.oldBounds?.width || 0);\r\n      const yDiff = (bounds?.height || 0) - (this.oldBounds?.height || 0);\r\n      const newX = this.card.x + xDiff;\r\n      const newY = this.card.y + yDiff;\r\n      if (newX >= 0 && newX <= bounds.width) this.card.x = newX;\r\n      if (newY >= 0 && newY <= bounds.height) this.card.y = newY;\r\n      this.oldBounds = bounds;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      shift: { x: 0, y: 0 },\r\n      origin: { x: 0, y: 0 },\r\n      cardClone: null,\r\n      dragging: false,\r\n      iconHover: false,\r\n      oldBounds: null,\r\n\r\n      cardWidth: 120,\r\n      cardHeight: 170,\r\n    };\r\n  },\r\n  created() {\r\n    window.addEventListener(\"mousemove\", this.drag);\r\n    window.addEventListener(\"mouseup\", this.dragEnd);\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"addCard\",\r\n      \"setCardDProperty\",\r\n      \"createGroup\",\r\n      \"deleteCard\",\r\n    ]),\r\n    ...mapActions([\"addCardToGroup\"]),\r\n    dragStart(e) {\r\n      const rect = this.$refs.card.getBoundingClientRect();\r\n      this.shift.x = e.clientX - rect.left;\r\n      this.shift.y = e.clientY - rect.top;\r\n      this.origin.x = rect.left;\r\n      this.origin.y = rect.top;\r\n\r\n      this.dragging = true;\r\n      this.$emit(\"set-dragging-card\", true);\r\n    },\r\n    drag(e) {\r\n      if (!this.dragging) return;\r\n      const x = e.clientX - this.shift.x;\r\n      const y = e.clientY - this.shift.y;\r\n      if (\r\n        this.isChild &&\r\n        (Math.abs(this.origin.x - x) > 100 || Math.abs(this.origin.y - y) > 100)\r\n      ) {\r\n        this.ungroup();\r\n      }\r\n\r\n      if (x > 0 && this.inbound(\"width\", x)) this.card.x = x;\r\n      if (y > 0 && this.inbound(\"height\", y)) this.card.y = y;\r\n      this.card.noPointerEvents = true;\r\n    },\r\n    dragEnd() {\r\n      if (!this.dragging) return;\r\n      if (this.targetGroup) {\r\n        this.addCardToGroup({\r\n          cardID: this.card.id,\r\n          groupID: this.targetGroup,\r\n        });\r\n        // this.$set(this.card, \"group\", this.targetGroup);\r\n      }\r\n      this.dragging = false;\r\n      this.card.noPointerEvents = false;\r\n      this.$emit(\"set-target-group\", null);\r\n      this.$emit(\"set-dragging-card\", false);\r\n    },\r\n    inbound(axis, n) {\r\n      return this.boundaries\r\n        ? n + this.cardWidth <= this.boundaries[axis]\r\n        : true;\r\n    },\r\n    focus() {\r\n      this.$nextTick(() => this.$refs.textarea.focus());\r\n    },\r\n    focusCard(value) {\r\n      this.card.focused = !!value;\r\n    },\r\n    edit() {\r\n      this.card.editing = !this.card.editing;\r\n      if (this.card.editing) this.$nextTick(this.focus);\r\n    },\r\n    clickOutside() {\r\n      this.focusCard(false);\r\n      this.$emit(\"close-picker\", this.card.id);\r\n    },\r\n    group() {\r\n      const group = new CardGroup(this.card.x, this.card.y, [this.card.id]);\r\n      this.createGroup(group);\r\n      this.addCardToGroup({ cardID: this.card.id, groupID: group.id });\r\n    },\r\n    ungroup() {\r\n      this.$set(this.card, \"group\", null);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.playing-card {\r\n  position: relative;\r\n  padding: 0.2rem;\r\n  user-select: none;\r\n  border-radius: 0.5rem;\r\n  font-size: 0.95rem;\r\n  //prettier-ignore\r\n  box-shadow: 0px 0px 20px rgba($color: #000000, $alpha: 0.1),\r\n              0px 0px 5px rgba($color: #000000, $alpha: 0.5);\r\n\r\n  width: 80px;\r\n  height: 120px;\r\n  background-color: white;\r\n\r\n  .text {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n\r\n    span {\r\n      text-overflow: ellipsis;\r\n      text-overflow: ellipsis;\r\n      white-space: pre-wrap;\r\n      word-wrap: break-word;\r\n    }\r\n\r\n    textarea {\r\n      margin: 0;\r\n      padding: 0;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n      resize: none;\r\n      border-radius: 0.3rem;\r\n      outline: none;\r\n    }\r\n  }\r\n\r\n  .icon {\r\n    float: right;\r\n    margin: 5px;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    &:hover {\r\n      background-color: rgba($color: grey, $alpha: 0.3);\r\n    }\r\n  }\r\n}\r\n\r\n.card-container {\r\n  z-index: 20;\r\n  &.on-top {\r\n    z-index: 30;\r\n  }\r\n  .card-overlay {\r\n    position: relative;\r\n    .controls {\r\n      $height: 1rem;\r\n      border: 1px solid var(--secondary-clr);\r\n      border-radius: 0.4rem;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: -1.8rem;\r\n      display: flex;\r\n\r\n      button {\r\n        border: none;\r\n        outline: none;\r\n        width: 1.5rem;\r\n        height: 1.5rem;\r\n        background-color: white;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        &:first-of-type {\r\n          border-top-left-radius: 0.4rem;\r\n          border-bottom-left-radius: 0.4rem;\r\n        }\r\n        &:last-of-type {\r\n          border-bottom-right-radius: 0.4rem;\r\n          border-top-right-radius: 0.4rem;\r\n        }\r\n        &:not(:last-of-type) {\r\n          border-right: 1px solid var(--secondary-clr);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=3c2682f0&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=3c2682f0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c2682f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-group\",style:({ top: `${_vm.group.y}px`, left: `${_vm.group.x}px` }),on:{\"mouseenter\":_vm.hover,\"mouseleave\":_vm.unhover}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"control\",class:{ active: _vm.dragging },attrs:{\"title\":\"Move\"},on:{\"mousedown\":_vm.dragStart}},[_c('b-icon',{attrs:{\"icon\":\"arrows-move\"}})],1),(_vm.cards.length > 1 && !_vm.showSnaps)?_c('div',{staticClass:\"control\",class:{ active: _vm.orderMode },attrs:{\"title\":\"Order\"},on:{\"click\":function($event){_vm.orderMode = !_vm.orderMode}}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left-right\"}})],1):_vm._e(),(!_vm.showSnaps)?_c('div',{staticClass:\"control\",attrs:{\"title\":\"Delete\"}},[_c('b-icon',{attrs:{\"icon\":\"x\"},on:{\"click\":function($event){return _vm.deleteGroup(_vm.group.id)}}})],1):_vm._e(),_c('div',{staticClass:\"control\",class:{ active: _vm.showSnaps }},[_c('b-icon',{attrs:{\"icon\":\"grid\"},on:{\"click\":function($event){_vm.showSnaps = !_vm.showSnaps}}})],1),(_vm.showSnaps)?_c('div',{staticClass:\"control\",class:{ active: _vm.snap.top }},[_c('b-icon',{attrs:{\"icon\":\"align-top\"},on:{\"click\":function($event){return _vm.snapTo('top')}}})],1):_vm._e(),(_vm.showSnaps)?_c('div',{staticClass:\"control\",class:{ active: _vm.snap.right }},[_c('b-icon',{attrs:{\"icon\":\"align-end\"},on:{\"click\":function($event){return _vm.snapTo('right')}}})],1):_vm._e(),(_vm.showSnaps)?_c('div',{staticClass:\"control\",class:{ active: _vm.snap.bottom }},[_c('b-icon',{attrs:{\"icon\":\"align-bottom\"},on:{\"click\":function($event){return _vm.snapTo('bottom')}}})],1):_vm._e(),(_vm.showSnaps)?_c('div',{staticClass:\"control\",class:{ active: _vm.snap.left }},[_c('b-icon',{attrs:{\"icon\":\"align-start\"},on:{\"click\":function($event){return _vm.snapTo('left')}}})],1):_vm._e()]),_c('draggable',{staticClass:\"cards\",class:{ target: _vm.isTarget },attrs:{\"handle\":\".handle\",\"animation\":\"200\"},on:{\"change\":_vm.change},model:{value:(_vm.cards),callback:function ($$v) {_vm.cards=$$v},expression:\"cards\"}},_vm._l((_vm.cards),function(card){return _c('div',{key:card.id,staticClass:\"card-wrapper\"},[(_vm.orderMode)?_c('div',{staticClass:\"handle\"},[_c('b-icon',{attrs:{\"icon\":\"grip-horizontal\",\"scale\":\"1\"}})],1):_vm._e(),_c('card',{attrs:{\"card\":card,\"targetGroup\":_vm.targetGroup},on:{\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker,\"set-dragging-card\":function($event){return _vm.$emit('set-dragging-card', $event)}}})],1)}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"card-group\"\r\n    :style=\"{ top: `${group.y}px`, left: `${group.x}px` }\"\r\n    @mouseenter=\"hover\"\r\n    @mouseleave=\"unhover\"\r\n  >\r\n    <div class=\"container\">\r\n      <div class=\"controls\">\r\n        <div\r\n          title=\"Move\"\r\n          class=\"control\"\r\n          @mousedown=\"dragStart\"\r\n          :class=\"{ active: dragging }\"\r\n        >\r\n          <b-icon icon=\"arrows-move\"></b-icon>\r\n        </div>\r\n        <div\r\n          title=\"Order\"\r\n          class=\"control\"\r\n          v-if=\"cards.length > 1 && !showSnaps\"\r\n          @click=\"orderMode = !orderMode\"\r\n          :class=\"{ active: orderMode }\"\r\n        >\r\n          <b-icon icon=\"arrow-left-right\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" title=\"Delete\" v-if=\"!showSnaps\">\r\n          <b-icon icon=\"x\" @click=\"deleteGroup(group.id)\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" :class=\"{ active: showSnaps }\">\r\n          <b-icon icon=\"grid\" @click=\"showSnaps = !showSnaps\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" :class=\"{ active: snap.top }\" v-if=\"showSnaps\">\r\n          <b-icon icon=\"align-top\" @click=\"snapTo('top')\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" :class=\"{ active: snap.right }\" v-if=\"showSnaps\">\r\n          <b-icon icon=\"align-end\" @click=\"snapTo('right')\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" :class=\"{ active: snap.bottom }\" v-if=\"showSnaps\">\r\n          <b-icon icon=\"align-bottom\" @click=\"snapTo('bottom')\"></b-icon>\r\n        </div>\r\n        <div class=\"control\" :class=\"{ active: snap.left }\" v-if=\"showSnaps\">\r\n          <b-icon icon=\"align-start\" @click=\"snapTo('left')\"></b-icon>\r\n        </div>\r\n      </div>\r\n\r\n      <draggable\r\n        v-model=\"cards\"\r\n        handle=\".handle\"\r\n        @change=\"change\"\r\n        animation=\"200\"\r\n        class=\"cards\"\r\n        :class=\"{ target: isTarget }\"\r\n      >\r\n        <div class=\"card-wrapper\" v-for=\"card in cards\" :key=\"card.id\">\r\n          <div v-if=\"orderMode\" class=\"handle\">\r\n            <b-icon icon=\"grip-horizontal\" scale=\"1\"></b-icon>\r\n          </div>\r\n          <card\r\n            :card=\"card\"\r\n            :targetGroup=\"targetGroup\"\r\n            @open-picker=\"openPicker\"\r\n            @close-picker=\"closePicker\"\r\n            @set-dragging-card=\"$emit('set-dragging-card', $event)\"\r\n          ></card>\r\n        </div>\r\n      </draggable>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport Card from \"./Card\";\r\nimport draggable from \"vuedraggable\";\r\n\r\nexport default {\r\n  props: {\r\n    group: { required: true },\r\n    targetGroup: { default: null },\r\n    draggingCard: { default: false },\r\n    boundaries: { default: null },\r\n  },\r\n  components: {\r\n    draggable,\r\n    Card,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"groupedCards\"]),\r\n\r\n    cards: {\r\n      get() {\r\n        const cards = this.groupedCards\r\n          .filter((c) => this.group.id === c.group)\r\n          .sort((a, b) => a.orderInGroup - b.orderInGroup);\r\n        if (!cards.length) {\r\n          this.deleteGroup(this.group.id);\r\n          return [];\r\n        }\r\n        return cards;\r\n      },\r\n      set() {},\r\n    },\r\n    isTarget() {\r\n      return this.draggingCard && this.targetGroup === this.group.id;\r\n    },\r\n    snap() {\r\n      if (!this.group.snap) this.setSnap();\r\n      return this.group.snap;\r\n    },\r\n    isSnapped() {\r\n      return Object.values(this.snap).some((s) => s === true);\r\n    },\r\n  },\r\n  watch: {\r\n    snap: {\r\n      deep: true,\r\n      handler: \"reposition\",\r\n    },\r\n    boundaries(bounds) {\r\n      if (!this.oldBounds) this.oldBounds = bounds;\r\n      this.reposition();\r\n      this.oldBounds = bounds;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dragging: false,\r\n      shift: { x: 0, y: 0 },\r\n      oldBounds: null,\r\n      orderMode: false,\r\n      showSnaps: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"mousemove\", this.drag);\r\n    window.addEventListener(\"mouseup\", this.dragStop);\r\n  },\r\n  methods: {\r\n    ...mapActions([\"changeCardPosition\", \"deleteGroup\"]),\r\n    change(e) {\r\n      const card = e?.moved?.element;\r\n      if (card) {\r\n        this.changeCardPosition({\r\n          cardID: card.id,\r\n          groupID: card.group,\r\n          newIndex: e.moved.newIndex,\r\n        });\r\n      }\r\n    },\r\n    hover() {\r\n      if (!this.draggingCard) return;\r\n      this.$emit(\"set-target-group\", this.group.id);\r\n    },\r\n    unhover() {\r\n      if (!this.draggingCard) return;\r\n      this.$emit(\"set-target-group\", null);\r\n    },\r\n    dragStart(e) {\r\n      this.dragging = true;\r\n      // this.resetSnap();\r\n      // this.showSnaps = false;\r\n      const rect = this.$el.getBoundingClientRect();\r\n      this.shift.x = e.clientX - rect.left;\r\n      this.shift.y = e.clientY - rect.top;\r\n    },\r\n    drag(e) {\r\n      if (!this.dragging) return;\r\n      const rect = this.$el.getBoundingClientRect();\r\n      const x = e.clientX - this.shift.x;\r\n      const y = e.clientY - this.shift.y;\r\n      if (\r\n        !this.snap.left &&\r\n        !this.snap.right &&\r\n        x > 0 &&\r\n        x + rect.width <= this.boundaries?.width\r\n      )\r\n        this.group.x = x;\r\n      if (\r\n        !this.snap.top &&\r\n        !this.snap.bottom &&\r\n        y > 0 &&\r\n        y + rect.height <= this.boundaries?.height\r\n      )\r\n        this.group.y = y;\r\n    },\r\n    dragStop() {\r\n      this.dragging = false;\r\n    },\r\n    openPicker(e) {\r\n      this.$emit(\"open-picker\", e);\r\n    },\r\n    closePicker(e) {\r\n      this.$emit(\"close-picker\", e);\r\n    },\r\n    setSnap() {\r\n      this.$set(this.group, \"snap\", {\r\n        top: false,\r\n        right: false,\r\n        bottom: false,\r\n        left: false,\r\n      });\r\n    },\r\n    snapTo(side) {\r\n      if (this.group.snap === null || typeof this.group.snap !== \"object\") {\r\n        this.setSnap()\r\n      }\r\n      this.group.snap[side] = !this.group.snap[side];\r\n      this.group.snap[oppoziteSide(side)] = false;\r\n\r\n      function oppoziteSide(side) {\r\n        const oppozites = {\r\n          top: \"bottom\",\r\n          right: \"left\",\r\n          bottom: \"top\",\r\n          left: \"right\",\r\n        };\r\n        return oppozites[side];\r\n      }\r\n    },\r\n    resetSnap() {\r\n      Object.keys(this.group.snap).forEach((k) => (this.group.snap[k] = false));\r\n    },\r\n    reposition() {\r\n      const rect = this.$el.getBoundingClientRect();\r\n      const bounds = this.boundaries;\r\n\r\n      let newX, newY;\r\n      if (this.isSnapped) {\r\n        if (this.snap.top) newY = 85;\r\n        if (this.snap.right) newX = bounds.width - rect.width;\r\n        if (this.snap.bottom) newY = bounds.height - rect.height - 10;\r\n        if (this.snap.left) newX = 10;\r\n      } else {\r\n        const xDiff = (bounds?.width || 0) - (this.oldBounds?.width || 0);\r\n        const yDiff = (bounds?.height || 0) - (this.oldBounds?.height || 0);\r\n        newX = this.group.x + xDiff;\r\n        newY = this.group.y + yDiff;\r\n      }\r\n\r\n      if (newX >= 0 && newX + rect.width <= bounds.width) this.group.x = newX;\r\n      if (newY >= 0 && newY + rect.height <= bounds.height) this.group.y = newY;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.card-group {\r\n  position: absolute;\r\n  z-index: 20;\r\n\r\n  .container {\r\n    position: relative;\r\n    .controls {\r\n      position: absolute;\r\n      top: -1rem;\r\n      left: 0;\r\n      display: flex;\r\n      // border: 1px solid purple;\r\n      // border-radius: 0.4rem;\r\n      background-color: white;\r\n      z-index: 10;\r\n      .control {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 1.5rem;\r\n        height: 1.5rem;\r\n        border: 1px solid var(--secondary-clr);\r\n\r\n        &.active {\r\n          background-color: rgba($color: purple, $alpha: 0.5);\r\n        }\r\n\r\n        &:not(:last-of-type) {\r\n          border-right: none;\r\n        }\r\n\r\n        &:first-of-type {\r\n          border-top-left-radius: 0.4rem;\r\n          border-bottom-left-radius: 0.4rem;\r\n        }\r\n        &:last-of-type {\r\n          border-top-right-radius: 0.4rem;\r\n          border-bottom-right-radius: 0.4rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.cards {\r\n  min-width: fit-content;\r\n  border: 1px solid black;\r\n  border-radius: 0.3rem;\r\n  position: relative;\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n\r\n  .card-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    .handle {\r\n      cursor: ew-resize;\r\n      height: 1rem;\r\n      width: 80%;\r\n      border-radius: 0.3rem;\r\n      margin-bottom: 0.3rem;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background-color: rgba($color: #000000, $alpha: 0.1);\r\n    }\r\n  }\r\n\r\n  &.target {\r\n    border: 1px dashed black;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardGroup.vue?vue&type=template&id=eeb1ba56&scoped=true&\"\nimport script from \"./CardGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./CardGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardGroup.vue?vue&type=style&index=0&id=eeb1ba56&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eeb1ba56\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"}],staticClass:\"picker\",style:({ top: `${_vm.y}px`, left: `${_vm.x}px` })},_vm._l((_vm.emojis.emoji),function(emoji,key){return _c('div',{key:key,staticClass:\"emoji\",attrs:{\"title\":key},domProps:{\"textContent\":_vm._s(emoji)},on:{\"click\":function($event){return _vm.pick({ key, emoji })}}})}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-show=\"shown\" class=\"picker\" :style=\"{ top: `${y}px`, left: `${x}px` }\">\r\n    <div\r\n      v-for=\"(emoji, key) in emojis.emoji\"\r\n      :key=\"key\"\r\n      class=\"emoji\"\r\n      :title=\"key\"\r\n      v-text=\"emoji\"\r\n      @click=\"pick({ key, emoji })\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport emojis from \"node-emoji\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      emojis,\r\n      shown: false,\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    open(e) {\r\n      const rect = this.$el.getBoundingClientRect();\r\n      const offset = 20;\r\n      this.x = e.clientX + offset;\r\n      this.y = e.clientY - rect.height - offset;\r\n      this.shown = true;\r\n    },\r\n    close() {\r\n      this.shown = false;\r\n    },\r\n    pick(emoji) {\r\n      this.$emit(\"pick\", emoji);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scped>\r\n.picker {\r\n  position: absolute;\r\n  width: auto;\r\n  height: auto;\r\n  max-width: 400px;\r\n  max-height: 300px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow: auto;\r\n  user-select: none;\r\n  z-index: 51;\r\n  padding: 0.5rem;\r\n  box-sizing: border-box;\r\n\r\n  background-color: white;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 0 5px black;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=a1ed27ca&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiPicker.vue?vue&type=style&index=0&id=a1ed27ca&prod&lang=scss&scped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cards-wrapper\">\r\n    <div class=\"cards\">\r\n      <emoji-picker ref=\"picker\" @pick=\"emojiPick\"></emoji-picker>\r\n      <card-group\r\n        v-for=\"group in cardGroups\"\r\n        :key=\"group.id\"\r\n        :group=\"group\"\r\n        :boundaries=\"boundaries\"\r\n        :targetGroup=\"targetGroup\"\r\n        :draggingCard=\"draggingCard\"\r\n        @set-dragging-card=\"setDraggingCard\"\r\n        @set-target-group=\"setTargetGroup\"\r\n        @open-picker=\"openPicker\"\r\n        @close-picker=\"closePicker\"\r\n      ></card-group>\r\n      <card\r\n        v-for=\"card in cards\"\r\n        :key=\"card.id\"\r\n        :card=\"card\"\r\n        :targetGroup=\"targetGroup\"\r\n        :boundaries=\"boundaries\"\r\n        @set-dragging-card=\"setDraggingCard\"\r\n        @set-target-group=\"setTargetGroup\"\r\n        @open-picker=\"openPicker\"\r\n        @close-picker=\"closePicker\"\r\n      ></card>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\r\n\r\nimport Card from \"./Card\";\r\nimport CardGroup from \"./CardGroup\";\r\nimport EmojiPicker from \"@/components/EmojiPicker\";\r\n\r\nexport default {\r\n  components: {\r\n    Card,\r\n    EmojiPicker,\r\n    CardGroup,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"cards\"]),\r\n    ...mapState([\"cardGroups\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      target: null,\r\n      targetGroup: null,\r\n      draggingCard: false,\r\n      boundaries: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.boundaries = this.$el.getBoundingClientRect();\r\n    window.addEventListener(\"resize\", this.align);\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setCardProperty\"]),\r\n    align() {\r\n      this.boundaries = this.$el.getBoundingClientRect();\r\n    },\r\n    setTargetGroup(group) {\r\n      this.targetGroup = group;\r\n    },\r\n    setDraggingCard(value) {\r\n      this.draggingCard = value;\r\n    },\r\n    openPicker([e, cardID]) {\r\n      this.target = cardID;\r\n      this.$refs.picker.open(e);\r\n    },\r\n    closePicker(cardID) {\r\n      if (this.target !== cardID) return;\r\n      this.$refs.picker.close();\r\n      this.target = null;\r\n    },\r\n    emojiPick(emoji) {\r\n      this.setCardProperty({\r\n        cardID: this.target,\r\n        key: \"icon\",\r\n        value: emoji.emoji,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.cards-wrapper {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  .cards {\r\n    position: relative;\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardsWrapper.vue?vue&type=template&id=2b171ea2&scoped=true&\"\nimport script from \"./CardsWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./CardsWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardsWrapper.vue?vue&type=style&index=0&id=2b171ea2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b171ea2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <context-menu ref=\"contextMenu\">\r\n      <template #items>\r\n        <button class=\"context-menu-item\" @click=\"addSibling\">\r\n          <b-icon icon=\"node-plus\"></b-icon>\r\n          Add sibling\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"addChild\">\r\n          <b-icon icon=\"diagram2\"></b-icon>\r\n          Add child\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"toggleDone\">\r\n          <b-icon :icon=\"tree.lastNode.done ? 'x' : 'check2'\"></b-icon>\r\n          {{ tree.lastNode.done ? \"Undo\" : \"Done\" }}\r\n        </button>\r\n        <button\r\n          class=\"context-menu-item\"\r\n          @click=\"pushRootToQuery\"\r\n          v-if=\"!tree.lastNode.isRoot\"\r\n        >\r\n          <b-icon icon=\"arrow-bar-down\"></b-icon>\r\n          Drill down\r\n        </button>\r\n        <button\r\n          v-if=\"tree.lastNode.childrenLength\"\r\n          class=\"context-menu-item\"\r\n          @click=\"collapseLastNode\"\r\n        >\r\n          <b-icon\r\n            :icon=\"\r\n              tree.lastNode.collapsed ? 'arrows-expand' : 'arrows-collapse'\r\n            \"\r\n          ></b-icon>\r\n          {{ tree.lastNode.collapsed ? \"Expand\" : \"Collapse\" }}\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"editLastNode\">\r\n          <b-icon icon=\"pencil\"></b-icon>\r\n          Edit\r\n        </button>\r\n        <button class=\"context-menu-selector\">\r\n          <b-icon icon=\"kanban\"></b-icon>\r\n          Weight: {{ tree.lastNode.weight || 1 }}\r\n          <ul>\r\n            <li\r\n              v-for=\"(value, key) in ['Default', 10, 5, 1, -1, -5, -10]\"\r\n              :key=\"key\"\r\n              @click=\"tree.lastNode.addWeight(value)\"\r\n            >\r\n              {{ value >= 0 ? `+${value}` : value }}\r\n            </li>\r\n          </ul>\r\n          <b-icon icon=\"chevron-right\" class=\"arrow\"></b-icon>\r\n        </button>\r\n        <button class=\"context-menu-selector\">\r\n          <b-icon icon=\"gear\"></b-icon>\r\n          Settings\r\n          <ul>\r\n            <li\r\n              v-for=\"(value, key) in tree.lastNode.settings\"\r\n              :key=\"key\"\r\n              @click=\"tree.lastNode.toggleSetting(key)\"\r\n            >\r\n              {{ key }}\r\n              <b-icon v-if=\"value\" icon=\"check2\"></b-icon>\r\n            </li>\r\n          </ul>\r\n          <b-icon icon=\"chevron-right\" class=\"arrow\"></b-icon>\r\n        </button>\r\n        <button\r\n          v-if=\"tree.lastNode.deletable\"\r\n          class=\"context-menu-item\"\r\n          @click=\"deleteLastNode\"\r\n        >\r\n          <b-icon icon=\"node-minus\"></b-icon>\r\n          Delete\r\n        </button>\r\n      </template>\r\n    </context-menu>\r\n    <toolbar></toolbar>\r\n\r\n    <div\r\n      class=\"tree-container\"\r\n      ref=\"container\"\r\n      :class=\"{ dragging: nodeDrag.dragging }\"\r\n      @mousewheel=\"handleZoom\"\r\n      @click.middle=\"handleZoom\"\r\n    >\r\n      <svg class=\"svg vue-tree\" ref=\"svg\" :style=\"initialTransformStyle\"></svg>\r\n\r\n      <div\r\n        class=\"dom-container\"\r\n        ref=\"domContainer\"\r\n        :style=\"initialTransformStyle\"\r\n      >\r\n        <div\r\n          class=\"node-slot\"\r\n          v-for=\"node of nodeDataList\"\r\n          :key=\"node.data._key\"\r\n          :style=\"{\r\n            left: formatDimension(node.y),\r\n            top: formatDimension(node.x),\r\n            width: formatDimension(config.nodeWidth),\r\n            height: formatDimension(config.nodeHeight),\r\n          }\"\r\n          @dragover.stop=\"mouseOverNode($event, node)\"\r\n          @dragend=\"onDrop($event, node)\"\r\n        >\r\n          <!-- @dragleave=\"mouseLeaveNode($event, node)\" -->\r\n          <div\r\n            class=\"node-slot-overlay\"\r\n            :class=\"{\r\n              'node-top': nodeDrag.snap === 'top' && isDraggedOver(node.data),\r\n              'node-bottom':\r\n                nodeDrag.snap === 'bottom' && isDraggedOver(node.data),\r\n              'node-right':\r\n                nodeDrag.snap === 'right' && isDraggedOver(node.data),\r\n            }\"\r\n          >\r\n            <div\r\n              class=\"node\"\r\n              :class=\"{\r\n                dragover: isDraggedOver(node.data),\r\n                highlighted: node.data._gid === tree.lastNode._gid,\r\n                stack: node.data.childrenLength && node.data.collapsed,\r\n                done: node.data.done,\r\n                editing: node.data.editing,\r\n              }\"\r\n              :style=\"{\r\n                'max-width': formatDimension(config.nodeMaxWidth),\r\n                'max-height': formatDimension(config.nodeMaxHeight),\r\n              }\"\r\n              @mousedown.stop\r\n              @click=\"setLastNode(node.data, $event)\"\r\n              @contextmenu=\"nodeContextClick($event, node.data)\"\r\n              :draggable=\"node.data.draggable\"\r\n              @dragstart=\"startDrag($event, node)\"\r\n              @drag=\"onDrag()\"\r\n            >\r\n              <div class=\"content\" v-if=\"!node.data.editing\">\r\n                <div\r\n                  v-if=\"\r\n                    !node.data.editing &&\r\n                    node.data.emoji &&\r\n                    node.data.emoji.length\r\n                  \"\r\n                >\r\n                  <span\r\n                    v-for=\"(emoji, key) in emojifyArray(node.data.emoji)\"\r\n                    :key=\"key\"\r\n                    >{{ emoji }}\r\n                  </span>\r\n                </div>\r\n                <pre\r\n                  v-if=\"!node.data.editing\"\r\n                  v-text=\"node.data.name\"\r\n                  @mousewheel.stop\r\n                ></pre>\r\n                <button\r\n                  class=\"drill-up\"\r\n                  v-if=\"node.data.isRoot && tree.hasQuery\"\r\n                  @click.stop=\"spliceRootsQuery\"\r\n                >\r\n                  <b-icon icon=\"arrow-bar-up\"></b-icon>\r\n                </button>\r\n              </div>\r\n              <textarea\r\n                v-if=\"node.data.editing\"\r\n                v-model=\"node.data._name\"\r\n                :ref=\"`node-#${node.data._gid}`\"\r\n                @keydown.esc=\"quitNodeEditor\"\r\n                @keydown.enter.prevent=\"quitNodeEditor($event, { save: true })\"\r\n                @keydown.tab.prevent=\"\r\n                  quitNodeEditor($event, { save: true, callback: addChild })\r\n                \"\r\n                @keydown.exact.stop\r\n                @blur=\"blurLastNode(node.data)\"\r\n                @mousewheel.stop\r\n              ></textarea>\r\n              <!-- <button v-if=\"node.data.editing\">Save</button> -->\r\n\r\n              <sub\r\n                v-if=\"!node.data.editing && node.data.totalChildrenTasks > 0\"\r\n                class=\"completeness\"\r\n                >{{\r\n                  `${node.data.finishedChildrenTasks}/${node.data.totalChildrenTasks}`\r\n                }}</sub\r\n              >\r\n              <div\r\n                v-if=\"shouldDisplayProgress(node.data)\"\r\n                class=\"progress\"\r\n                :class=\"{ 'round-right': node.data.progress == 100 }\"\r\n                :style=\"{ width: `${node.data.progress}%` }\"\r\n                :title=\"`${node.data.progress}%`\"\r\n              >\r\n                <!-- <span>{{ node.data.progress }}%</span> -->\r\n              </div>\r\n              <div\r\n                class=\"controls\"\r\n                v-if=\"node.data._gid === tree.lastNode._gid\"\r\n              >\r\n                <button class=\"add-child\" @click.stop=\"addSibling\">\r\n                  <b-icon icon=\"node-plus\"></b-icon>\r\n                </button>\r\n                <button class=\"add-sibling\" @click=\"addChild\">\r\n                  <b-icon icon=\"diagram2\"></b-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <breadcrumb></breadcrumb>\r\n    <cards-wrapper></cards-wrapper>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Breadcrumb from \"@/components/Breadcrumb\";\r\nimport ContextMenu from \"@/components/ContextMenu\";\r\nimport CardsWrapper from \"@/components/cards/CardsWrapper\";\r\n\r\nimport * as d3 from \"d3\";\r\nimport { flextree } from \"d3-flextree\";\r\nconst layout = flextree();\r\n\r\nimport { tree } from \"@/tree\";\r\nimport { events, eventBus } from \"@/hotkeys\";\r\nimport { store } from \"@/store/index\";\r\nimport { mapActions } from \"vuex\";\r\nimport emojis from \"node-emoji\";\r\n\r\nconst MATCH_TRANSLATE_REGEX = /translate\\((-?\\d+)px, ?(-?\\d+)px\\)/i;\r\nconst MATCH_SCALE_REGEX = /scale\\((\\S*)\\)/i;\r\n\r\nconst LinkStyle = {\r\n  CURVE: \"curve\",\r\n  STRAIGHT: \"straight\",\r\n};\r\n\r\nconst DEFAULT_NODE_WIDTH = 200;\r\nconst DEFAULT_NODE_HEIGHT = 100;\r\nconst DEFAULT_LEVEL_HEIGHT = 200;\r\n\r\nconst ANIMATION_DURATION = 0;\r\n\r\nfunction uuid() {\r\n  const s = [];\r\n  const hexDigits = \"0123456789abcdef\";\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n  }\r\n  s[14] = \"4\";\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\r\n  s[8] = s[13] = s[18] = s[23] = \"-\";\r\n  return s.join(\"\");\r\n}\r\n\r\nfunction rotatePoint({ x, y }) {\r\n  return {\r\n    x: y,\r\n    y: x,\r\n  };\r\n}\r\n\r\nexport default {\r\n  name: \"Tree\",\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          nodeWidth: DEFAULT_NODE_WIDTH,\r\n          nodeHeight: DEFAULT_NODE_HEIGHT,\r\n          nodeMaxWidth: 150,\r\n          nodeMaxHeight: 200,\r\n          levelHeight: DEFAULT_LEVEL_HEIGHT,\r\n        };\r\n      },\r\n    },\r\n    linkStyle: {\r\n      type: String,\r\n      default: LinkStyle.CURVE,\r\n    },\r\n  },\r\n  components: { Toolbar, ContextMenu, Breadcrumb, CardsWrapper },\r\n  data() {\r\n    return {\r\n      d3,\r\n      events,\r\n      store,\r\n      tree,\r\n      colors: \"568FE1\",\r\n      nodeDataList: [],\r\n      linkDataList: [],\r\n      initTransformX: 0,\r\n      initTransformY: 0,\r\n      currentScale: 1,\r\n      nodeDrag: {\r\n        dragging: false,\r\n        source: null,\r\n        target: null,\r\n        snap: \"\",\r\n      },\r\n      key: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    initialTransformStyle() {\r\n      return {\r\n        transform: `scale(1) translate(${this.initTransformX}px, ${this.initTransformY}px)`,\r\n        transformOrigin: \"center\",\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    this.addUniqueKey(this.tree.root);\r\n    window.addEventListener(\"unload\", this.beforeUnload);\r\n\r\n    eventBus.$on(\"tree-push-root\", this.pushRootToQuery);\r\n    eventBus.$on(\"tree-pop-root\", this.spliceRootsQuery);\r\n    eventBus.$on(\"tree-add-sibling\", this.addSibling);\r\n    eventBus.$on(\"tree-add-child\", this.addChild);\r\n    eventBus.$on(\"tree-set-last-node\", (args) => {\r\n      if (args && args[0]) this.setLastNode(args[0]);\r\n    });\r\n    eventBus.$on(\"tree-node-toggle-done\", this.toggleDone);\r\n    eventBus.$on(\"tree-node-toggle-emoji\", this.toggleEmoji);\r\n    eventBus.$on(\"tree-node-collapse\", this.collapseLastNode);\r\n    eventBus.$on(\"tree-node-edit\", this.editLastNode);\r\n    eventBus.$on(\"tree-node-do-all-children\", this.doAllChildren);\r\n    eventBus.$on(\"tree-node-undo-all-children\", this.undoAllChildren);\r\n\r\n    eventBus.$on(\"tree-delete-last-node\", this.deleteLastNode);\r\n\r\n    eventBus.$on(\"tree-go-up\", this.goUp);\r\n    eventBus.$on(\"tree-go-down\", this.goDown);\r\n    eventBus.$on(\"tree-go-left\", this.goLeft);\r\n    eventBus.$on(\"tree-go-right\", this.goRight);\r\n    eventBus.$on(\"document-save\", this.saveDocument);\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      saveDocumentAction: \"saveDocument\",\r\n    }),\r\n    isDraggedOver(node) {\r\n      return (\r\n        this.nodeDrag?.target?.data._gid === node._gid &&\r\n        this.nodeDrag?.source?.data._gid !== node._gid &&\r\n        !node.isRoot\r\n      );\r\n    },\r\n    startDrag(evt, node) {\r\n      evt.dataTransfer.dropEffect = \"move\";\r\n      evt.dataTransfer.effectAllowed = \"move\";\r\n      node.data.collapsed = true;\r\n      this.nodeDrag.source = node;\r\n    },\r\n    onDrag() {\r\n      this.nodeDrag.dragging = true;\r\n    },\r\n    onDrop(_, node) {\r\n      if (this.nodeDrag.target && this.nodeDrag.target !== node)\r\n        tree.cloneNode(\r\n          node.data,\r\n          this.nodeDrag.target.data,\r\n          this.nodeDrag.snap\r\n        );\r\n      node.collapsed = false;\r\n      this.nodeDrag.dragging = false;\r\n      this.nodeDrag.target = null;\r\n      this.nodeDrag.source = null;\r\n    },\r\n    mouseOverNode(e, node) {\r\n      if (!this.nodeDrag.dragging || node.isRoot) return;\r\n      this.nodeDrag.target = node;\r\n      let rect = e.target.getBoundingClientRect();\r\n      let x = e.clientX - rect.left;\r\n      let y = e.clientY - rect.top;\r\n      let yHalf = rect.height / 2;\r\n\r\n      if (x > rect.width - rect.width / 4) {\r\n        this.nodeDrag.snap = \"right\";\r\n      } else if (y < yHalf) {\r\n        this.nodeDrag.snap = \"top\";\r\n      } else if (y >= yHalf) {\r\n        this.nodeDrag.snap = \"bottom\";\r\n      }\r\n    },\r\n    mouseLeaveNode(_, node) {\r\n      if (node.data._gid !== this.nodeDrag?.target?.data._gid) return;\r\n      this.nodeDrag.target = null;\r\n    },\r\n    beforeUnload() {\r\n      this.saveDocument();\r\n      window.removeEventListener(\"unload\", this.beforeUnload);\r\n    },\r\n    spliceRootsQuery(n = 1) {\r\n      tree.spliceRootsQuery(n);\r\n    },\r\n    pushRootToQuery() {\r\n      if (tree.lastNode) tree.pushRootToQuery(tree.lastNode);\r\n    },\r\n    sortTree(by, direction) {\r\n      tree.sortLastNode(by, direction);\r\n    },\r\n    addSibling() {\r\n      tree.addSibling();\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    addChild() {\r\n      tree.addChild();\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    toggleDone() {\r\n      tree.lastNode.toggleDoneState();\r\n    },\r\n    shouldDisplayProgress(node) {\r\n      return node?.settings?.displayProgress;\r\n    },\r\n    doAllChildren() {\r\n      tree.lastNode.setAllChildrenDoneState(true);\r\n    },\r\n    undoAllChildren() {\r\n      tree.lastNode.setAllChildrenDoneState(false);\r\n    },\r\n    toggleEmoji(emoji) {\r\n      tree.lastNode.toggleEmoji(emoji);\r\n    },\r\n    emojifyArray(array) {\r\n      if (!array?.length) return \"\";\r\n      return array.map((a) => emojis.get(a));\r\n    },\r\n    setLastNode(node, event) {\r\n      if (event?.which === 1 && tree.lastNode._gid === node._gid)\r\n        return this.collapseLastNode();\r\n      tree.lastNode = node;\r\n      this.$refs?.contextMenu?.close();\r\n    },\r\n    editLastNode() {\r\n      tree.lastNode.editing = true;\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    blurLastNode(triggerNode) {\r\n      tree.blurLastNode(triggerNode);\r\n    },\r\n    collapseLastNode() {\r\n      tree.collapseLastNode();\r\n    },\r\n    deleteLastNode() {\r\n      tree.deleteLastNode();\r\n      // this.saveDocument();\r\n    },\r\n    quitNodeEditor(e, options = { save: false, callback: null }) {\r\n      if (e.shiftKey) return (tree.lastNode._name += \"\\n\");\r\n      if (tree.lastNode.firstEdit && !options.save) {\r\n        tree.deleteLastNode({ force: true });\r\n      } else {\r\n        tree.lastNode.editing = false;\r\n        tree.lastNode.parseName();\r\n      }\r\n      if (typeof options.callback === \"function\") options.callback();\r\n    },\r\n\r\n    goUp() {\r\n      tree.goUp();\r\n    },\r\n    goDown() {\r\n      tree.goDown();\r\n    },\r\n    goLeft() {\r\n      tree.goLeft();\r\n    },\r\n    goRight() {\r\n      tree.goRight();\r\n    },\r\n    clickedText(node) {\r\n      this.setLastNode(node.data);\r\n    },\r\n    clickedNode(node) {\r\n      this.setLastNode(node);\r\n      tree.collapseLastNode();\r\n    },\r\n    focusInput(ref) {\r\n      if (!ref) return;\r\n      this.$nextTick(() => {\r\n        const input = this.$refs[ref];\r\n        if (input && input[0]) input[0].focus();\r\n      });\r\n    },\r\n    saveDocument() {\r\n      this.saveDocumentAction(tree.export());\r\n    },\r\n\r\n    handleZoom(e) {\r\n      if (e.which === 2) return this.restoreScale();\r\n      if (!e.which) {\r\n        ((e.deltaY || -e.wheelDelta || e.detail) >> 10 || 1) < 0\r\n          ? this.zoomIn()\r\n          : this.zoomOut();\r\n      }\r\n    },\r\n    init() {\r\n      this.draw();\r\n      this.enableDrag();\r\n      this.initTransform();\r\n    },\r\n    zoomIn() {\r\n      const originTransformStr = this.$refs.domContainer?.style?.transform;\r\n      if (!originTransformStr) return;\r\n      let targetScale = 1 * 1.2;\r\n      const scaleMatchResult = originTransformStr.match(MATCH_SCALE_REGEX);\r\n      if (scaleMatchResult && scaleMatchResult.length > 0) {\r\n        const originScale = parseFloat(scaleMatchResult[1]);\r\n        targetScale *= originScale;\r\n      }\r\n      this.setScale(targetScale);\r\n    },\r\n    zoomOut() {\r\n      const originTransformStr = this.$refs.domContainer?.style?.transform;\r\n      if (!originTransformStr) return;\r\n      let targetScale = 1 / 1.2;\r\n      const scaleMatchResult = originTransformStr.match(MATCH_SCALE_REGEX);\r\n      if (scaleMatchResult && scaleMatchResult.length > 0) {\r\n        const originScale = parseFloat(scaleMatchResult[1]);\r\n        targetScale = originScale / 1.2;\r\n      }\r\n      this.setScale(targetScale);\r\n    },\r\n    restoreScale() {\r\n      this.setScale(1);\r\n    },\r\n    setScale(scaleNum) {\r\n      if (typeof scaleNum !== \"number\") return;\r\n      let pos = this.getTranslate();\r\n      if (!pos) return;\r\n      let translateString = `translate(${pos[0]}px, ${pos[1]}px)`;\r\n      if (!this.$refs.domContainer?.style?.transform) return;\r\n      this.$refs.svg.style.transform = `scale(${scaleNum}) ` + translateString;\r\n      this.$refs.domContainer.style.transform =\r\n        `scale(${scaleNum}) ` + translateString;\r\n      this.currentScale = scaleNum;\r\n    },\r\n    getTranslate() {\r\n      let string = this.$refs.svg?.style.transform;\r\n      if (!string) return;\r\n      let match = string.match(MATCH_TRANSLATE_REGEX);\r\n      if (match === null) {\r\n        return [null, null];\r\n      }\r\n      let x = parseInt(match[1]);\r\n      let y = parseInt(match[2]);\r\n      return [x, y];\r\n    },\r\n    addUniqueKey(rootNode) {\r\n      const queue = [rootNode];\r\n      while (queue.length !== 0) {\r\n        const node = queue.pop();\r\n        node._key = uuid();\r\n        if (node.children) {\r\n          queue.push(...node.children);\r\n        }\r\n      }\r\n      return rootNode;\r\n    },\r\n    initTransform() {\r\n      const containerHeight = this.$refs.container.offsetHeight;\r\n      this.initTransformX = Math.floor(this.config.nodeWidth);\r\n      this.initTransformY = Math.floor(containerHeight / 2);\r\n    },\r\n    generateLinkPath(d) {\r\n      if (this.linkStyle === LinkStyle.CURVE) {\r\n        const linkPath = d3.linkHorizontal();\r\n        linkPath\r\n          .x(function (d) {\r\n            return d.x;\r\n          })\r\n          .y(function (d) {\r\n            return d.y;\r\n          })\r\n          .source(function (d) {\r\n            const sourcePoint = {\r\n              x: d.source.x,\r\n              y: d.source.y,\r\n            };\r\n            return rotatePoint(sourcePoint);\r\n          })\r\n          .target(function (d) {\r\n            const targetPoint = {\r\n              x: d.target.x,\r\n              y: d.target.y,\r\n            };\r\n            return rotatePoint(targetPoint);\r\n          });\r\n        return linkPath(d);\r\n      }\r\n      if (this.linkStyle === LinkStyle.STRAIGHT) {\r\n        // the link path is: source -> secondPoint -> thirdPoint -> target\r\n        const linkPath = d3.path();\r\n        let sourcePoint = { x: d.source.x, y: d.source.y };\r\n        let targetPoint = { x: d.target.x, y: d.target.y };\r\n        sourcePoint = rotatePoint(sourcePoint);\r\n        targetPoint = rotatePoint(targetPoint);\r\n        const xOffset = targetPoint.x - sourcePoint.x;\r\n        const secondPoint = {\r\n          x: sourcePoint.x + xOffset / 2,\r\n          y: sourcePoint.y,\r\n        };\r\n        const thirdPoint = { x: sourcePoint.x + xOffset / 2, y: targetPoint.y };\r\n        linkPath.moveTo(sourcePoint.x, sourcePoint.y);\r\n        linkPath.lineTo(secondPoint.x, secondPoint.y);\r\n        linkPath.lineTo(thirdPoint.x, thirdPoint.y);\r\n        linkPath.lineTo(targetPoint.x, targetPoint.y);\r\n        return linkPath.toString();\r\n      }\r\n    },\r\n    draw() {\r\n      const [nodeDataList, linkDataList] = this.buildTree(this.tree.root);\r\n      this.linkDataList = linkDataList;\r\n      this.svg = this.d3.select(this.$refs.svg);\r\n\r\n      const self = this;\r\n      const links = this.svg.selectAll(\".link\").data(linkDataList, (d) => {\r\n        return `${d.source.data._key}-${d.target.data._key}`;\r\n      });\r\n\r\n      links\r\n        .enter()\r\n        .append(\"path\")\r\n        // .style(\"opacity\", 0)\r\n        // .transition()\r\n        // .duration(ANIMATION_DURATION)\r\n        // .ease(d3.easeCubicInOut)\r\n        // .style(\"opacity\", 1)\r\n        .attr(\"class\", \"link\")\r\n        .attr(\"d\", function (d) {\r\n          return self.generateLinkPath(d);\r\n        });\r\n      links\r\n        .transition()\r\n        .duration(ANIMATION_DURATION)\r\n        .ease(d3.easeCubicInOut)\r\n        .attr(\"d\", function (d) {\r\n          return self.generateLinkPath(d);\r\n        });\r\n      links\r\n        .exit()\r\n        .transition()\r\n        .duration(ANIMATION_DURATION / 2)\r\n        .ease(d3.easeCubicInOut)\r\n        .style(\"opacity\", 0)\r\n        .remove();\r\n\r\n      this.nodeDataList = nodeDataList;\r\n    },\r\n    buildTree(rootNode) {\r\n      const treeBuilder = this.d3\r\n        .tree()\r\n        .nodeSize([this.config.nodeWidth, this.config.levelHeight]);\r\n      const tree = treeBuilder(this.d3.hierarchy(rootNode));\r\n      layout(tree);\r\n      return [tree.descendants(), tree.links()];\r\n    },\r\n    enableDrag() {\r\n      const svgElement = this.$refs.svg;\r\n      const container = this.$refs.container;\r\n      let startX = 0;\r\n      let startY = 0;\r\n      let isDrag = false;\r\n      let mouseDownTransform = \"\";\r\n      container.onmousedown = (event) => {\r\n        mouseDownTransform = svgElement.style.transform;\r\n        startX = event.clientX;\r\n        startY = event.clientY;\r\n        isDrag = true;\r\n      };\r\n      container.onmousemove = (event) => {\r\n        if (!isDrag) return;\r\n        const originTransform = mouseDownTransform;\r\n        let originOffsetX = 0;\r\n        let originOffsetY = 0;\r\n        if (originTransform) {\r\n          const result = originTransform.match(MATCH_TRANSLATE_REGEX);\r\n          if (result !== null && result.length !== 0) {\r\n            const [offsetX, offsetY] = result.slice(1);\r\n            originOffsetX = parseInt(offsetX);\r\n            originOffsetY = parseInt(offsetY);\r\n          }\r\n        }\r\n        let newX =\r\n          Math.floor((event.clientX - startX) / this.currentScale) +\r\n          originOffsetX;\r\n        let newY =\r\n          Math.floor((event.clientY - startY) / this.currentScale) +\r\n          originOffsetY;\r\n        let transformStr = `translate(${newX}px, ${newY}px)`;\r\n        if (originTransform) {\r\n          transformStr = originTransform.replace(\r\n            MATCH_TRANSLATE_REGEX,\r\n            transformStr\r\n          );\r\n        }\r\n        svgElement.style.transform = transformStr;\r\n        this.$refs.domContainer.style.transform = transformStr;\r\n      };\r\n\r\n      container.onmouseleave = () => {\r\n        startX = 0;\r\n        startY = 0;\r\n        isDrag = false;\r\n      };\r\n\r\n      container.onmouseup = () => {\r\n        startX = 0;\r\n        startY = 0;\r\n        isDrag = false;\r\n      };\r\n    },\r\n    formatDimension(dimension) {\r\n      if (typeof dimension === \"number\") return `${dimension}px`;\r\n      if (dimension.indexOf(\"px\") !== -1) {\r\n        return dimension;\r\n      } else {\r\n        return `${dimension}px`;\r\n      }\r\n    },\r\n    parseDimensionNumber(dimension) {\r\n      if (typeof dimension === \"number\") {\r\n        return dimension;\r\n      }\r\n      return parseInt(dimension.replace(\"px\", \"\"));\r\n    },\r\n    nodeContextClick(event, node) {\r\n      event.preventDefault();\r\n      this.setLastNode(node);\r\n      this.$refs.contextMenu?.open(event);\r\n    },\r\n  },\r\n  watch: {\r\n    \"tree.root\": {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        this.draw();\r\n        this.saveDocument();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.tree-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.node {\r\n  border-radius: 0.6rem;\r\n  box-sizing: border-box;\r\n  border: 1px solid grey;\r\n  background-color: var(--node-bg-clr);\r\n  color: black;\r\n  user-select: none;\r\n  height: fit-content;\r\n  position: relative;\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &.editing {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5rem;\r\n    position: relative;\r\n    align-self: center;\r\n  }\r\n\r\n  .completeness {\r\n    margin: 0.5rem -0.5rem 0 0;\r\n    align-self: flex-end;\r\n    min-width: 4rem;\r\n    text-align: end;\r\n    color: rgba($color: #000000, $alpha: 0.4);\r\n  }\r\n\r\n  .progress {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    margin: 0 -1rem;\r\n    bottom: 0;\r\n    height: 0.4rem;\r\n    background-color: rgb(44, 189, 44);\r\n    border-bottom-left-radius: 0.7rem;\r\n    font-size: 0.8rem;\r\n    color: white;\r\n    transition: width 1s ease;\r\n    span {\r\n      margin-left: 0.4rem;\r\n    }\r\n\r\n    &.round-right {\r\n      border-bottom-right-radius: 0.7rem;\r\n    }\r\n  }\r\n  &.dragover {\r\n    border: 0.2rem solid var(--secondary-clr);\r\n    opacity: 1;\r\n  }\r\n  &.done {\r\n    background-color: var(--primary-clr);\r\n  }\r\n  &.done pre {\r\n    text-decoration: line-through;\r\n  }\r\n  pre {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-height: 150px;\r\n    margin: 0;\r\n    padding: 0;\r\n    text-align: center;\r\n    height: fit-content;\r\n    font-family: var(--font-family);\r\n    white-space: pre-line;\r\n    word-wrap: break-word;\r\n    overflow: auto;\r\n  }\r\n\r\n  .drill-up {\r\n    align-self: center;\r\n  }\r\n  textarea {\r\n    height: 4rem;\r\n    width: 100%;\r\n    font-size: 1rem;\r\n    font-family: var(--font-family);\r\n    resize: vertical;\r\n    max-height: 150px;\r\n    min-height: 30px;\r\n  }\r\n  button {\r\n    cursor: pointer;\r\n    outline: none;\r\n    border: 1px solid var(--secondary-clr);\r\n    border-radius: 0.4rem;\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n  }\r\n  button:active {\r\n    border: 1px solid white;\r\n  }\r\n  .add-sibling {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: calc(100% + 1rem);\r\n  }\r\n  .add-child {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    top: calc(100% + 0.5rem);\r\n  }\r\n}\r\n\r\n.link {\r\n  stroke-width: 2px !important;\r\n  fill: transparent !important;\r\n  stroke: var(--node-link-clr) !important;\r\n}\r\n\r\n.tree-container.dragging .link {\r\n  opacity: 0.2;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree-container {\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  .vue-tree {\r\n    position: relative;\r\n  }\r\n\r\n  > svg,\r\n  .dom-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    overflow: visible;\r\n    transform-origin: 0 50%;\r\n  }\r\n\r\n  .dom-container {\r\n    z-index: 1;\r\n    // pointer-events: none;\r\n  }\r\n\r\n  &.dragging .node {\r\n    opacity: 0.7;\r\n  }\r\n}\r\n\r\n.node-slot {\r\n  cursor: pointer;\r\n  position: absolute;\r\n  background-color: transparent;\r\n  box-sizing: border-box;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-sizing: content-box;\r\n\r\n  .node-slot-overlay {\r\n    position: relative;\r\n\r\n    // top\r\n    &.node-top::before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      bottom: calc(100% + 0.5rem);\r\n      width: 100%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n\r\n    // bottom\r\n    &.node-bottom::before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      top: calc(100% + 0.5rem);\r\n      width: 100%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n\r\n    // right\r\n    &.node-right::before {\r\n      content: \"\";\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      left: calc(100% + 0.5rem);\r\n      width: 50%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n  }\r\n}\r\n\r\n.highlighted {\r\n  border: 2px solid var(--secondary-clr);\r\n}\r\n\r\n.stack {\r\n  position: relative;\r\n}\r\n\r\n.stack,\r\n.stack::before,\r\n.stack::after {\r\n  box-shadow: 2px 1px 1px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.stack::before,\r\n.stack::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  border-radius: 1rem;\r\n}\r\n\r\n/* Second sheet of stack */\r\n.stack::before {\r\n  left: 4px;\r\n  top: 4px;\r\n  z-index: -1;\r\n}\r\n\r\n/* Third sheet of stack */\r\n.stack::after {\r\n  left: 8px;\r\n  top: 8px;\r\n  z-index: -2;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tree.vue?vue&type=template&id=12261730&scoped=true&\"\nimport script from \"./Tree.vue?vue&type=script&lang=js&\"\nexport * from \"./Tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tree.vue?vue&type=style&index=0&id=12261730&prod&lang=scss&scoped=true&\"\nimport style1 from \"./Tree.vue?vue&type=style&index=1&id=12261730&prod&lang=scss&\"\nimport style2 from \"./Tree.vue?vue&type=style&index=2&id=12261730&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12261730\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <tree v-if=\"tree.loaded\"></tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tree from \"@/components/Tree\";\r\nimport { tree } from \"@/tree\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Tree,\r\n  },\r\n  data() {\r\n    return {\r\n      tree,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Roboto&display=swap\");\r\n\r\n:root {\r\n  --body-bg-clr: #eef2f5;\r\n  --primary-clr: #eef2f5;\r\n  --secondary-clr: #a03bc3;\r\n  --node-bg-clr: white;\r\n  --node-link-clr: #a03bc3;\r\n  --node-bg-secondary-clr: #282c34;\r\n  --context-menu-bg-clr: #293845;\r\n  --context-menu-item-hover-clr: #a03bc3;\r\n  --hr-clr: #6e6b74;\r\n  --max-height: calc(100vh - 1.5rem);\r\n  --text-primary: rgba(255, 255, 255, 0.6);\r\n  --text-secondary: rgba(255, 255, 255, 0.87);\r\n\r\n  --font-family: \"Roboto\", sans-serif;\r\n}\r\n\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: var(--body-bg-clr);\r\n}\r\n\r\n#app {\r\n  font-family: var(--font-family);\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=44676804&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=44676804&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport { store } from \"@/store/index\";\r\n\r\nimport { Init } from \"@/hotkeys\";\r\nInit();\r\n\r\nimport VModal from \"vue-js-modal\";\r\nVue.use(VModal, { componentName: \"Modal\" });\r\n\r\nimport {\r\n  ModalPlugin,\r\n  FormTextareaPlugin,\r\n  BootstrapVueIcons,\r\n} from \"bootstrap-vue\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\r\nVue.use(BootstrapVueIcons);\r\nVue.use(ModalPlugin);\r\nVue.use(FormTextareaPlugin);\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  render: (h) => h(App),\r\n  store,\r\n}).$mount(\"#app\");\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=style&index=0&id=2b171ea2&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=938189b0&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=style&index=0&id=6242c6c1&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=1&id=12261730&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=style&index=0&id=8c80905c&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=style&index=0&id=d1b84f7e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=style&index=0&id=eeb1ba56&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=style&index=0&id=726764da&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=a1ed27ca&prod&lang=scss&scped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=2&id=12261730&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=3c2682f0&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=style&index=0&id=a7b00144&prod&lang=scss&scoped=true&\""],"sourceRoot":""}