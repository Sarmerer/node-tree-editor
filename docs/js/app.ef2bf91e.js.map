{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/ExportJSON.vue?6c9f","webpack:///./src/components/Tree.vue?49b7","webpack:///./src/components/cards/CardsWrapper.vue?6ad4","webpack:///./src/components/Breadcrumb.vue?4e7a","webpack:///./src/components/common/Tabs.vue?6b5e","webpack:///./src/components/Tree.vue?494f","webpack:///./src/App.vue?9d56","webpack:///./src/components/Tree.vue?517e","webpack:///./src/components/Toolbar.vue?8207","webpack:///./src/components/ImportExportModal.vue?5a42","webpack:///./src/components/ImportJSON.vue?e022","webpack:///./src/utils.js","webpack:///./src/card.js","webpack:///./src/store/index.js","webpack:///./src/node.js","webpack:///./src/tree.js","webpack:///./src/components/common/Tabs.vue?c52b","webpack:///src/components/common/Tabs.vue","webpack:///./src/components/common/Tabs.vue?0ff4","webpack:///./src/components/common/Tabs.vue","webpack:///./src/components/common/Tab.vue?0390","webpack:///src/components/common/Tab.vue","webpack:///./src/components/common/Tab.vue?d75e","webpack:///./src/components/common/Tab.vue","webpack:///src/components/ImportJSON.vue","webpack:///./src/components/ImportJSON.vue?9b2f","webpack:///./src/components/ImportJSON.vue","webpack:///./src/components/ExportJSON.vue?37a6","webpack:///src/components/ExportJSON.vue","webpack:///./src/components/ExportJSON.vue?bea1","webpack:///./src/components/ExportJSON.vue","webpack:///src/components/ImportExportModal.vue","webpack:///./src/components/ImportExportModal.vue?53a6","webpack:///./src/components/ImportExportModal.vue","webpack:///./src/components/DocumentsList.vue?9d32","webpack:///src/components/DocumentsList.vue","webpack:///./src/components/DocumentsList.vue?b483","webpack:///./src/components/DocumentsList.vue","webpack:///./src/components/EmojiBar.vue?2ad0","webpack:///./src/hotkeys.js","webpack:///src/components/EmojiBar.vue","webpack:///./src/components/EmojiBar.vue?801b","webpack:///./src/components/EmojiBar.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?2909","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/Breadcrumb.vue?6681","webpack:///src/components/Breadcrumb.vue","webpack:///./src/components/Breadcrumb.vue?fd89","webpack:///./src/components/Breadcrumb.vue","webpack:///./src/components/ContextMenu.vue?4e18","webpack:///src/components/ContextMenu.vue","webpack:///./src/components/ContextMenu.vue?ef87","webpack:///./src/components/ContextMenu.vue","webpack:///./src/components/cards/CardsWrapper.vue?f904","webpack:///./src/components/cards/Card.vue?ce7b","webpack:///./src/card-group.js","webpack:///src/components/cards/Card.vue","webpack:///./src/components/cards/Card.vue?b3ee","webpack:///./src/components/cards/Card.vue","webpack:///./src/components/cards/CardGroup.vue?3584","webpack:///src/components/cards/CardGroup.vue","webpack:///./src/components/cards/CardGroup.vue?82a5","webpack:///./src/components/cards/CardGroup.vue","webpack:///./src/components/EmojiPicker.vue?4bcf","webpack:///src/components/EmojiPicker.vue","webpack:///./src/components/EmojiPicker.vue?21a5","webpack:///./src/components/EmojiPicker.vue","webpack:///src/components/cards/CardsWrapper.vue","webpack:///./src/components/cards/CardsWrapper.vue?be67","webpack:///./src/components/cards/CardsWrapper.vue","webpack:///src/components/Tree.vue","webpack:///./src/components/Tree.vue?cb80","webpack:///./src/components/Tree.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/EmojiPicker.vue?d28e","webpack:///./src/components/DocumentsList.vue?8ee9","webpack:///./src/components/ContextMenu.vue?d835","webpack:///./src/components/Toolbar.vue?6167","webpack:///./src/components/cards/CardGroup.vue?b2b0","webpack:///./src/components/Tree.vue?c874","webpack:///./src/components/EmojiBar.vue?7c29","webpack:///./src/components/ImportJSON.vue?2ad8","webpack:///./src/components/ImportExportModal.vue?5a0f","webpack:///./src/components/cards/Card.vue?7ef2","webpack:///./src/components/Toolbar.vue?d783"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","tree","_e","staticRenderFns","staticClass","ref","scopedSlots","_u","fn","on","addSibling","_v","addChild","toggleDone","lastNode","done","_s","isRoot","pushRootToQuery","collapseLastNode","collapsed","editLastNode","weight","_l","$event","addWeight","toggleSetting","deleteLastNode","proxy","class","dragging","nodeDrag","handleZoom","button","style","node","_key","left","formatDimension","y","top","x","width","config","nodeWidth","height","nodeHeight","stopPropagation","mouseOverNode","onDrop","snap","isDraggedOver","dragover","highlighted","_gid","stack","childrenLength","editing","nodeMaxWidth","nodeMaxHeight","draggable","setLastNode","nodeContextClick","startDrag","onDrag","emoji","emojifyArray","domProps","hasQuery","spliceRootsQuery","directives","rawName","expression","refInFor","type","indexOf","_k","keyCode","quitNodeEditor","preventDefault","save","callback","ctrlKey","shiftKey","altKey","metaKey","blurLastNode","target","composing","$set","totalChildrenTasks","shouldDisplayProgress","progress","e","index","title","hotkey","join","action","condSatisfied","emitEvent","event","icon","deleteAllCards","spawnCard","toggleImportExportModal","toggleDocMenu","toggleEmojiBar","$modal","show","beforeOpen","currTab","checked","importToSelectedNode","Array","isArray","_i","$$a","$$el","$$c","$$v","$$i","concat","fileChange","importFromFile","importFromClipboard","uuidv4","replace","crypto","getRandomValues","Uint8Array","toString","Card","text","props","group","undefined","id","focused","noPointerEvents","Vue","use","Vuex","Document","lastEdit","Date","now","store","Store","state","favoriteEmojis","settings","lastDocument","_cards","cardGroups","documents","plugins","createPersistedState","mutations","addFavoriteEmoji","removeFavoriteEmoji","setDocument","uuid","updateDocument","assign","addDocument","document","addCard","card","updateCards","deleteCard","findIndex","deleteCardsInGroup","groupID","indexes","map","sort","a","b","createGroup","setCardProperty","cardID","deleteGroup","g","actions","getTreeData","dispatch","commit","saveDocument","getters","lastDocExists","createDocument","deleteDocument","delete","keys","treeData","cards","filter","groups","_","Set","groupedCards","NodeDefaultSettings","displayProgress","deepProgress","Node","globalID","parentNode","depth","override","firstEdit","children","virtualChildren","virtualFinishedChildren","_id","_name","_parentNode","_children","_collapsed","_depth","_editing","_firstEdit","_emoji","_done","_weight","_virtualChildrenAmount","_virtualFinishedChildrenAmount","size","_settings","includes","forEach","setSetting","trim","match","pseudoChildrenProgress","parseInt","spl","split","finished","total","parse","getChildren","child","JSON","stringify","entries","k","v","sum","finishedChildrenTasks","shallowProgress","percentage","totalNodes","toFixed","totalWeight","reduce","cSum","cTN","Tree","_gidCounter","_root","_query","loaded","then","parseTreeData","createNode","lastNodeID","lastNodeParent","_lastNode","pushNode","destination","parent","counter","options","force","newLast","triggerNode","closestTopNode","closestBottomNode","Math","floor","position","self","deepClone","newNode","addChildAtIndex","root","export","nodes","parseChildren","spliceAmount","newRoot","pop","by","direction","console","log","error","tab","active","isActive","disabled","isDisabled","selectTab","hash","header","_t","cacheLifetime","default","required","computed","storageKey","created","tabs","$children","mounted","addEventListener","findTab","location","previousSelectedTabHash","defaultTabHash","methods","find","useUrlFragment","selectedTab","lastActiveTabHash","$emit","activeTabHash","activeTabIndex","getTabIndex","selectedTabHash","setTabVisible","isVisible","visible","every","getTabHash","getActiveTab","getActiveTabIndex","component","computedId","prefix","suffix","toLowerCase","components","file","$refs","files","alert","reader","onload","import","readAsText","navigator","clipboard","exportSelectedNode","showInNewTab","defaultFilename","filename","downloadFile","stringifiedTree","open","write","close","anchor","download","href","webkitURL","URL","createObjectURL","blob","dataset","downloadurl","click","ImportJSON","ExportJSON","params","beforeClose","createNewDocument","doc","activeDoc","editingDoc","timeAgo","enterDocEdit","saveDocName","leaveDocEdit","newDocName","setDocumentAction","createDocumentAction","$nextTick","deleteDocumentAction","searchInput","favorites","selected","isSelected","toggleEmoji","toggleFavorite","currentNodeEmoji","emojis","eventBus","events","prevent","UIIgnore","eventsMap","Init","keydown","unload","getCombination","eventName","combination","removeEventListener","shown","favoritesRaw","searchResult","some","addFavorite","removeFavorite","toggle","DocumentsList","EmojiBar","ImportExportModal","cond","q","popStack","queryLen","query","amount","arg","mixins","max","menuBottom","innerHeight","newY","menuHeight","menuRight","innerWidth","newX","menuWidth","emojiPick","boundaries","targetGroup","draggingCard","setDraggingCard","setTargetGroup","openPicker","closePicker","isChild","dragStart","focusCard","iconHover","focus","edit","CardGroup","watch","oldBounds","bounds","origin","cardClone","cardWidth","cardHeight","drag","dragEnd","clientX","rect","clientY","ungroup","inbound","clickOutside","hover","unhover","ordering","model","isTarget","set","orderMode","dragStop","pick","offset","EmojiPicker","$el","getBoundingClientRect","align","picker","CURVE","STRAIGHT","hexDigits","substr","random","rotatePoint","DEFAULT_NODE_WIDTH","DEFAULT_NODE_HEIGHT","levelHeight","DEFAULT_LEVEL_HEIGHT","linkStyle","String","LinkStyle","d3","colors","nodeDataList","linkDataList","initTransformX","initTransformY","currentScale","source","initialTransformStyle","transform","transformOrigin","addUniqueKey","beforeUnload","$on","args","doAllChildren","undoAllChildren","goUp","goDown","goLeft","goRight","init","evt","dataTransfer","dropEffect","effectAllowed","mouseLeaveNode","sortTree","sortLastNode","focusInput","toggleDoneState","setAllChildrenDoneState","array","parseName","clickedText","clickedNode","input","saveDocumentAction","which","restoreScale","deltaY","wheelDelta","detail","draw","enableDrag","initTransform","zoomIn","originTransformStr","scaleMatchResult","targetScale","originScale","setScale","zoomOut","scaleNum","pos","svg","domContainer","getTranslate","string","queue","rootNode","containerHeight","generateLinkPath","linkPath","sourcePoint","targetPoint","xOffset","select","links","buildTree","layout","descendants","container","onmousedown","mouseDownTransform","svgElement","startX","startY","isDrag","onmousemove","originTransform","originOffsetX","offsetX","originOffsetY","offsetY","transformStr","onmouseleave","onmouseup","dimension","parseDimensionNumber","deep","immediate","handler","VModal","componentName","BootstrapVueIcons","ModalPlugin","FormTextareaPlugin","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.ef2bf91e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/node-tree-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=style&index=0&id=a7b00144&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=2&id=0f436fd6&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=style&index=0&id=4ec4c7a0&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=0d195260&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.tree.loaded)?_c('tree'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('context-menu',{ref:\"contextMenu\",scopedSlots:_vm._u([{key:\"items\",fn:function(){return [_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.addSibling}},[_c('b-icon',{attrs:{\"icon\":\"node-plus\"}}),_vm._v(\" Add sibling \")],1),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.addChild}},[_c('b-icon',{attrs:{\"icon\":\"diagram2\"}}),_vm._v(\" Add child \")],1),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.toggleDone}},[_c('b-icon',{attrs:{\"icon\":_vm.tree.lastNode.done ? 'x' : 'check2'}}),_vm._v(\" \"+_vm._s(_vm.tree.lastNode.done ? \"Undo\" : \"Done\")+\" \")],1),(!_vm.tree.lastNode.isRoot)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.pushRootToQuery}},[_c('b-icon',{attrs:{\"icon\":\"arrow-bar-down\"}}),_vm._v(\" Drill down \")],1):_vm._e(),(_vm.tree.lastNode.childrenLength)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.collapseLastNode}},[_c('b-icon',{attrs:{\"icon\":_vm.tree.lastNode.collapsed ? 'arrows-expand' : 'arrows-collapse'}}),_vm._v(\" \"+_vm._s(_vm.tree.lastNode.collapsed ? \"Expand\" : \"Collapse\")+\" \")],1):_vm._e(),_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.editLastNode}},[_c('b-icon',{attrs:{\"icon\":\"pencil\"}}),_vm._v(\" Edit \")],1),_c('button',{staticClass:\"context-menu-selector\"},[_c('b-icon',{attrs:{\"icon\":\"kanban\"}}),_vm._v(\" Weight: \"+_vm._s(_vm.tree.lastNode.weight || 1)+\" \"),_c('ul',_vm._l((['Default', 10, 5, 1, -1, -5, -10]),function(value,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.tree.lastNode.addWeight(value)}}},[_vm._v(\" \"+_vm._s(value >= 0 ? (\"+\" + value) : value)+\" \")])}),0),_c('b-icon',{staticClass:\"arrow\",attrs:{\"icon\":\"chevron-right\"}})],1),_c('button',{staticClass:\"context-menu-selector\"},[_c('b-icon',{attrs:{\"icon\":\"gear\"}}),_vm._v(\" Settings \"),_c('ul',_vm._l((_vm.tree.lastNode.settings),function(value,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.tree.lastNode.toggleSetting(key)}}},[_vm._v(\" \"+_vm._s(key)+\" \"),(value)?_c('b-icon',{attrs:{\"icon\":\"check2\"}}):_vm._e()],1)}),0),_c('b-icon',{staticClass:\"arrow\",attrs:{\"icon\":\"chevron-right\"}})],1),(_vm.tree.lastNode.deletable)?_c('button',{staticClass:\"context-menu-item\",on:{\"click\":_vm.deleteLastNode}},[_c('b-icon',{attrs:{\"icon\":\"node-minus\"}}),_vm._v(\" Delete \")],1):_vm._e()]},proxy:true}])}),_c('toolbar'),_c('div',{ref:\"container\",staticClass:\"tree-container\",class:{ dragging: _vm.nodeDrag.dragging },on:{\"mousewheel\":_vm.handleZoom,\"mouseup\":function($event){if('button' in $event && $event.button !== 1){ return null; }return _vm.handleZoom($event)}}},[_c('svg',{ref:\"svg\",staticClass:\"svg vue-tree\",style:(_vm.initialTransformStyle)}),_c('div',{ref:\"domContainer\",staticClass:\"dom-container\",style:(_vm.initialTransformStyle)},_vm._l((_vm.nodeDataList),function(node){return _c('div',{key:node.data._key,staticClass:\"node-slot\",style:({\n          left: _vm.formatDimension(node.y),\n          top: _vm.formatDimension(node.x),\n          width: _vm.formatDimension(_vm.config.nodeWidth),\n          height: _vm.formatDimension(_vm.config.nodeHeight),\n        }),on:{\"dragover\":function($event){$event.stopPropagation();return _vm.mouseOverNode($event, node)},\"dragend\":function($event){return _vm.onDrop($event, node)}}},[_c('div',{staticClass:\"node-slot-overlay\",class:{\n            'node-top': _vm.nodeDrag.snap === 'top' && _vm.isDraggedOver(node.data),\n            'node-bottom':\n              _vm.nodeDrag.snap === 'bottom' && _vm.isDraggedOver(node.data),\n            'node-right':\n              _vm.nodeDrag.snap === 'right' && _vm.isDraggedOver(node.data),\n          }},[_c('div',{staticClass:\"node\",class:{\n              dragover: _vm.isDraggedOver(node.data),\n              highlighted: node.data._gid === _vm.tree.lastNode._gid,\n              stack: node.data.childrenLength && node.data.collapsed,\n              done: node.data.done,\n              editing: node.data.editing,\n            },style:({\n              'max-width': _vm.formatDimension(_vm.config.nodeMaxWidth),\n              'max-height': _vm.formatDimension(_vm.config.nodeMaxHeight),\n            }),attrs:{\"draggable\":node.data.draggable},on:{\"mousedown\":function($event){$event.stopPropagation();},\"click\":function($event){return _vm.setLastNode(node.data, $event)},\"contextmenu\":function($event){return _vm.nodeContextClick($event, node.data)},\"dragstart\":function($event){return _vm.startDrag($event, node)},\"drag\":function($event){return _vm.onDrag()}}},[(!node.data.editing)?_c('div',{staticClass:\"content\"},[(\n                  !node.data.editing &&\n                  node.data.emoji &&\n                  node.data.emoji.length\n                )?_c('div',_vm._l((_vm.emojifyArray(node.data.emoji)),function(emoji,key){return _c('span',{key:key},[_vm._v(_vm._s(emoji)+\" \")])}),0):_vm._e(),(!node.data.editing)?_c('pre',{domProps:{\"textContent\":_vm._s(node.data.name)},on:{\"mousewheel\":function($event){$event.stopPropagation();}}}):_vm._e(),(node.data.isRoot && _vm.tree.hasQuery)?_c('button',{staticClass:\"drill-up\",on:{\"click\":function($event){$event.stopPropagation();return _vm.spliceRootsQuery($event)}}},[_c('b-icon',{attrs:{\"icon\":\"arrow-bar-up\"}})],1):_vm._e()]):_vm._e(),(node.data.editing)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(node.data._name),expression:\"node.data._name\"}],ref:(\"node-#\" + (node.data._gid)),refInFor:true,domProps:{\"value\":(node.data._name)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.quitNodeEditor($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.quitNodeEditor($event, { save: true })},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.quitNodeEditor($event, { save: true, callback: _vm.addChild })},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();}],\"blur\":function($event){return _vm.blurLastNode(node.data)},\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(node.data, \"_name\", $event.target.value)}}}):_vm._e(),(!node.data.editing && node.data.totalChildrenTasks > 0)?_c('sub',{staticClass:\"completeness\"},[_vm._v(_vm._s(((node.data.finishedChildrenTasks) + \"/\" + (node.data.totalChildrenTasks))))]):_vm._e(),(_vm.shouldDisplayProgress(node.data))?_c('div',{staticClass:\"progress\",class:{ 'round-right': node.data.progress == 100 },style:({ width: ((node.data.progress) + \"%\") }),attrs:{\"title\":((node.data.progress) + \"%\")}}):_vm._e(),(node.data._gid === _vm.tree.lastNode._gid)?_c('div',{staticClass:\"controls\"},[_c('button',{staticClass:\"add-child\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addSibling($event)}}},[_c('b-icon',{attrs:{\"icon\":\"node-plus\"}})],1),_c('button',{staticClass:\"add-sibling\",on:{\"click\":_vm.addChild}},[_c('b-icon',{attrs:{\"icon\":\"diagram2\"}})],1)]):_vm._e()])])])}),0)]),_c('breadcrumb'),_c('cards-wrapper')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('modal',{attrs:{\"name\":\"info-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"500px\"}},[_c('div',{attrs:{\"id\":\"modal\"}},[_c('table',{staticClass:\"info-table\"},_vm._l((_vm.events),function(e,index){return _c('tr',{key:index,staticClass:\"info-row\"},[_c('td',{staticClass:\"info-col-action\"},[_vm._v(\" \"+_vm._s(e.title)+\" \")]),_c('td',{staticClass:\"info-col-hotkey\"},[_vm._v(\" \"+_vm._s(e.hotkey.join(\" / \"))+\" \")])])}),0)])]),_c('documents-list'),_c('import-export-modal',{attrs:{\"tab\":'f'}}),_c('div',{staticClass:\"toolbar\"},[_c('div',{staticClass:\"left-buttons\"},_vm._l((_vm.actions),function(action,index){return _c('div',{key:index,attrs:{\"title\":action.title}},[(_vm.condSatisfied(action))?_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.emitEvent(action.event)}}},[_c('b-icon',{attrs:{\"icon\":action.icon}})],1):_vm._e()])}),0),_c('div',{staticClass:\"right-buttons\"},[_c('button',{attrs:{\"title\":\"Delete All Cards\"},on:{\"click\":_vm.deleteAllCards}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1),_c('button',{attrs:{\"title\":\"New Card\"},on:{\"click\":_vm.spawnCard}},[_c('b-icon',{attrs:{\"icon\":\"file-post\"}})],1),_c('button',{staticClass:\"doc-export\",attrs:{\"title\":\"Export\"},on:{\"click\":function($event){return _vm.toggleImportExportModal('export')}}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}})],1),_c('button',{staticClass:\"doc-import\",attrs:{\"title\":\"Import\"},on:{\"click\":function($event){return _vm.toggleImportExportModal('import')}}},[_c('b-icon',{attrs:{\"icon\":\"download\"}})],1),_c('button',{attrs:{\"title\":\"Documents\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDocMenu($event)}}},[_c('b-icon',{attrs:{\"icon\":\"file-earmark-text\"}})],1),_c('button',{attrs:{\"title\":\"Emoji\"},on:{\"click\":_vm.toggleEmojiBar}},[_c('b-icon',{attrs:{\"icon\":\"emoji-smile\"}})],1),_c('button',{attrs:{\"title\":\"Help\"},on:{\"click\":function($event){return _vm.$modal.show('info-modal')}}},[_c('b-icon',{attrs:{\"icon\":\"question\"}})],1)])]),_c('emoji-bar',{ref:\"emojiBar\",staticClass:\"emoji-bar\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{staticClass:\"helper\",attrs:{\"name\":\"import-export-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"30%\"},on:{\"before-open\":_vm.beforeOpen}},[(_vm.currTab === 'import')?_c('import-JSON'):_c('export-JSON')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('tabs',[_c('tab',{attrs:{\"name\":\"Import From File\"}},[_c('div',{staticClass:\"import-tab\"},[_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.importToSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"import-to-selected-from-file\"}},[_vm._v(\"Import to selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.importToSelectedNode),expression:\"importToSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"import-to-selected-from-file\"},domProps:{\"checked\":Array.isArray(_vm.importToSelectedNode)?_vm._i(_vm.importToSelectedNode,null)>-1:(_vm.importToSelectedNode)},on:{\"change\":function($event){var $$a=_vm.importToSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.importToSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.importToSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.importToSelectedNode=$$c}}}})]),_c('span',[_c('input',{ref:\"file\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileChange}})]),_c('div',{staticClass:\"import-button\"},[_c('button',{on:{\"click\":_vm.importFromFile}},[_vm._v(\"Import\")])])])]),_c('tab',{attrs:{\"name\":\"Import From Clipboard\"}},[_c('div',{staticClass:\"import-tab\"},[_c('small',[_vm._v(\"This feature requires Clipboard permission and doesn't work if it's not granted\")]),_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.importToSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"import-to-selected-from-clipboard\"}},[_vm._v(\"Import to current node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.importToSelectedNode),expression:\"importToSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"import-to-selected-from-clipboard\"},domProps:{\"checked\":Array.isArray(_vm.importToSelectedNode)?_vm._i(_vm.importToSelectedNode,null)>-1:(_vm.importToSelectedNode)},on:{\"change\":function($event){var $$a=_vm.importToSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.importToSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.importToSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.importToSelectedNode=$$c}}}})]),_c('div',{staticClass:\"import-button\"},[_c('button',{on:{\"click\":_vm.importFromClipboard}},[_vm._v(\"Import\")])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n}\n","import { uuidv4 } from \"./utils\";\n\nexport class Card {\n  constructor(\n    text = \"\",\n    icon = \"\",\n    props = { editing: false, x: 0, y: 0, group: undefined }\n  ) {\n    this.id = uuidv4();\n    this.x = props.x || 0;\n    this.y = props.y || 0;\n    this.text = text;\n    this.icon = icon;\n    this.editing = props.editing || false;\n    this.group = props.group;\n\n    this.focused = false;\n    this.noPointerEvents = false;\n  }\n\n  get isChild() {\n    return !!this.group;\n  }\n}\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport createPersistedState from \"vuex-persistedstate\";\nimport { Card } from \"../card\";\nimport { uuidv4 } from \"../utils\";\n\nVue.use(Vuex);\n\nclass Document {\n  constructor(name, data) {\n    this.name = name;\n    this.data = data;\n    this.lastEdit = Date.now();\n  }\n}\n\nexport const store = new Vuex.Store({\n  state: {\n    favoriteEmojis: [],\n    settings: {\n      lastDocument: \"\",\n    },\n    _cards: [],\n    cardGroups: [],\n    documents: {},\n  },\n  plugins: [createPersistedState()],\n  mutations: {\n    /* -------------------------------------------------------------------------- */\n    /*                               emoji mutatuins                              */\n    /* -------------------------------------------------------------------------- */\n    addFavoriteEmoji: function (state, emoji) {\n      return state.favoriteEmojis.push(emoji);\n    },\n    removeFavoriteEmoji: function (state, emoji) {\n      return state.favoriteEmojis.splice(\n        state.favoriteEmojis.indexOf(emoji),\n        1\n      );\n    },\n\n    /* -------------------------------------------------------------------------- */\n    /*                             document mutations                             */\n    /* -------------------------------------------------------------------------- */\n\n    setDocument: function (state, uuid) {\n      if (uuid) state.settings.lastDocument = uuid;\n    },\n    updateDocument: (state, { uuid, data }) => {\n      Object.assign(state.documents[uuid], data);\n    },\n    addDocument: (state, { uuid, document }) => {\n      state.documents[uuid] = document;\n    },\n\n    /* -------------------------------------------------------------------------- */\n    /*                               card mutatuions                              */\n    /* -------------------------------------------------------------------------- */\n\n    addCard: function (state, card) {\n      if (!(card instanceof Card)) return;\n      state._cards.push(card);\n    },\n    updateCards: function (state, value) {\n      state._cards = value;\n    },\n    deleteCard: function (state, id) {\n      const index = state._cards.findIndex((c) => c.id === id);\n      if (index < 0) return;\n      state._cards.splice(index, 1);\n    },\n    deleteCardsInGroup: function (state, groupID) {\n      const indexes = state._cards.map((c) => c.group === groupID);\n      if (!indexes.length) return;\n      indexes.sort((a, b) => b - a);\n      for (var i = indexes.length - 1; i >= 0; i--)\n        state._cards.splice([indexes[i]], 1);\n    },\n    deleteAllCards: function (state) {\n      state.cardGroups = [];\n      state._cards = [];\n    },\n\n    /* -------------------------------------------------------------------------- */\n    /*                            card groups mutatuins                           */\n    /* -------------------------------------------------------------------------- */\n\n    createGroup: function (state, group) {\n      state.cardGroups.push(group);\n    },\n    setCardProperty: function (state, [cardID, key, value]) {\n      const index = state._cards.findIndex((c) => c.id === cardID);\n      if (index < 0) return;\n      state._cards[index][key] = value;\n    },\n    deleteGroup: function (state, id) {\n      const index = state.cardGroups.findIndex((g) => g.id === id);\n      if (index < 0) return;\n      state.cardGroups.splice(index, 1);\n    },\n  },\n  actions: {\n    getTreeData: ({ state, dispatch }) => {\n      if (\n        !state.settings.lastDocument ||\n        !state.documents[state.settings.lastDocument]\n      ) {\n        return dispatch(\"createDocument\");\n      }\n      return state.documents[state.settings.lastDocument].data;\n    },\n    setDocument: ({ commit, state }, uuid) => {\n      if (uuid) commit(\"setDocument\", uuid);\n      return state.documents[uuid].data;\n    },\n    saveDocument: ({ commit, state, getters }, data) => {\n      if (!getters.lastDocExists) return;\n      commit(\"updateDocument\", {\n        uuid: state.settings.lastDocument,\n        data: { lastEdit: Date.now(), data: data },\n      });\n    },\n    createDocument: (\n      { commit, state },\n      data = { name: \"document\", data: {} }\n    ) => {\n      const uuid = uuidv4();\n      commit(\"addDocument\", {\n        uuid: uuid,\n        document: new Document(data.name, data.data),\n      });\n      commit(\"setDocument\", uuid);\n      return state.documents[uuid].data;\n    },\n    deleteDocument: ({ commit, state, dispatch }, uuid) => {\n      Vue.delete(state.documents, uuid);\n      const keys = Object.keys(state.documents);\n      if (!keys.length) {\n        return dispatch(\"createDocument\");\n      } else {\n        commit(\"setDocument\", keys[0]);\n        return state.documents[keys[0]].data;\n      }\n    },\n    deleteGroup: ({ commit }, id) => {\n      commit(\"deleteGroup\", id);\n      commit(\"deleteCardsInGroup\", id);\n    },\n  },\n  getters: {\n    documents: (state) => state.documents,\n    treeData: function (state) {\n      if (\n        !state.settings.lastDocument ||\n        !state.documents[state.settings.lastDocument]\n      )\n        return {};\n      return state.documents[state.settings.lastDocument].data;\n    },\n    cards: (state) => state._cards.filter((c) => !c.group),\n    groups: (_, getters) => [\n      ...new Set(getters.groupedCards.map((c) => c.group)),\n    ],\n    groupedCards: (state) =>\n      state._cards.filter((c) => typeof c.group === \"string\"),\n    lastDocExists: (state) => !!state.documents[state.settings.lastDocument],\n  },\n});\n","export const NodeDefaultSettings = {\n  displayProgress: true,\n  deepProgress: true,\n};\nexport class Node {\n  constructor(\n    globalID = 0,\n    id = 0,\n    parentNode = null,\n    depth = 0,\n    override = {\n      name: \"\",\n      firstEdit: true,\n      collapsed: false,\n      children: [],\n      emoji: [],\n      done: false,\n      isRoot: false,\n      weight: 1,\n      virtualChildren: 0,\n      virtualFinishedChildren: 0,\n      settings: {\n        displayProgress: true,\n        deepProgress: true,\n      },\n    }\n  ) {\n    this._gid = globalID;\n    this._id = id;\n    this._name = override.name;\n    this._parentNode = parentNode;\n    this._children = override.children;\n    this._collapsed = override?.collapsed === true ? true : false;\n    this._depth = depth;\n    this._editing = !override.firstEdit ? false : parentNode !== null;\n    this._firstEdit = override.firstEdit;\n    this._emoji = override.emoji || [];\n    this._done = override.done;\n    this._weight = override.weight || 1;\n\n    this._virtualChildrenAmount = override.virtualChildren || 0;\n    this._virtualFinishedChildrenAmount = override.virtualFinishedChildren || 0;\n\n    this.isRoot = override?.isRoot === true ? true : false;\n    this.size = [250, 250];\n    this._settings = {\n      displayProgress:\n        override.settings?.displayProgress === false ? false : true,\n      deepProgress: override.settings?.deepProgress === false ? false : true,\n    };\n  }\n\n  addChild(node) {\n    if (!(node instanceof Node)) return;\n    this._children.push(node);\n  }\n\n  addChildAtIndex(node, index) {\n    if (!(node instanceof Node) || index < 0) return;\n    this._children.splice(index, 0, node);\n  }\n\n  toggleEmoji(emoji) {\n    this._emoji.includes(emoji)\n      ? this._emoji.splice(this._emoji.indexOf(emoji), 1)\n      : this._emoji.push(emoji);\n  }\n\n  toggleDoneState() {\n    this._done = !this._done;\n  }\n\n  getChildren() {\n    return this._children;\n  }\n\n  setAllChildrenDoneState(state) {\n    this._children.forEach((c) => (c.done = state ? true : false));\n  }\n\n  delete() {\n    const index = this._parentNode._children.indexOf(this);\n    this._parentNode.children.splice(index, 1);\n  }\n\n  setSetting(key, value) {\n    if (this._settings[key] === undefined) return;\n    this._settings[key] = value;\n  }\n\n  toggleSetting(key) {\n    if (\n      this._settings[key] === undefined ||\n      typeof this._settings[key] !== \"boolean\"\n    )\n      return;\n    this.setSetting(key, !this._settings[key]);\n  }\n\n  parseName() {\n    this._name = this._name.trim();\n    const weight = this._name.match(/\\s\\d+$/gm);\n    const pseudoChildrenProgress = this._name.match(/\\s\\d+\\/\\d+/gm);\n    if (weight?.length) {\n      this._weight = parseInt(weight[0]);\n      // this._name = this._name.slice(0, -weight[0].length);\n      this._virtualChildrenAmount = 0;\n      this._virtualFinishedChildrenAmount = 0;\n    } else if (pseudoChildrenProgress?.length) {\n      const spl = pseudoChildrenProgress[0].split(\"/\");\n      if (spl.length === 2) {\n        const finished = parseInt(spl[0]);\n        const total = parseInt(spl[1]);\n        if (finished <= total) {\n          this._virtualFinishedChildrenAmount = finished;\n          this._virtualChildrenAmount = total;\n        }\n      }\n      this._name = this._name.slice(0, -pseudoChildrenProgress[0].length);\n    }\n  }\n\n  export() {\n    return parse(this);\n    function parse(data) {\n      const node = {\n        name: data.name,\n        children: data.getChildren()?.length\n          ? data.getChildren().map((c) => {\n              if (c.getChildren().length) {\n                return parse(c);\n              } else {\n                const child = {\n                  name: c.name,\n                };\n                assign(child, c);\n                return child;\n              }\n            })\n          : [],\n      };\n      assign(node, data);\n      return node;\n    }\n    function assign(node, data) {\n      if (data.collapsed) node.collapsed = true;\n      if (data.done) node.done = true;\n      if (data.emoji?.length) node.emoji = data.emoji;\n      if (data.weight > 1) node.weight = data.weight;\n      if (data._virtualChildrenAmount > 0)\n        node.virtualChildren = data._virtualChildrenAmount;\n      if (data._virtualFinishedChildrenAmount > 0)\n        node.virtualFinishedChildren = data._virtualFinishedChildrenAmount;\n      if (\n        JSON.stringify(data.settings) !== JSON.stringify(NodeDefaultSettings)\n      ) {\n        node.settings = {};\n        Object.entries(data.settings).forEach(([k, v]) => {\n          if (v !== NodeDefaultSettings[k]) node.settings[k] = v;\n        });\n      }\n    }\n  }\n\n  addWeight(weight) {\n    if (typeof weight === \"number\") {\n      if (this._weight + weight > 0) this._weight += weight;\n      else this._weight = 1;\n    } else {\n      this._weight = 1;\n    }\n  }\n\n  get id() {\n    return this._id;\n  }\n  get parent() {\n    return this._parentNode;\n  }\n  get children() {\n    return this.collapsed ? [] : this._children;\n  }\n\n  get collapsed() {\n    return this._collapsed;\n  }\n\n  get name() {\n    return this._name || `node #${this._gid}`;\n  }\n\n  get editing() {\n    return this._editing;\n  }\n\n  get depth() {\n    return this._depth;\n  }\n\n  get childrenLength() {\n    return this._children.length;\n  }\n\n  get totalChildrenTasks() {\n    if (this._virtualChildrenAmount > 0) {\n      return this._virtualChildrenAmount;\n    }\n    let sum = 0;\n    this._children.forEach((c) => {\n      sum += 1;\n      if (c._virtualChildrenAmount > 0) {\n        sum += c._virtualChildrenAmount;\n      } else if (c._children.length) {\n        sum += c.totalChildrenTasks;\n      }\n    });\n    return sum;\n  }\n\n  get finishedChildrenTasks() {\n    if (this._virtualFinishedChildrenAmount > 0) {\n      return this._virtualFinishedChildrenAmount;\n    }\n    if (this._children.length) {\n      let sum = 0;\n      this._children.forEach((c) => {\n        sum += c.done ? 1 : 0;\n        if (c._virtualFinishedChildrenAmount > 0) {\n          sum += c._virtualFinishedChildrenAmount;\n        } else if (c._children.length) {\n          sum += c.finishedChildrenTasks;\n        }\n      });\n      return sum;\n    }\n    return 0;\n  }\n\n  get firstEdit() {\n    return this._firstEdit;\n  }\n\n  get emoji() {\n    return this._emoji;\n  }\n\n  get done() {\n    return this._done;\n  }\n\n  get progress() {\n    const { percentage } = this._settings.deepProgress\n      ? this.deepProgress\n      : this.shallowProgress;\n\n    return percentage;\n  }\n\n  get deepProgress() {\n    if (this._virtualFinishedChildrenAmount > 0) {\n      const sum = this._virtualFinishedChildrenAmount;\n      const totalNodes = this._virtualChildrenAmount;\n      const percentage = ((sum / totalNodes) * 100).toFixed(0);\n      return { sum, totalNodes, percentage };\n    } else if (this._children.length) {\n      let sum = 0;\n      let totalWeight = this._children.reduce(\n        (a, c) => (a += c.weight || 1),\n        0\n      );\n\n      this._children.forEach((c) => {\n        sum += c.done ? c.weight || 1 : 0;\n        if (c._virtualChildrenAmount > 0) {\n          sum += c._virtualFinishedChildrenAmount;\n          totalWeight += c._virtualChildrenAmount;\n        } else if (c._children.length) {\n          let { sum: cSum, totalNodes: cTN } = c.deepProgress;\n          sum += cSum;\n          totalWeight += cTN;\n        }\n      });\n      return {\n        sum,\n        totalNodes: totalWeight,\n        percentage: ((sum / totalWeight) * 100).toFixed(0),\n      };\n    }\n    return { sum: 0, totalNodes: 0, percentage: 0 };\n  }\n\n  get shallowProgress() {\n    if (this._virtualFinishedChildrenAmount > 0) {\n      const sum = this._virtualFinishedChildrenAmount;\n      const totalNodes = this._virtualChildrenAmount;\n      const percentage = ((sum / totalNodes) * 100).toFixed(0);\n      return { sum, totalNodes, percentage };\n    } else if (this._children.length) {\n      let sum = 0;\n      let totalWeight = this._children.reduce(\n        (a, c) => (a += c.weight || 1),\n        0\n      );\n      this._children.forEach((c) => (sum += c.done ? c.weight || 1 : 0));\n      return {\n        sum,\n        totalNodes: totalWeight,\n        percentage: ((sum / totalWeight) * 100).toFixed(0),\n      };\n    }\n    return { sum: 0, totalNodes: 0, percentage: 0 };\n  }\n\n  get settings() {\n    return this._settings;\n  }\n\n  get canDrillDown() {\n    return !this.isRoot;\n  }\n\n  get canDrillUp() {\n    return this.isRoot && this._parentNode != null;\n  }\n\n  get collapsible() {\n    return !this._collapsed && this.childrenLength > 0;\n  }\n\n  get expandable() {\n    return this._collapsed;\n  }\n\n  get draggable() {\n    return !this.isRoot;\n  }\n\n  get deletable() {\n    return !this.isRoot;\n  }\n\n  get weight() {\n    return this._weight;\n  }\n\n  set id(value) {\n    this._id = value;\n  }\n\n  set name(value) {\n    this._name = value;\n    this.editing = false;\n  }\n\n  set editing(value) {\n    this._editing = value;\n    if (this._firstEdit && value === false) this._firstEdit = false;\n  }\n\n  set collapsed(value) {\n    if (this._children.length) this._collapsed = value;\n  }\n\n  set children(value) {\n    this._children = value;\n  }\n\n  set parent(value) {\n    this._parentNode = value;\n  }\n\n  set done(value) {\n    this._done = value ? true : false;\n  }\n\n  set weight(value) {\n    if (typeof value === \"number\") this._weight = value;\n  }\n}\n","import { store } from \"@/store/index\";\r\n/** @type {import(\"./node\").Node} */\r\nimport { Node } from \"@/node\";\r\n\r\nclass Tree {\r\n  constructor() {\r\n    this._gidCounter = 1;\r\n    this._root = new Node(0, 0, null, 0, { name: \"root\", isRoot: true });\r\n    this.lastNode = this._root;\r\n    this._query = [];\r\n    this.loaded = false;\r\n    store.dispatch(\"getTreeData\").then((data) => {\r\n      this.parseTreeData(data);\r\n      this.loaded = true;\r\n    });\r\n  }\r\n\r\n  addSibling() {\r\n    // if (this._lastNode.editing) {\r\n    //   this._lastNode.editing = false;\r\n    //   this._lastNode._name = this._lastNode._name.trim();\r\n    //   return;\r\n    // }\r\n    const node = this.createNode(\r\n      this.lastNodeID,\r\n      this.lastNodeParent ? this.lastNodeParent : this._root,\r\n      this._lastNode.depth || 1\r\n    );\r\n\r\n    this.lastNodeParent\r\n      ? this.pushNode(this.lastNodeParent.children, node)\r\n      : this.pushNode(this._root.children, node);\r\n    this.lastNode = node;\r\n  }\r\n\r\n  addChild() {\r\n    // if (this._lastNode.editing) {\r\n    //   this._lastNode.editing = false;\r\n    //   this._lastNode._name = this._lastNode._name.trim();\r\n    // }\r\n    const id = this._lastNode\r\n      ? this._lastNode.children.length\r\n      : this.lastNodeID;\r\n\r\n    const node = this.createNode(\r\n      id,\r\n      this._lastNode,\r\n      (this._lastNode.depth || 0) + 1\r\n    );\r\n\r\n    this._lastNode\r\n      ? this.pushNode(this._lastNode.children, node)\r\n      : this.pushNode(this._root, node);\r\n\r\n    this.lastNode = node;\r\n    this.lastNodeParent.collapsed = false;\r\n  }\r\n\r\n  pushNode(destination, node) {\r\n    destination.push(node);\r\n  }\r\n\r\n  createNode(id = 0, parent = null, depth) {\r\n    return new Node(this.counter, id, parent, depth);\r\n  }\r\n\r\n  deleteLastNode(options = { force: false }) {\r\n    if ((this._lastNode.editing || !this.lastNodeParent) && !options.force)\r\n      return;\r\n    let newLast = null;\r\n\r\n    if (this._lastNode.id - 1 >= 0) {\r\n      newLast = this.lastNodeParent.children[this._lastNode.id - 1];\r\n    } else if (this.lastNodeParent?.parent?.children) {\r\n      newLast = this.lastNodeParent.parent.children[\r\n        this.lastNodeParent.parent.children.length - 1\r\n      ];\r\n    } else {\r\n      newLast = this.lastNodeParent;\r\n    }\r\n    this.lastNodeParent.children.splice(this._lastNode.id, 1);\r\n    this.lastNode = newLast;\r\n  }\r\n\r\n  collapseLastNode() {\r\n    if (this._lastNode.editing) return;\r\n    this._lastNode.collapsed = !this._lastNode.collapsed;\r\n  }\r\n\r\n  blurLastNode(triggerNode) {\r\n    if (!triggerNode || this._lastNode._gid !== triggerNode._gid) return;\r\n    this._lastNode._firstEdit\r\n      ? this.deleteLastNode({ force: true })\r\n      : (this._lastNode.editing = false);\r\n  }\r\n\r\n  goUp() {\r\n    if (this._lastNode.editing) return;\r\n    if (this._lastNode.id - 1 >= 0) {\r\n      this.lastNode = this.lastNodeParent.children[this._lastNode.id - 1];\r\n    } else {\r\n      if (this.lastNodeParent?.id > 0 && this.lastNodeParent.parent) {\r\n        let closestTopNode;\r\n        for (let i = this.lastNodeParent.id - 1; i >= 0; i--) {\r\n          if (this.lastNodeParent.parent.children[i].children.length) {\r\n            closestTopNode = this.lastNodeParent.parent.children[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (closestTopNode)\r\n          this.lastNode =\r\n            closestTopNode.children[closestTopNode.children.length - 1];\r\n      }\r\n    }\r\n  }\r\n  goDown() {\r\n    if (this._lastNode.editing || !this.lastNodeParent) return;\r\n    if (this._lastNode.id + 1 < this.lastNodeParent.children.length) {\r\n      this.lastNode = this.lastNodeParent.children[this._lastNode.id + 1];\r\n    } else {\r\n      if (\r\n        this.lastNodeParent.parent &&\r\n        this.lastNodeParent.id < this.lastNodeParent.parent.children.length\r\n      ) {\r\n        let closestBottomNode;\r\n        for (\r\n          let i = this.lastNodeParent.id + 1;\r\n          i < this.lastNodeParent.parent.children.length;\r\n          i++\r\n        ) {\r\n          if (this.lastNodeParent.parent.children[i].children.length) {\r\n            closestBottomNode = this.lastNodeParent.parent.children[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (closestBottomNode) this.lastNode = closestBottomNode.children[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  goLeft() {\r\n    if (this._lastNode.editing) return;\r\n    if (!this._lastNode?.parent?.parent) return;\r\n    this.lastNode = this._lastNode.parent;\r\n  }\r\n\r\n  goRight() {\r\n    if (this._lastNode.editing) return;\r\n    if (!this._lastNode || !this._lastNode.children.length) return;\r\n    let index = Math.floor(this._lastNode.children.length / 2);\r\n    this.lastNode = this._lastNode.children[index];\r\n  }\r\n\r\n  getChildren() {\r\n    return this._root._children;\r\n  }\r\n\r\n  cloneNode(node, destination, position) {\r\n    const self = this;\r\n    function deepClone(node, parent) {\r\n      const newNode = new Node(\r\n        self.counter,\r\n        node.id,\r\n        parent,\r\n        node.depth,\r\n        assign(node)\r\n      );\r\n      newNode.children = node.getChildren().map((n) => deepClone(n, newNode));\r\n      return newNode;\r\n    }\r\n    const newNode =\r\n      position === \"bottom\" || position === \"top\"\r\n        ? deepClone(node, destination.parent)\r\n        : deepClone(node, destination);\r\n    node.delete();\r\n    if (!position || position === \"right\") {\r\n      destination.addChild(newNode);\r\n    } else if (!position || position === \"top\") {\r\n      destination.parent.addChildAtIndex(\r\n        newNode,\r\n        destination.parent._children.indexOf(destination)\r\n      );\r\n    } else if (!position || position === \"bottom\") {\r\n      destination.parent.addChildAtIndex(\r\n        newNode,\r\n        destination.parent._children.indexOf(destination) + 1\r\n      );\r\n    } else {\r\n      return;\r\n    }\r\n    this.lastNode = newNode;\r\n  }\r\n\r\n  export() {\r\n    const root = this._query.length ? this._query[0] : this._root;\r\n    return root.export();\r\n  }\r\n\r\n  import(nodes) {\r\n    if (!nodes?.children?.length) return;\r\n    const self = this;\r\n    for (let node of nodes.children) {\r\n      parse(node, this.lastNode);\r\n    }\r\n    function parse(data, parent) {\r\n      let newNode = new Node(\r\n        self.counter,\r\n        parent.children.length,\r\n        parent,\r\n        parent.depth + 1 || 0,\r\n        assign(data)\r\n      );\r\n      newNode.children = data.children?.length\r\n        ? parseChildren(data, newNode)\r\n        : [];\r\n      parent.children.push(newNode);\r\n    }\r\n\r\n    function parseChildren(data, parent) {\r\n      return data?.children?.map((child, index) => {\r\n        let newNode = new Node(\r\n          self.counter,\r\n          index,\r\n          parent,\r\n          parent.depth + 1,\r\n          assign(child)\r\n        );\r\n        newNode.children = child.children?.length\r\n          ? parseChildren(child, newNode)\r\n          : [];\r\n        return newNode;\r\n      });\r\n    }\r\n  }\r\n\r\n  parseTreeData(treeData) {\r\n    if (!treeData) return;\r\n    const self = this;\r\n    this._root.name = treeData.name ? treeData.name : \"root\";\r\n    this._root.children = [];\r\n    this._lastNode = this._root;\r\n    this._gidCounter = 1;\r\n    if (!treeData.children) return;\r\n    for (let node of treeData.children) {\r\n      parse(node, this._root);\r\n    }\r\n\r\n    function parse(data, parent) {\r\n      let newNode = new Node(\r\n        self.counter,\r\n        parent.children.length,\r\n        parent,\r\n        parent.depth + 1 || 0,\r\n        assign(data)\r\n      );\r\n      newNode.children = data.children?.length\r\n        ? parseChildren(data, newNode)\r\n        : [];\r\n      parent.children.push(newNode);\r\n    }\r\n\r\n    function parseChildren(data, parent) {\r\n      return data?.children?.map((child, index) => {\r\n        let newNode = new Node(\r\n          self.counter,\r\n          index,\r\n          parent,\r\n          parent.depth + 1,\r\n          assign(child)\r\n        );\r\n        newNode.children = child.children?.length\r\n          ? parseChildren(child, newNode)\r\n          : [];\r\n        return newNode;\r\n      });\r\n    }\r\n  }\r\n\r\n  spliceRootsQuery(spliceAmount) {\r\n    if (spliceAmount <= 0 || spliceAmount > this._query.length) return;\r\n    if (spliceAmount > 1)\r\n      this._query = this._query.slice(0, -(spliceAmount - 1));\r\n    const newRoot = this._query.pop();\r\n    this._root.isRoot = false;\r\n    newRoot.isRoot = true;\r\n    this._root = newRoot;\r\n  }\r\n\r\n  pushRootToQuery(newRoot) {\r\n    if (!newRoot || !(newRoot instanceof Node)) return;\r\n    this._query.push(this._root);\r\n    newRoot.collapsed = false;\r\n    this._root.isRoot = false;\r\n    newRoot.isRoot = true;\r\n    this._root = newRoot;\r\n  }\r\n\r\n  sortLastNode(by, direction) {\r\n    console.log(by, direction);\r\n    this.lastNode._children.sort((a, b) => (a.name < b.name ? -1 : 1));\r\n  }\r\n\r\n  get lastNodeID() {\r\n    return this.lastNodeParent\r\n      ? this.lastNodeParent.children.length\r\n      : this._root.children.length;\r\n  }\r\n\r\n  get lastNode() {\r\n    return this._lastNode;\r\n  }\r\n\r\n  get lastNodeParent() {\r\n    return this._lastNode?.parent || null;\r\n  }\r\n\r\n  get counter() {\r\n    return this._gidCounter++;\r\n  }\r\n\r\n  get root() {\r\n    return this._root;\r\n  }\r\n\r\n  get query() {\r\n    return this._query;\r\n  }\r\n\r\n  get hasQuery() {\r\n    return this._query?.length > 0 ? true : false;\r\n  }\r\n\r\n  set lastNode(node) {\r\n    if (!(node instanceof Node))\r\n      return !node?._root\r\n        ? console.error(`${node} is not instance of Node`)\r\n        : null;\r\n    if (this._lastNode === node) return;\r\n    if (this?._lastNode?.editing) this._lastNode.editing = false;\r\n    this._lastNode = node;\r\n  }\r\n}\r\n\r\nfunction assign(data) {\r\n  return Object.assign(\r\n    {},\r\n    {\r\n      name: data.name,\r\n      firstEdit: data.firstEdit || false,\r\n      collapsed: data.collapsed || false,\r\n      emoji: data.emoji,\r\n      done: data.done,\r\n      weight: data.weight || 1,\r\n      virtualChildren: data.virtualChildren,\r\n      virtualFinishedChildren: data.virtualFinishedChildren,\r\n      settings: data.settings,\r\n    }\r\n  );\r\n}\r\n\r\nexport const tree = new Tree();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabs-component\"},[_c('ul',{staticClass:\"tabs-component-tabs\",attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.isVisible),expression:\"tab.isVisible\"}],key:i,staticClass:\"tabs-component-tab\",class:{ active: tab.isActive, disabled: tab.isDisabled },attrs:{\"role\":\"presentation\"},on:{\"click\":function($event){return _vm.selectTab(tab.hash, $event)}}},[_c('span',{staticClass:\"tabs-component-tab-a\",attrs:{\"aria-controls\":tab.hash,\"aria-selected\":tab.isActive,\"href\":tab.hash,\"role\":\"tab\"},domProps:{\"innerHTML\":_vm._s(tab.header)}})])}),0),_c('div',{staticClass:\"tabs-component-panels\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tabs-component\">\n    <ul role=\"tablist\" class=\"tabs-component-tabs\">\n      <li\n        v-for=\"(tab, i) in tabs\"\n        :key=\"i\"\n        :class=\"{ active: tab.isActive, disabled: tab.isDisabled }\"\n        class=\"tabs-component-tab\"\n        role=\"presentation\"\n        v-show=\"tab.isVisible\"\n        @click=\"selectTab(tab.hash, $event)\"\n      >\n        <span\n          v-html=\"tab.header\"\n          :aria-controls=\"tab.hash\"\n          :aria-selected=\"tab.isActive\"\n          :href=\"tab.hash\"\n          class=\"tabs-component-tab-a\"\n          role=\"tab\"\n        ></span>\n      </li>\n    </ul>\n    <div class=\"tabs-component-panels\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    cacheLifetime: {\n      default: 5,\n    },\n    options: {\n      type: Object,\n      required: false,\n      default: () => ({\n        useUrlFragment: true,\n        defaultTabHash: null,\n      }),\n    },\n  },\n  data: () => ({\n    tabs: [],\n    activeTabHash: \"\",\n    activeTabIndex: 0,\n    lastActiveTabHash: \"\",\n  }),\n  computed: {\n    storageKey() {\n      return `vue-tabs-component.cache.${window.location.host}${window.location.pathname}`;\n    },\n  },\n  created() {\n    this.tabs = this.$children;\n  },\n  mounted() {\n    window.addEventListener(\"hashchange\", () =>\n      this.selectTab(window.location.hash)\n    );\n    if (this.findTab(window.location.hash)) {\n      this.selectTab(window.location.hash);\n      return;\n    }\n    const previousSelectedTabHash = \"\";\n    if (this.findTab(previousSelectedTabHash)) {\n      this.selectTab(previousSelectedTabHash);\n      return;\n    }\n    if (\n      this.options.defaultTabHash !== null &&\n      this.findTab(\"#\" + this.options.defaultTabHash)\n    ) {\n      this.selectTab(\"#\" + this.options.defaultTabHash);\n      return;\n    }\n    if (this.tabs.length) {\n      this.selectTab(this.tabs[0].hash);\n    }\n  },\n  methods: {\n    findTab(hash) {\n      return this.tabs.find((tab) => tab.hash === hash);\n    },\n    selectTab(selectedTabHash, event) {\n      // See if we should store the hash in the url fragment.\n      if (event && !this.options.useUrlFragment) {\n        event.preventDefault();\n      }\n      const selectedTab = this.findTab(selectedTabHash);\n      if (!selectedTab) {\n        return;\n      }\n      if (selectedTab.isDisabled) {\n        event.preventDefault();\n        return;\n      }\n      if (this.lastActiveTabHash === selectedTab.hash) {\n        this.$emit(\"clicked\", { tab: selectedTab });\n        return;\n      }\n      this.tabs.forEach((tab) => {\n        tab.isActive = tab.hash === selectedTab.hash;\n      });\n      this.$emit(\"changed\", { tab: selectedTab });\n      this.activeTabHash = selectedTab.hash;\n      this.activeTabIndex = this.getTabIndex(selectedTabHash);\n      this.lastActiveTabHash = this.activeTabHash = selectedTab.hash;\n    },\n    setTabVisible(hash, visible) {\n      const tab = this.findTab(hash);\n      if (!tab) {\n        return;\n      }\n      tab.isVisible = visible;\n      if (tab.isActive) {\n        // If tab is active, set a different one as active.\n        tab.isActive = visible;\n        this.tabs.every((tab) => {\n          if (tab.isVisible) {\n            tab.isActive = true;\n            return false;\n          }\n          return true;\n        });\n      }\n    },\n\n    getTabIndex(hash) {\n      const tab = this.findTab(hash);\n\n      return this.tabs.indexOf(tab);\n    },\n\n    getTabHash(index) {\n      const tab = this.tabs.find((tab) => this.tabs.indexOf(tab) === index);\n\n      if (!tab) {\n        return;\n      }\n\n      return tab.hash;\n    },\n\n    getActiveTab() {\n      return this.findTab(this.activeTabHash);\n    },\n\n    getActiveTabIndex() {\n      return this.getTabIndex(this.activeTabHash);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.tabs-component-tabs {\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  justify-content: space-around;\n  gap: 0.5rem;\n\n  .tabs-component-tab {\n    flex: 1 1 50%;\n    padding: 0.5rem 0;\n    text-align: center;\n    border-radius: 0.5rem;\n    box-sizing: border-box;\n    background-color: var(--primary-clr);\n    &.active {\n      border: 2px solid var(--secondary-clr);\n    }\n\n    &.disabled {\n      border: 2px solid var(--primary-clr);\n      background-color: white;\n      color: grey;\n      cursor: not-allowed;\n    }\n  }\n}\n.tabs-component-panel {\n  padding: 0.5rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=0d195260&scoped=true&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=0d195260&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d195260\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"tabs-component-panel\",attrs:{\"aria-hidden\":!_vm.isActive,\"id\":_vm.computedId,\"role\":\"tabpanel\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section\n    v-show=\"isActive\"\n    :aria-hidden=\"!isActive\"\n    class=\"tabs-component-panel\"\n    :id=\"computedId\"\n    role=\"tabpanel\"\n  >\n    <slot />\n  </section>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: { default: null },\n    name: { required: true },\n    prefix: { default: \"\" },\n    suffix: { default: \"\" },\n    isDisabled: { default: false },\n  },\n  data: () => ({\n    isActive: false,\n    isVisible: true,\n  }),\n  computed: {\n    header() {\n      return this.prefix + this.name + this.suffix;\n    },\n    computedId() {\n      return this.id ? this.id : this.name.toLowerCase().replace(/ /g, \"-\");\n    },\n    hash() {\n      if (this.isDisabled) {\n        return \"#\";\n      }\n      return \"#\" + this.computedId;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=0bf228e4&\"\nimport script from \"./Tab.vue?vue&type=script&lang=js&\"\nexport * from \"./Tab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"wrapper\">\n    <tabs>\n      <tab name=\"Import From File\">\n        <div class=\"import-tab\">\n          <div class=\"checkbox\" :class=\"{ checked: importToSelectedNode }\">\n            <label class=\"checkbox-label\" for=\"import-to-selected-from-file\"\n              >Import to selected node</label\n            >\n            <input\n              type=\"checkbox\"\n              id=\"import-to-selected-from-file\"\n              v-model=\"importToSelectedNode\"\n            />\n          </div>\n\n          <span>\n            <input type=\"file\" ref=\"file\" @change=\"fileChange\" />\n          </span>\n          <div class=\"import-button\">\n            <button @click=\"importFromFile\">Import</button>\n          </div>\n        </div>\n      </tab>\n      <tab name=\"Import From Clipboard\">\n        <div class=\"import-tab\">\n          <small\n            >This feature requires Clipboard permission and doesn't work if it's\n            not granted</small\n          >\n          <div class=\"checkbox\" :class=\"{ checked: importToSelectedNode }\">\n            <label\n              class=\"checkbox-label\"\n              for=\"import-to-selected-from-clipboard\"\n              >Import to current node</label\n            >\n            <input\n              type=\"checkbox\"\n              id=\"import-to-selected-from-clipboard\"\n              v-model=\"importToSelectedNode\"\n            />\n          </div>\n          <div class=\"import-button\">\n            <button @click=\"importFromClipboard\">Import</button>\n          </div>\n        </div>\n      </tab>\n    </tabs>\n  </div>\n</template>\n<script>\nimport { tree } from \"@/tree\";\nimport Tabs from \"@/components/common/Tabs\";\nimport Tab from \"@/components/common/Tab\";\n\nexport default {\n  name: \"ImportJSON\",\n  components: { Tabs, Tab },\n  data() {\n    return {\n      file: null,\n      importToSelectedNode: false,\n    };\n  },\n\n  methods: {\n    fileChange() {\n      this.file = this.$refs.file.files[0];\n      if (!this.file) return;\n      if (this.file?.type !== \"application/json\") {\n        this.file = null;\n        return alert(\"Improted file should have .json extension\");\n      }\n    },\n    importFromFile() {\n      if (!this.file) return;\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        if (!e.target?.result) return;\n        tree.import(JSON.parse(e.target.result));\n        this.$modal.hide(\"import-export-modal\");\n      };\n\n      reader.readAsText(this.file);\n    },\n    importFromClipboard() {\n      navigator.clipboard\n        .readText()\n        .then((text) => {\n          tree.import(JSON.parse(text));\n          this.$modal.hide(\"import-export-modal\");\n        })\n        .catch((err) => {\n          alert(\n            \"Failed to import from clipboard\\nYou see this error either becuase there Clipboard permission is not granted,\\nor clipboard content is not a valid JSON\",\n            err\n          );\n        });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.wrapper {\n  padding: 0.5rem;\n\n  label:not(.checkbox-label) {\n    display: block;\n    font-size: 0.9rem;\n    margin: 0;\n  }\n  .import-tab {\n    display: flex;\n    flex-direction: column;\n\n    .row {\n      display: flex;\n      justify-content: space-around;\n    }\n\n    .import-button {\n      align-self: flex-end;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportJSON.vue?vue&type=template&id=726764da&scoped=true&\"\nimport script from \"./ImportJSON.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportJSON.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportJSON.vue?vue&type=style&index=0&id=726764da&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"726764da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('tabs',[_c('tab',{attrs:{\"name\":\"Show In New Tab\"}},[_c('div',{staticClass:\"export-tab\"},[_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.exportSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"export-selected-new-tab\"}},[_vm._v(\"Export from selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exportSelectedNode),expression:\"exportSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"export-selected-new-tab\"},domProps:{\"checked\":Array.isArray(_vm.exportSelectedNode)?_vm._i(_vm.exportSelectedNode,null)>-1:(_vm.exportSelectedNode)},on:{\"change\":function($event){var $$a=_vm.exportSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.exportSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.exportSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.exportSelectedNode=$$c}}}})]),_c('div',{staticClass:\"export-button\"},[_c('button',{on:{\"click\":_vm.showInNewTab}},[_vm._v(\"Export\")])])])]),_c('tab',{attrs:{\"name\":\"Download File\"}},[_c('div',{staticClass:\"export-tab\"},[_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"name-input\"},[_c('label',{attrs:{\"for\":\"export-file-name\"}},[_vm._v(\"Filename\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filename),expression:\"filename\"}],attrs:{\"id\":\"export-file-name\",\"type\":\"text\",\"placeholder\":_vm.defaultFilename},domProps:{\"value\":(_vm.filename)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.filename=$event.target.value}}})]),_c('div',{staticClass:\"checkbox\",class:{ checked: _vm.exportSelectedNode }},[_c('label',{staticClass:\"checkbox-label\",attrs:{\"for\":\"export-selected-download\"}},[_vm._v(\"Export from selected node\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exportSelectedNode),expression:\"exportSelectedNode\"}],attrs:{\"type\":\"checkbox\",\"id\":\"export-selected-download\"},domProps:{\"checked\":Array.isArray(_vm.exportSelectedNode)?_vm._i(_vm.exportSelectedNode,null)>-1:(_vm.exportSelectedNode)},on:{\"change\":function($event){var $$a=_vm.exportSelectedNode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.exportSelectedNode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.exportSelectedNode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.exportSelectedNode=$$c}}}})])]),_c('div',{staticClass:\"export-button\"},[_c('button',{on:{\"click\":_vm.downloadFile}},[_vm._v(\"Export\")])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <tabs>\n      <tab name=\"Show In New Tab\">\n        <div class=\"export-tab\">\n          <div class=\"checkbox\" :class=\"{ checked: exportSelectedNode }\">\n            <label class=\"checkbox-label\" for=\"export-selected-new-tab\"\n              >Export from selected node</label\n            >\n            <input\n              type=\"checkbox\"\n              id=\"export-selected-new-tab\"\n              v-model=\"exportSelectedNode\"\n            />\n          </div>\n          <div class=\"export-button\">\n            <button @click=\"showInNewTab\">Export</button>\n          </div>\n        </div>\n      </tab>\n      <tab name=\"Download File\">\n        <div class=\"export-tab\">\n          <div class=\"row\">\n            <span class=\"name-input\">\n              <label for=\"export-file-name\">Filename</label>\n              <input\n                id=\"export-file-name\"\n                @keydown.stop\n                type=\"text\"\n                v-model=\"filename\"\n                :placeholder=\"defaultFilename\"\n              />\n            </span>\n\n            <div class=\"checkbox\" :class=\"{ checked: exportSelectedNode }\">\n              <label class=\"checkbox-label\" for=\"export-selected-download\"\n                >Export from selected node</label\n              >\n              <input\n                type=\"checkbox\"\n                id=\"export-selected-download\"\n                v-model=\"exportSelectedNode\"\n              />\n            </div>\n          </div>\n\n          <div class=\"export-button\">\n            <button @click=\"downloadFile\">Export</button>\n          </div>\n        </div>\n      </tab>\n    </tabs>\n  </div>\n</template>\n<script>\nimport { tree } from \"@/tree\";\nimport Tabs from \"@/components/common/Tabs\";\nimport Tab from \"@/components/common/Tab\";\n\nexport default {\n  name: \"ExportJSON\",\n  components: { Tabs, Tab },\n  data() {\n    return {\n      exportSelectedNode: false,\n      filename: \"\",\n      defaultFilename: \"tree-data\",\n    };\n  },\n  methods: {\n    stringifiedTree() {\n      return JSON.stringify(\n        this.exportSelectedNode ? tree.lastNode.export() : tree.export(),\n        null,\n        \"  \"\n      );\n    },\n\n    showInNewTab() {\n      let text = this.stringifiedTree();\n      var tab = window.open(\"about:blank\", \"_blank\");\n      tab.document.write(`<pre>${text}</pre>`); // where 'html' is a variable containing your HTML\n      tab.document.close(); // to finish loading the page\n    },\n    downloadFile() {\n      let text = this.stringifiedTree();\n\n      let blob = new Blob([text], { type: \"application/json\" });\n      let anchor = document.createElement(\"a\");\n      anchor.download = `${this.filename || this.defaultFilename}.json`;\n      anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);\n      anchor.dataset.downloadurl = [\n        \"application/json\",\n        anchor.download,\n        anchor.href,\n      ].join(\":\");\n      anchor.click();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.wrapper {\n  padding: 0.5rem;\n\n  .export-tab {\n    display: flex;\n    flex-direction: column;\n\n    label:not(.checkbox-label) {\n      display: block;\n      font-size: 0.9rem;\n      margin: 0;\n    }\n\n    .row {\n      display: flex;\n      justify-content: space-around;\n\n      div {\n        align-self: center;\n      }\n    }\n\n    .export-button {\n      align-self: flex-end;\n    }\n\n    .name-input {\n      // flex: 1 1 30%;\n      input {\n        height: 2rem;\n        border-radius: 0.4rem;\n        border: none;\n        outline: none;\n        background-color: var(--primary-clr);\n        box-sizing: border-box;\n        padding-left: 0.5rem;\n        &:focus {\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportJSON.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportJSON.vue?vue&type=template&id=a7b00144&scoped=true&\"\nimport script from \"./ExportJSON.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportJSON.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportJSON.vue?vue&type=style&index=0&id=a7b00144&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7b00144\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <modal\n    class=\"helper\"\n    name=\"import-export-modal\"\n    :adaptive=\"true\"\n    height=\"auto\"\n    width=\"30%\"\n    @before-open=\"beforeOpen\"\n  >\n    <import-JSON v-if=\"currTab === 'import'\"></import-JSON>\n    <export-JSON v-else></export-JSON>\n  </modal>\n</template>\n<script>\nimport ImportJSON from \"@/components/ImportJSON\";\nimport ExportJSON from \"@/components/ExportJSON\";\n\nexport default {\n  name: \"ImportExportModal\",\n  components: {\n    ImportJSON,\n    ExportJSON,\n  },\n  data() {\n    return {\n      currTab: \"\",\n    };\n  },\n  methods: {\n    beforeOpen(e) {\n      this.currTab = e.params;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.helper {\n  user-select: none;\n}\n\n::v-deep .checkbox {\n  width: fit-content;\n  border: 2px solid var(--primary-clr);\n  padding: 0.2rem;\n  border-radius: 0.2rem;\n\n  .checkbox-label {\n    margin: 0 0.2rem 0 0;\n  }\n\n  &.checked {\n    border: 2px solid var(--secondary-clr);\n    background-color: var(--primary-clr);\n  }\n\n  input[type=\"checkbox\"] {\n    -webkit-appearance: none;\n    outline: none;\n    // &:checked::before {\n    //   content: \"\\2713\";\n    //   color: rgba(32, 32, 32, 0.857);\n    // }\n    // &::before {\n    //   content: \"\\2715\";\n    //   color: rgba(32, 32, 32, 0.857);\n    // }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportExportModal.vue?vue&type=template&id=8c80905c&scoped=true&\"\nimport script from \"./ImportExportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportExportModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportExportModal.vue?vue&type=style&index=0&id=8c80905c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c80905c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"docs-modal\",\"adaptive\":true,\"height\":\"auto\",\"width\":\"30%\"},on:{\"before-close\":_vm.beforeClose}},[_c('div',{staticClass:\"doc-menu\"},[_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"doc-new\",on:{\"click\":_vm.createNewDocument}},[_c('b-icon',{attrs:{\"icon\":\"file-earmark-plus\"}})],1)]),_c('div',{staticClass:\"doc-list\"},_vm._l((_vm.documents),function(doc,uuid){return _c('div',{key:uuid,staticClass:\"doc\",class:{ active: _vm.activeDoc(uuid) },on:{\"click\":function($event){return _vm.setDocument(uuid)}}},[(uuid !== _vm.editingDoc)?_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"doc-name\"},[_vm._v(_vm._s(doc.name))]),_c('span',[(doc.lastEdit)?_c('span',{staticClass:\"doc-date\"},[_vm._v(_vm._s(_vm.timeAgo(doc.lastEdit)))]):_vm._e(),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.enterDocEdit(doc, uuid)}}},[_c('b-icon',{attrs:{\"icon\":\"pencil-square\"}})],1),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteDocument(uuid)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]):_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"name-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDocName),expression:\"newDocName\"}],ref:\"docNameInput\",refInFor:true,attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newDocName)},on:{\"click\":function($event){$event.stopPropagation();},\"keydown\":[function($event){$event.stopPropagation();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveDocName(doc)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.leaveDocEdit()}],\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.newDocName=$event.target.value}}})]),_c('div',[_c('button',{on:{\"click\":function($event){return _vm.leaveDocEdit(doc)}}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1),_c('button',{on:{\"click\":function($event){return _vm.saveDocName(doc)}}},[_c('b-icon',{attrs:{\"icon\":\"check2\"}})],1)])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal\n    name=\"docs-modal\"\n    :adaptive=\"true\"\n    height=\"auto\"\n    width=\"30%\"\n    @before-close=\"beforeClose\"\n  >\n    <div class=\"doc-menu\">\n      <div class=\"buttons\">\n        <button class=\"doc-new\" @click=\"createNewDocument\">\n          <b-icon icon=\"file-earmark-plus\"></b-icon>\n        </button>\n      </div>\n      <div class=\"doc-list\">\n        <div\n          class=\"doc\"\n          :class=\"{ active: activeDoc(uuid) }\"\n          v-for=\"(doc, uuid) in documents\"\n          :key=\"uuid\"\n          @click=\"setDocument(uuid)\"\n        >\n          <div v-if=\"uuid !== editingDoc\" class=\"content\">\n            <span class=\"doc-name\">{{ doc.name }}</span>\n            <span>\n              <span v-if=\"doc.lastEdit\" class=\"doc-date\">{{\n                timeAgo(doc.lastEdit)\n              }}</span>\n              <button @click.stop=\"enterDocEdit(doc, uuid)\">\n                <b-icon icon=\"pencil-square\"></b-icon>\n              </button>\n              <button @click.stop=\"deleteDocument(uuid)\">\n                <b-icon icon=\"trash\"></b-icon>\n              </button>\n            </span>\n          </div>\n          <div v-else class=\"content\">\n            <div class=\"name-input\">\n              <input\n                type=\"text\"\n                v-model=\"newDocName\"\n                @click.stop\n                @keydown.stop\n                @keydown.enter=\"saveDocName(doc)\"\n                @keydown.esc=\"leaveDocEdit()\"\n                @mousewheel.stop\n                ref=\"docNameInput\"\n              />\n            </div>\n            <div>\n              <button @click=\"leaveDocEdit(doc)\">\n                <b-icon icon=\"x\"></b-icon>\n              </button>\n              <button @click=\"saveDocName(doc)\">\n                <b-icon icon=\"check2\"></b-icon>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport { store } from \"@/store/index\";\nimport { tree } from \"@/tree\";\n\nexport default {\n  name: \"DocumentsList\",\n  data() {\n    return {\n      store,\n      newDocName: \"\",\n      editingDoc: \"\",\n      currTab: \"\",\n    };\n  },\n\n  computed: {\n    documents() {\n      return store.state.documents;\n    },\n  },\n  methods: {\n    ...mapActions({\n      setDocumentAction: \"setDocument\",\n      createDocumentAction: \"createDocument\",\n      deleteDocumentAction: \"deleteDocument\",\n    }),\n    setDocument(uuid) {\n      this.setDocumentAction(uuid).then((data) => tree.parseTreeData(data));\n    },\n    createNewDocument() {\n      this.createDocumentAction().then((data) => tree.parseTreeData(data));\n    },\n    enterDocEdit(doc, uuid) {\n      this.newDocName = doc.name;\n      this.editingDoc = uuid;\n      this.$nextTick(() => {\n        if (this.$refs.docNameInput && this.$refs.docNameInput[0])\n          this.$refs.docNameInput[0].focus();\n      });\n    },\n    leaveDocEdit() {\n      this.newDocName = \"\";\n      this.editingDoc = \"\";\n    },\n    saveDocName(doc) {\n      doc.name = this.newDocName;\n      this.leaveDocEdit();\n    },\n    deleteDocument(uuid) {\n      this.deleteDocumentAction(uuid).then((data) => {\n        if (!this.activeDoc(uuid)) tree.parseTreeData(data);\n      });\n    },\n    activeDoc(id) {\n      return id === store.state.settings.lastDocument;\n    },\n\n    beforeClose() {\n      this.newDocName = \"\";\n      this.editingDoc = \"\";\n    },\n\n    timeAgo(ts) {\n      const date = new Date(ts);\n      // prettier-ignore\n      const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n      return `${date.getHours()}:${date.getMinutes()} ${date.getDate()} ${\n        months[date.getMonth()]\n      }`;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.doc-menu {\n  flex-grow: 1;\n  background-color: white;\n  border-radius: 0.2rem;\n  padding: 0.5rem;\n  user-select: none;\n}\n\n.buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  justify-content: space-between;\n}\n\n.doc-list {\n  background-color: #e6e6e6;\n  padding: 0.5rem;\n  border-radius: 0.2rem;\n  margin-top: 0.5rem;\n  border: 1px solid #b3b3b3;\n\n  .doc > .content {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    gap: 2rem;\n    align-items: center;\n    padding: 0.2rem;\n    border-radius: 0.2rem;\n\n    .doc-date {\n      font-size: 0.8rem;\n    }\n    span {\n      padding: 0;\n      margin: 0;\n    }\n\n    button {\n      margin-left: 0.5rem;\n    }\n\n    .name-input {\n      position: relative;\n      flex-grow: 1;\n\n      input {\n        width: 95%;\n        height: 2rem;\n        border-radius: 0.4rem;\n        border: none;\n        outline: none;\n        background-color: var(--primary-clr);\n        box-sizing: border-box;\n        padding-left: 0.5rem;\n        width: 100%;\n        &:focus {\n          // border: 2px solid var(--secondary-clr);\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\n        }\n      }\n    }\n  }\n  .doc:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n  .doc.active {\n    color: var(--primary-clr);\n    background-color: var(--secondary-clr);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DocumentsList.vue?vue&type=template&id=fdd9583a&scoped=true&\"\nimport script from \"./DocumentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./DocumentsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DocumentsList.vue?vue&type=style&index=0&id=fdd9583a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdd9583a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"}],staticClass:\"bar\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInput),expression:\"searchInput\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.searchInput)},on:{\"keydown\":function($event){$event.stopPropagation();},\"mousewheel\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.searchInput=$event.target.value}}}),_c('span',{staticClass:\"input-icon\"},[_c('b-icon',{attrs:{\"shift-v\":\"4\",\"icon\":\"search\"}})],1)]),_c('button',{on:{\"click\":_vm.close}},[_c('b-icon',{attrs:{\"shift-v\":\"4\",\"icon\":\"x\"}})],1)]),(_vm.favorites.length)?_c('div',{staticClass:\"favorites-list\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Favorites:\")]),_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.favorites),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",class:{\n              selected: _vm.isSelected(e.key),\n            },attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(e.key)}}})])}),0),_c('hr')]):_vm._e(),(_vm.currentNodeEmoji.length)?_c('div',{staticClass:\"favorites-list\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Current node:\")]),_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.currentNodeEmoji),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(e.key)}}})])}),0),_c('hr')]):_vm._e(),(_vm.searchInput)?_c('div',{staticClass:\"emoji-list\"},[_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.searchResult),function(e){return _c('div',{key:e.key},[_c('div',{staticClass:\"emoji\",class:{\n              selected: _vm.isSelected(e.key),\n            },attrs:{\"title\":e.key},domProps:{\"textContent\":_vm._s(e.emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(e.key)}}})])}),0)]):_c('div',{staticClass:\"emoji-list\"},[_c('div',{staticClass:\"flex-wrapper\"},_vm._l((_vm.emojis.emoji),function(emoji,key){return _c('div',{key:key,staticClass:\"emoji\",class:{\n            selected: _vm.isSelected(key),\n          },attrs:{\"title\":key},domProps:{\"textContent\":_vm._s(emoji)},on:{\"click\":function($event){return _vm.toggleEmoji(key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.toggleFavorite(key)}}})}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\r\n\r\nexport const eventBus = new Vue();\r\n\r\nexport const events = [\r\n  // { name: \"Set root\", action: \"tree-push-root\", hotkey: \"g\" },\r\n  // { name: \"Set root\", action: \"tree-pop-root\", hotkey: \"h\" },\r\n  {\r\n    title: \"Add Child\",\r\n    icon: \"diagram2\",\r\n    event: \"tree-add-child\",\r\n    hotkey: \"tab\",\r\n    options: { prevent: true },\r\n  },\r\n  {\r\n    title: \"Add Sibling\",\r\n    icon: \"node-plus\",\r\n    event: \"tree-add-sibling\",\r\n    hotkey: \"enter\",\r\n  },\r\n  {\r\n    title: \"Collapse Node\",\r\n    icon: \"arrows-collapse\",\r\n    event: \"tree-node-collapse\",\r\n    hotkey: \"c\",\r\n  },\r\n  {\r\n    title: \"Edit Node\",\r\n    icon: \"pencil\",\r\n    event: \"tree-node-edit\",\r\n    hotkey: \"e\",\r\n    options: { prevent: true },\r\n  },\r\n\r\n  {\r\n    title: \"Toggle Node Done State\",\r\n    icon: \"check2\",\r\n    event: \"tree-node-toggle-done\",\r\n    hotkey: \"d\",\r\n  },\r\n  {\r\n    title: \"Delete Node\",\r\n    icon: \"trash\",\r\n    event: \"tree-delete-last-node\",\r\n    hotkey: [\"delete\", \"backspace\"],\r\n  },\r\n  {\r\n    title: \"Cursor Up\",\r\n    event: \"tree-go-up\",\r\n    hotkey: \"arrowup\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Right\",\r\n    event: \"tree-go-right\",\r\n    hotkey: \"arrowright\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Down\",\r\n    event: \"tree-go-down\",\r\n    hotkey: \"arrowdown\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Cursor Left\",\r\n    event: \"tree-go-left\",\r\n    hotkey: \"arrowleft\",\r\n    UIIgnore: true,\r\n  },\r\n  {\r\n    title: \"Save Document\",\r\n    event: \"document-save\",\r\n    hotkey: \"ctrl+s\",\r\n    options: { prevent: true },\r\n    UIIgnore: true,\r\n  },\r\n];\r\n\r\nconst eventsMap = {};\r\n\r\nexport function Init() {\r\n  window.addEventListener(\"keydown\", keydown);\r\n  window.addEventListener(\"unload\", unload);\r\n\r\n  for (let event of events) {\r\n    if (!(event.hotkey instanceof Array)) {\r\n      event.hotkey = [event.hotkey];\r\n    }\r\n\r\n    for (let key of event.hotkey) {\r\n      const k = key.toLowerCase();\r\n      if (eventsMap[k]) {\r\n        console.error(\r\n          `Multiple hotkeys binding on single event: ${event.event}`\r\n        );\r\n        continue;\r\n      }\r\n      eventsMap[k] = event;\r\n    }\r\n  }\r\n}\r\n\r\nfunction keydown(e) {\r\n  const key = getCombination(e);\r\n  const match = eventsMap[key];\r\n  if (match) call(match.event, match.options);\r\n\r\n  function call(eventName, options = { prevent: false }) {\r\n    if (options.prevent) e.preventDefault();\r\n    eventBus.$emit(eventName);\r\n  }\r\n}\r\n\r\nfunction getCombination(event) {\r\n  let combination = [];\r\n\r\n  if (event.ctrlKey && event.key !== \"Control\") combination.push(\"ctrl\");\r\n  if (event.altKey && event.key !== \"Alt\") combination.push(\"alt\");\r\n  if (event.shiftKey && event.key !== \"Shift\") combination.push(\"shift\");\r\n\r\n  combination.push(event.key.toLowerCase());\r\n  return combination.join(\"+\");\r\n}\r\n\r\nfunction unload() {\r\n  window.removeEventListener(\"keydown\", keydown);\r\n  window.removeEventListener(\"unload\", unload);\r\n}\r\n","<template>\n  <transition name=\"slide\">\n    <div class=\"bar\" v-show=\"shown\">\n      <div class=\"title\">\n        <div class=\"search\">\n          <input\n            type=\"text\"\n            v-model=\"searchInput\"\n            @keydown.stop\n            @mousewheel.stop\n          />\n          <span class=\"input-icon\">\n            <b-icon shift-v=\"4\" icon=\"search\"></b-icon>\n          </span>\n        </div>\n        <button @click=\"close\">\n          <b-icon shift-v=\"4\" icon=\"x\"></b-icon>\n        </button>\n      </div>\n      <div class=\"favorites-list\" v-if=\"favorites.length\">\n        <span class=\"title\">Favorites:</span>\n        <div class=\"flex-wrapper\">\n          <div v-for=\"e in favorites\" :key=\"e.key\">\n            <div\n              class=\"emoji\"\n              :class=\"{\n                selected: isSelected(e.key),\n              }\"\n              :title=\"e.key\"\n              @click=\"toggleEmoji(e.key)\"\n              @contextmenu.prevent=\"toggleFavorite(e.key)\"\n              v-text=\"e.emoji\"\n            ></div>\n          </div>\n        </div>\n        <hr />\n      </div>\n      <div class=\"favorites-list\" v-if=\"currentNodeEmoji.length\">\n        <span class=\"title\">Current node:</span>\n        <div class=\"flex-wrapper\">\n          <div v-for=\"e in currentNodeEmoji\" :key=\"e.key\">\n            <div\n              class=\"emoji\"\n              :title=\"e.key\"\n              @click=\"toggleEmoji(e.key)\"\n              @contextmenu.prevent=\"toggleFavorite(e.key)\"\n              v-text=\"e.emoji\"\n            ></div>\n          </div>\n        </div>\n        <hr />\n      </div>\n      <div class=\"emoji-list\" v-if=\"searchInput\">\n        <div class=\"flex-wrapper\">\n          <div v-for=\"e in searchResult\" :key=\"e.key\">\n            <div\n              class=\"emoji\"\n              :class=\"{\n                selected: isSelected(e.key),\n              }\"\n              :title=\"e.key\"\n              @click=\"toggleEmoji(e.key)\"\n              v-text=\"e.emoji\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"emoji-list\" v-else>\n        <div class=\"flex-wrapper\">\n          <div\n            v-for=\"(emoji, key) in emojis.emoji\"\n            :key=\"key\"\n            class=\"emoji\"\n            :class=\"{\n              selected: isSelected(key),\n            }\"\n            :title=\"key\"\n            @click=\"toggleEmoji(key)\"\n            @contextmenu.prevent=\"toggleFavorite(key)\"\n            v-text=\"emoji\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n<script>\nimport emojis from \"node-emoji\";\nimport { store } from \"@/store/index\";\nimport { eventBus } from \"@/hotkeys\";\nimport { tree } from \"@/tree\";\n\nexport default {\n  name: \"EmojiBar\",\n  data() {\n    return {\n      emojis,\n      tree,\n      searchInput: \"\",\n      shown: false,\n      favoritesRaw: store.state.favoriteEmojis || [],\n    };\n  },\n  computed: {\n    favorites() {\n      return this.favoritesRaw.map((e) => emojis.find(e));\n    },\n    currentNodeEmoji() {\n      return this.tree.lastNode?.emoji?.map((e) => emojis.find(e)) || [];\n    },\n    searchResult() {\n      return emojis.search(this.searchInput);\n    },\n  },\n  // TODO use vuex actions instead of mutattions\n  methods: {\n    toggleEmoji(emoji) {\n      if (!emoji) return;\n      eventBus.$emit(\"tree-node-toggle-emoji\", emoji);\n    },\n    toggleFavorite(emoji) {\n      if (!emoji) return;\n      this.favorites.some((f) => f.key === emoji)\n        ? this.removeFavorite(emoji)\n        : this.addFavorite(emoji);\n    },\n    addFavorite(emoji) {\n      if (!emoji) return;\n      store.commit(\"addFavoriteEmoji\", emoji);\n    },\n    removeFavorite(emoji) {\n      if (!emoji) return;\n      store.commit(\"removeFavoriteEmoji\", emoji);\n    },\n    isSelected(emoji) {\n      if (!emoji) return;\n      return this.currentNodeEmoji.some((c) => c.key === emoji);\n    },\n    toggle() {\n      this.shown ? this.close() : this.open();\n    },\n    close() {\n      this.shown = false;\n    },\n    open() {\n      this.shown = true;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.bar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  max-width: 20rem;\n  z-index: 999;\n  overflow: auto;\n  height: 100%;\n  background-color: white;\n  user-select: none;\n  overflow-x: hidden;\n\n  .title {\n    text-align: center;\n    padding: 0.2rem;\n    display: flex;\n    align-items: flex-start;\n    gap: 0.4rem;\n    width: 97%;\n\n    .search {\n      position: relative;\n      flex-grow: 1;\n\n      input {\n        width: 95%;\n        height: 2rem;\n        border-radius: 0.4rem;\n        border: none;\n        outline: none;\n        background-color: var(--primary-clr);\n        box-sizing: border-box;\n        padding-left: 2rem;\n        width: 100%;\n        &:focus {\n          // border: 2px solid var(--secondary-clr);\n          box-shadow: inset 1px 1px 4px -2px rgba(0, 0, 0, 0.75);\n        }\n      }\n\n      .input-icon {\n        position: absolute;\n        top: 0.5rem;\n        left: 0.7rem;\n      }\n    }\n    button {\n      // width: 1rem;\n      height: 2rem;\n    }\n  }\n\n  .emoji-list,\n  .favorites-list {\n    .flex-wrapper {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 0.1rem;\n    }\n    .title {\n      width: 100%;\n    }\n\n    .emoji {\n      box-sizing: border-box;\n      border-radius: 0.2rem;\n      width: 1.8rem;\n      height: 1.8rem;\n      text-align: center;\n      font-size: 1rem;\n      vertical-align: middle;\n\n      &.selected {\n        border: 2px solid green;\n      }\n    }\n  }\n}\n\nhr {\n  width: 80%;\n}\n\n.slide-enter-active {\n  transition: all 0.2s ease;\n}\n.slide-leave-active {\n  transition: all 0.2s cubic-bezier(1, 0.5, 0.8, 1);\n}\n.slide-enter,\n.slide-leave-to {\n  transform: translateX(10rem);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiBar.vue?vue&type=template&id=6242c6c1&\"\nimport script from \"./EmojiBar.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiBar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <modal name=\"info-modal\" :adaptive=\"true\" height=\"auto\" width=\"500px\">\n      <div id=\"modal\">\n        <table class=\"info-table\">\n          <tr v-for=\"(e, index) in events\" :key=\"index\" class=\"info-row\">\n            <td class=\"info-col-action\">\n              {{ e.title }}\n            </td>\n            <td class=\"info-col-hotkey\">\n              {{ e.hotkey.join(\" / \") }}\n            </td>\n          </tr>\n        </table>\n      </div>\n    </modal>\n\n    <documents-list></documents-list>\n    <import-export-modal :tab=\"'f'\"></import-export-modal>\n    <div class=\"toolbar\">\n      <div class=\"left-buttons\">\n        <div\n          v-for=\"(action, index) in actions\"\n          :key=\"index\"\n          :title=\"action.title\"\n        >\n          <button\n            v-if=\"condSatisfied(action)\"\n            @click.stop=\"emitEvent(action.event)\"\n          >\n            <b-icon :icon=\"action.icon\"></b-icon>\n          </button>\n        </div>\n      </div>\n      <div class=\"right-buttons\">\n        <button @click=\"deleteAllCards\" title=\"Delete All Cards\">\n          <b-icon icon=\"x\"></b-icon>\n        </button>\n        <button @click=\"spawnCard\" title=\"New Card\">\n          <b-icon icon=\"file-post\"></b-icon>\n        </button>\n        <button\n          class=\"doc-export\"\n          @click=\"toggleImportExportModal('export')\"\n          title=\"Export\"\n        >\n          <b-icon icon=\"upload\"></b-icon>\n        </button>\n        <button\n          class=\"doc-import\"\n          @click=\"toggleImportExportModal('import')\"\n          title=\"Import\"\n        >\n          <b-icon icon=\"download\"></b-icon>\n        </button>\n        <button @click.stop=\"toggleDocMenu\" title=\"Documents\">\n          <b-icon icon=\"file-earmark-text\"></b-icon>\n        </button>\n        <button @click=\"toggleEmojiBar\" title=\"Emoji\">\n          <b-icon icon=\"emoji-smile\"></b-icon>\n        </button>\n        <button @click=\"$modal.show('info-modal')\" title=\"Help\">\n          <b-icon icon=\"question\"></b-icon>\n        </button>\n      </div>\n    </div>\n    <emoji-bar class=\"emoji-bar\" ref=\"emojiBar\"></emoji-bar>\n  </div>\n</template>\n<script>\nimport ImportExportModal from \"@/components/ImportExportModal\";\nimport DocumentsList from \"@/components/DocumentsList\";\nimport EmojiBar from \"@/components/EmojiBar\";\n\nimport { mapMutations } from \"vuex\";\nimport { tree } from \"@/tree\";\nimport { eventBus, events } from \"@/hotkeys\";\nimport { Card } from \"@/card\";\n\nexport default {\n  name: \"Toolbar\",\n  components: {\n    DocumentsList,\n\n    EmojiBar,\n    ImportExportModal,\n  },\n  data() {\n    return {\n      tree,\n      events,\n      actions: [\n        { title: \"Add child\", icon: \"diagram2\", event: \"tree-add-child\" },\n        {\n          title: \"Add sibling\",\n          icon: \"node-plus\",\n          event: \"tree-add-sibling\",\n        },\n        {\n          title: \"Collapse\",\n          cond: () => tree.lastNode.collapsible,\n          icon: \"arrows-collapse\",\n          event: \"tree-node-collapse\",\n        },\n        {\n          title: \"Expand\",\n          cond: () => tree.lastNode.expandable,\n          icon: \"arrows-expand\",\n          event: \"tree-node-collapse\",\n        },\n        { title: \"Edit\", icon: \"pencil\", event: \"tree-node-edit\" },\n        {\n          title: \"Drill down\",\n          cond: () => tree.lastNode.canDrillDown,\n          icon: \"arrow-bar-down\",\n          event: \"tree-push-root\",\n        },\n        {\n          title: \"Drill up\",\n          cond: () => tree.lastNode.canDrillUp,\n          icon: \"arrow-bar-up\",\n          event: \"tree-pop-root\",\n        },\n        {\n          title: \"Mark done\",\n          icon: \"check2\",\n          event: \"tree-node-toggle-done\",\n        },\n        {\n          title: \"Do all children\",\n          cond: () => tree.lastNode.childrenLength > 0,\n          icon: \"check2-square\",\n          event: \"tree-node-do-all-children\",\n        },\n        {\n          title: \"Undo all children\",\n          cond: () => tree.lastNode.childrenLength > 0,\n          icon: \"x-square\",\n          event: \"tree-node-undo-all-children\",\n        },\n      ],\n    };\n  },\n\n  methods: {\n    ...mapMutations([\"addCard\", \"deleteAllCards\"]),\n    emitEvent(event) {\n      if (!event) return;\n      eventBus.$emit(event);\n    },\n\n    condSatisfied(action) {\n      if (!action.cond) return true;\n      return typeof action.cond === \"function\"\n        ? action.cond()\n        : action.cond == false\n        ? false\n        : true;\n    },\n    toggleEmojiBar() {\n      this.$refs?.emojiBar?.toggle();\n    },\n    toggleDocMenu() {\n      this.$modal.show(\"docs-modal\");\n    },\n    toggleImportExportModal(tab) {\n      this.$modal.show(\"import-export-modal\", tab);\n    },\n    spawnCard() {\n      this.addCard(new Card(\"\", \"\", { editing: true, x: 100, y: 100 }));\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.toolbar {\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: fit-content;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 0.5rem;\n  z-index: 10;\n  background-color: white;\n  box-sizing: border-box;\n  box-shadow: 0px -2px 5px 0px black;\n\n  .left-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1px;\n    max-width: 50%;\n\n    button {\n      padding: 0;\n      border-radius: 0;\n      height: 1.7rem;\n      width: 1.7rem;\n      box-shadow: none;\n      // box-shadow: 0 0 2px 0px black;\n      border: 0.5px solid var(--secondary-clr);\n    }\n  }\n\n  .right-buttons {\n    display: flex;\n    gap: 0.8rem;\n  }\n}\n\n.emoji-bar {\n  box-shadow: 2px -2px 5px 0px black;\n}\n\n::v-deep button {\n  padding: 0.5rem;\n  border-radius: 0.4rem;\n  border: none;\n  z-index: 1;\n  color: black;\n  background-color: var(--node-bg-clr);\n  box-shadow: 0px 0px 5px -2px black;\n}\n\n::v-deep button:active {\n  top: 1.07rem;\n  background-color: var(--primary-clr);\n  box-shadow: 0px 0px 4px -2px black;\n  border: none;\n}\n\n::v-deep button:focus {\n  background-color: var(--primary-clr);\n  outline: none;\n}\n</style>\n<style lang=\"scss\" scoped>\n#modal {\n  padding: 1rem;\n  user-select: none;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.info-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.info-row:nth-child(odd) {\n  background-color: rgba(167, 167, 167, 0.408);\n}\n\n.info-row > td {\n  padding-top: 0.3rem;\n  padding-bottom: 0.3rem;\n  border: 1px solid black;\n}\n\n.info-col-action {\n  width: 50%;\n  padding-right: 1rem;\n  text-align: right;\n}\n\n.info-col-hotkey {\n  width: 50%;\n  padding-left: 1rem;\n  text-align: left;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=75f4cf53&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=75f4cf53&lang=scss&scoped=true&\"\nimport style1 from \"./Toolbar.vue?vue&type=style&index=1&id=75f4cf53&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75f4cf53\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breadcrumb-query\"},[_c('span',_vm._l((_vm.query),function(q,index){return _c('span',{key:index},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.popStack(index)}}},[_vm._v(_vm._s(q))]),(index + 1 < _vm.queryLen)?_c('b-icon',{attrs:{\"icon\":\"chevron-right\",\"shift-v\":\"-1\",\"shift-h\":\"1\"}}):_vm._e()],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"breadcrumb-query\">\n    <span>\n      <span v-for=\"(q, index) in query\" :key=\"index\">\n        <a href=\"#\" @click=\"popStack(index)\">{{ q }}</a>\n        <b-icon\n          v-if=\"index + 1 < queryLen\"\n          icon=\"chevron-right\"\n          shift-v=\"-1\"\n          shift-h=\"1\"\n        ></b-icon>\n      </span>\n    </span>\n  </div>\n</template>\n<script>\nimport { tree } from \"@/tree\";\n\nexport default {\n  name: \"Breadcrumb\",\n  computed: {\n    query() {\n      return tree.query.map((q) => q.name);\n    },\n    queryLen() {\n      return tree.query.length;\n    },\n  },\n  methods: {\n    popStack(amount) {\n      tree.spliceRootsQuery(tree.query.length - amount);\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.breadcrumb-query {\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem;\n  user-select: none;\n  z-index: 10;\n\n  a {\n    color: black;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=223aa8a6&\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Breadcrumb.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"},{name:\"on-clickaway\",rawName:\"v-on-clickaway:mousedown\",value:(_vm.close),expression:\"close\",arg:\"mousedown\"}],ref:\"contextMenu\",staticClass:\"context-menu\",style:(_vm.style),attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.close()},\"contextmenu\":function($event){$event.preventDefault();}}},[_vm._t(\"items\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    ref=\"contextMenu\"\n    v-show=\"shown\"\n    class=\"context-menu\"\n    :style=\"style\"\n    tabindex=\"0\"\n    v-on-clickaway:mousedown=\"close\"\n    @click=\"close()\"\n    @contextmenu.prevent\n  >\n    <slot name=\"items\" />\n  </div>\n</template>\n<script>\nimport { mixin as clickaway } from \"vue-clickaway2\";\nexport default {\n  mixins: [clickaway],\n  computed: {\n    style() {\n      return { top: `${this.top}px`, left: `${this.left}px` };\n    },\n  },\n  data() {\n    return {\n      top: 0,\n      left: 0,\n      shown: false,\n    };\n  },\n  methods: {\n    open(event) {\n      if (!event) return;\n      let eventY = event.pageY || event.clientY;\n      let eventX = event.pageX || event.clientX;\n      let menuHeight = this.$refs?.contextMenu?.clientHeight || 170;\n      let menuWidth = this.$refs?.contextMenu?.clientWidth || 0;\n      let newY = eventY;\n      let menuBottom = newY + menuHeight;\n      let newX = eventX;\n      let menuRight = newX + menuWidth;\n      if (Math.max(menuBottom, window.innerHeight) === menuBottom) {\n        newY -= menuHeight;\n      }\n      if (Math.max(menuRight, window.innerWidth * 0.5) === menuRight) {\n        newX -= menuWidth;\n      }\n      this.top = newY;\n      this.left = newX;\n      this.$nextTick(() => this.$el.focus());\n      this.shown = true;\n    },\n    close() {\n      if (!this.shown) return;\n      this.shown = false;\n      this.$emit(\"close-event\");\n      this.left = 0;\n      this.top = 0;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.context-menu {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  outline: none;\n  position: absolute;\n  z-index: 999;\n  padding: 0.4rem 0;\n  width: auto;\n  height: auto;\n  // border-radius: 0.2rem;\n  background-color: var(--context-menu-bg-clr);\n}\n.context-menu > .context-menu-item {\n  transition: background-color 0.2s linear;\n  background-color: var(--context-menu-bg-clr);\n  color: rgba(255, 255, 255, 0.87);\n  text-align: start;\n  padding: 0 3rem 0 0.5rem;\n  margin: 0;\n  border: none;\n  outline: none;\n  height: 1.8rem;\n  cursor: pointer;\n}\n.context-menu > .context-menu-item:hover:enabled {\n  background-color: var(--context-menu-item-hover-clr);\n}\n.context-menu > .context-menu-item:disabled {\n  opacity: 0.2;\n}\n.context-menu > .context-menu-header {\n  margin: 0;\n  padding: 0;\n}\n\n.context-menu-selector {\n  transition: background-color 0.2s linear;\n  background-color: var(--context-menu-bg-clr);\n  color: rgba(255, 255, 255, 0.87);\n  padding: 0 0 0 0.5rem;\n  text-align: start;\n  margin: 0;\n  border: none;\n  outline: none;\n  height: 1.8rem;\n  font-size: 14px;\n  position: relative;\n  &:hover {\n    background-color: var(--context-menu-item-hover-clr);\n    & ul {\n      display: block;\n    }\n  }\n\n  .arrow {\n    float: right;\n    clear: both;\n    margin-right: 0.4rem;\n  }\n\n  ul {\n    position: absolute;\n    display: none;\n    left: 100%;\n    top: -0.4rem;\n    padding: 0.4rem 0;\n    // border-radius: 0 0.2rem 0.2rem 0;\n    background-color: var(--context-menu-bg-clr);\n    overflow: visible;\n    width: 8rem;\n    list-style: none;\n    li {\n      transition: background-color 0.2s linear;\n      background-color: var(--context-menu-bg-clr);\n      color: rgba(255, 255, 255, 0.87);\n      text-align: start;\n      margin: 0;\n      padding: 0 0.4rem;\n      border: none;\n      outline: none;\n      height: 1.8rem;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      &:hover {\n        background-color: var(--context-menu-item-hover-clr);\n      }\n    }\n\n    &:hover {\n      display: block;\n    }\n  }\n}\n\nhr {\n  margin: 0 auto;\n  width: 70%;\n  border: none;\n  height: 1px;\n  background-color: var(--hr-clr);\n  color: var(--hr-clr);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=d1b84f7e&scoped=true&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContextMenu.vue?vue&type=style&index=0&id=d1b84f7e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1b84f7e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cards-wrapper\"},[_c('div',{staticClass:\"cards\"},[_c('emoji-picker',{ref:\"picker\",on:{\"pick\":_vm.emojiPick}}),_vm._l((_vm.cardGroups),function(group){return _c('card-group',{key:group.id,attrs:{\"group\":group,\"boundaries\":_vm.boundaries,\"targetGroup\":_vm.targetGroup,\"draggingCard\":_vm.draggingCard},on:{\"set-dragging-card\":_vm.setDraggingCard,\"set-target-group\":_vm.setTargetGroup,\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker}})}),_vm._l((_vm.cards),function(card){return _c('card',{key:card.id,attrs:{\"card\":card,\"targetGroup\":_vm.targetGroup,\"boundaries\":_vm.boundaries},on:{\"set-dragging-card\":_vm.setDraggingCard,\"set-target-group\":_vm.setTargetGroup,\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.clickOutside),expression:\"clickOutside\"}],staticClass:\"card-container\",class:{ 'on-top': _vm.card.focused },style:({\n    top: ((_vm.card.y) + \"px\"),\n    left: ((_vm.card.x) + \"px\"),\n    position: _vm.isChild ? 'static' : 'absolute',\n    'pointer-events': _vm.card.noPointerEvents ? 'none' : 'auto',\n  }),on:{\"mousedown\":_vm.dragStart,\"click\":function($event){return _vm.focusCard(true)}}},[_c('div',{staticClass:\"card-overlay\"},[_c('div',{ref:\"card\",staticClass:\"playing-card\"},[_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('open-picker', [$event, _vm.card.id])},\"mouseover\":function($event){_vm.iconHover = true},\"mouseleave\":function($event){_vm.iconHover = false}}},[(!_vm.card.icon && _vm.iconHover)?_c('b-icon',{attrs:{\"icon\":\"pencil\",\"scale\":\"0.8\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.card.icon)+\" \")],1),(!_vm.card.editing)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.card.text)}}):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.card.text),expression:\"card.text\"}],ref:\"textarea\",attrs:{\"placeholder\":\"Card text...\",\"rows\":\"3\"},domProps:{\"value\":(_vm.card.text)},on:{\"click\":_vm.focus,\"mousedown\":function($event){$event.stopPropagation();},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();_vm.card.editing = false},function($event){$event.stopPropagation();}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.card, \"text\", $event.target.value)}}})])]),(_vm.card.focused)?_c('div',{staticClass:\"controls\"},[_c('button',{on:{\"click\":function($event){return _vm.deleteCard(_vm.card.id)}}},[_c('b-icon',{attrs:{\"icon\":\"x\",\"scale\":\"0.7\"}})],1),_c('button',{on:{\"click\":_vm.edit}},[_c('b-icon',{attrs:{\"icon\":\"pencil\",\"scale\":\"0.7\"}})],1),_c('button',{on:{\"click\":_vm.group}},[_c('b-icon',{attrs:{\"icon\":\"grid\",\"scale\":\"0.7\"}})],1)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { uuidv4 } from \"./utils\";\n\nexport class CardGroup {\n  constructor(x = 100, y = 100, cards = [], collapsed = false) {\n    this.id = uuidv4();\n    this.cards = cards;\n    this.x = x;\n    this.y = y;\n    this.collapsed = collapsed;\n  }\n\n  addCard(cardID) {\n    this.cards.push(cardID);\n  }\n\n  deleteCard(id) {\n    const index = this.cards.findIndex((c) => c.id === id);\n    if (index < 0) return;\n    this.cards.splice(index, 1);\n  }\n}\n","<template>\n  <div\n    class=\"card-container\"\n    :class=\"{ 'on-top': card.focused }\"\n    :style=\"{\n      top: `${card.y}px`,\n      left: `${card.x}px`,\n      position: isChild ? 'static' : 'absolute',\n      'pointer-events': card.noPointerEvents ? 'none' : 'auto',\n    }\"\n    @mousedown=\"dragStart\"\n    @click=\"focusCard(true)\"\n    v-on-clickaway=\"clickOutside\"\n  >\n    <div class=\"card-overlay\">\n      <div ref=\"card\" class=\"playing-card\">\n        <!-- @dragend=\"dragEnd\" -->\n        <div class=\"text\">\n          <div\n            class=\"icon\"\n            @click.prevent=\"$emit('open-picker', [$event, card.id])\"\n            @mouseover=\"iconHover = true\"\n            @mouseleave=\"iconHover = false\"\n          >\n            <b-icon\n              icon=\"pencil\"\n              v-if=\"!card.icon && iconHover\"\n              scale=\"0.8\"\n            ></b-icon>\n            {{ card.icon }}\n          </div>\n\n          <span v-if=\"!card.editing\" v-text=\"card.text\"></span>\n          <textarea\n            v-else\n            placeholder=\"Card text...\"\n            v-model=\"card.text\"\n            ref=\"textarea\"\n            rows=\"3\"\n            @click=\"focus\"\n            @mousedown.stop\n            @keydown.enter.exact.stop=\"card.editing = false\"\n            @keydown.stop\n          ></textarea>\n        </div>\n      </div>\n      <div v-if=\"card.focused\" class=\"controls\">\n        <button @click=\"deleteCard(card.id)\">\n          <b-icon icon=\"x\" scale=\"0.7\"></b-icon>\n        </button>\n        <button @click=\"edit\">\n          <b-icon icon=\"pencil\" scale=\"0.7\"></b-icon>\n        </button>\n\n        <button @click=\"group\">\n          <b-icon icon=\"grid\" scale=\"0.7\"></b-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapMutations } from \"vuex\";\nimport { mixin as clickaway } from \"vue-clickaway2\";\nimport { CardGroup } from \"@/card-group\";\n\nexport default {\n  mixins: [clickaway],\n  props: {\n    card: { required: true },\n    targetGroup: { default: null },\n    boundaries: { default: null },\n  },\n  computed: {\n    isChild() {\n      return !!this.card.group;\n    },\n  },\n  watch: {\n    boundaries(bounds) {\n      if (this.isChild) return;\n      if (!this.oldBounds) this.oldBounds = bounds;\n      const xDiff = (bounds?.width || 0) - (this.oldBounds?.width || 0);\n      const yDiff = (bounds?.height || 0) - (this.oldBounds?.height || 0);\n      const newX = this.card.x + xDiff;\n      const newY = this.card.y + yDiff;\n      if (newX >= 0 && newX <= bounds.width) this.card.x = newX;\n      if (newY >= 0 && newY <= bounds.height) this.card.y = newY;\n      this.oldBounds = bounds;\n    },\n  },\n  data() {\n    return {\n      shift: { x: 0, y: 0 },\n      origin: { x: 0, y: 0 },\n      cardClone: null,\n      dragging: false,\n      iconHover: false,\n      oldBounds: null,\n\n      cardWidth: 120,\n      cardHeight: 170,\n    };\n  },\n  created() {\n    window.addEventListener(\"mousemove\", this.drag);\n    window.addEventListener(\"mouseup\", this.dragEnd);\n  },\n  methods: {\n    ...mapMutations([\n      \"addCard\",\n      \"setCardDProperty\",\n      \"createGroup\",\n      \"deleteCard\",\n    ]),\n    dragStart(e) {\n      const rect = this.$refs.card.getBoundingClientRect();\n      this.shift.x = e.clientX - rect.left;\n      this.shift.y = e.clientY - rect.top;\n      this.origin.x = rect.left;\n      this.origin.y = rect.top;\n\n      this.dragging = true;\n      this.$emit(\"set-dragging-card\", true);\n    },\n    drag(e) {\n      if (!this.dragging) return;\n      const x = e.clientX - this.shift.x;\n      const y = e.clientY - this.shift.y;\n      if (\n        (this.isChild && Math.abs(this.origin.x - x) > 100) ||\n        Math.abs(this.origin.y - y) > 100\n      ) {\n        this.ungroup();\n      }\n\n      if (x > 0 && this.inbound(\"width\", x)) this.card.x = x;\n      if (y > 0 && this.inbound(\"height\", y)) this.card.y = y;\n      this.card.noPointerEvents = true;\n    },\n    dragEnd() {\n      if (!this.dragging) return;\n      if (this.targetGroup) {\n        this.$set(this.card, \"group\", this.targetGroup);\n      }\n      this.dragging = false;\n      this.card.noPointerEvents = false;\n      this.$emit(\"set-target-group\", null);\n      this.$emit(\"set-dragging-card\", false);\n    },\n    inbound(axis, n) {\n      return this.boundaries\n        ? n + this.cardWidth <= this.boundaries[axis]\n        : true;\n    },\n    focus() {\n      this.$nextTick(() => this.$refs.textarea.focus());\n    },\n    focusCard(value) {\n      this.card.focused = !!value;\n    },\n    edit() {\n      this.card.editing = !this.card.editing;\n      if (this.card.editing) this.$nextTick(this.focus);\n    },\n    clickOutside() {\n      this.focusCard(false);\n      this.$emit(\"close-picker\", this.card.id);\n    },\n    group() {\n      const group = new CardGroup(this.card.x, this.card.y, [this.card.id]);\n      this.createGroup(group);\n      this.$set(this.card, \"group\", group.id);\n    },\n    ungroup() {\n      this.$set(this.card, \"group\", null);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.playing-card {\n  position: relative;\n  padding: 0.2rem;\n  user-select: none;\n  border-radius: 0.5rem;\n  font-size: 0.95rem;\n  //prettier-ignore\n  box-shadow: 0px 0px 20px rgba($color: #000000, $alpha: 0.1),\n              0px 0px 5px rgba($color: #000000, $alpha: 0.5);\n\n  width: 80px;\n  height: 120px;\n  background-color: white;\n\n  .text {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n\n    span {\n      text-overflow: ellipsis;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n    }\n\n    textarea {\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      box-sizing: border-box;\n      resize: none;\n      border-radius: 0.3rem;\n      outline: none;\n    }\n  }\n\n  .icon {\n    float: right;\n    margin: 5px;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &:hover {\n      background-color: rgba($color: grey, $alpha: 0.3);\n    }\n  }\n}\n\n.card-container {\n  z-index: 20;\n  &.on-top {\n    z-index: 30;\n  }\n  .card-overlay {\n    position: relative;\n    .controls {\n      $height: 1rem;\n      border: 1px solid var(--secondary-clr);\n      border-radius: 0.4rem;\n      position: absolute;\n      right: 0;\n      bottom: -1.8rem;\n      display: flex;\n\n      button {\n        border: none;\n        outline: none;\n        width: 1.5rem;\n        height: 1.5rem;\n        background-color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        &:first-of-type {\n          border-top-left-radius: 0.4rem;\n          border-bottom-left-radius: 0.4rem;\n        }\n        &:last-of-type {\n          border-bottom-right-radius: 0.4rem;\n          border-top-right-radius: 0.4rem;\n        }\n        &:not(:last-of-type) {\n          border-right: 1px solid var(--secondary-clr);\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=4db4a189&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=4db4a189&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4db4a189\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-group\",style:({ top: ((_vm.group.y) + \"px\"), left: ((_vm.group.x) + \"px\") }),on:{\"mouseenter\":_vm.hover,\"mouseleave\":_vm.unhover}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"controls\"},[_c('div',[_c('b-icon',{attrs:{\"icon\":\"x\"},on:{\"click\":function($event){return _vm.deleteGroup(_vm.group.id)}}})],1),_c('div',{class:{ active: _vm.dragging },on:{\"mousedown\":_vm.dragStart}},[_c('b-icon',{attrs:{\"icon\":\"arrows-move\"}})],1)]),_c('draggable',{attrs:{\"handle\":\".handle\",\"animation\":\"200\"},on:{\"start\":function($event){_vm.ordering = true},\"end\":function($event){_vm.ordering = false}},model:{value:(_vm.cards),callback:function ($$v) {_vm.cards=$$v},expression:\"cards\"}},[_c('transition-group',{staticClass:\"cards\",class:{ target: _vm.isTarget },attrs:{\"type\":\"transition\",\"name\":!_vm.ordering ? 'flip-list' : null}},_vm._l((_vm.cards),function(card){return _c('div',{key:card.id,staticClass:\"card-wrapper\"},[(_vm.orderMode)?_c('div',{staticClass:\"handle\"},[_c('b-icon',{attrs:{\"icon\":\"grip-horizontal\",\"scale\":\"1\"}})],1):_vm._e(),_c('card',{attrs:{\"card\":card,\"targetGroup\":_vm.targetGroup},on:{\"open-picker\":_vm.openPicker,\"close-picker\":_vm.closePicker,\"set-dragging-card\":function($event){return _vm.$emit('set-dragging-card', $event)}}})],1)}),0)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"card-group\"\n    :style=\"{ top: `${group.y}px`, left: `${group.x}px` }\"\n    @mouseenter=\"hover\"\n    @mouseleave=\"unhover\"\n  >\n    <div class=\"container\">\n      <div class=\"controls\">\n        <div><b-icon icon=\"x\" @click=\"deleteGroup(group.id)\"></b-icon></div>\n        <!-- <div\n          v-if=\"cards.length > 1\"\n          @click=\"orderMode = !orderMode\"\n          :class=\"{ active: orderMode }\"\n        >\n          <b-icon icon=\"arrow-left-right\"></b-icon>\n        </div> -->\n        <div @mousedown=\"dragStart\" :class=\"{ active: dragging }\">\n          <b-icon icon=\"arrows-move\"></b-icon>\n        </div>\n      </div>\n\n      <draggable\n        v-model=\"cards\"\n        handle=\".handle\"\n        @start=\"ordering = true\"\n        @end=\"ordering = false\"\n        animation=\"200\"\n      >\n        <transition-group\n          type=\"transition\"\n          :name=\"!ordering ? 'flip-list' : null\"\n          class=\"cards\"\n          :class=\"{ target: isTarget }\"\n        >\n          <div class=\"card-wrapper\" v-for=\"card in cards\" :key=\"card.id\">\n            <div v-if=\"orderMode\" class=\"handle\">\n              <b-icon icon=\"grip-horizontal\" scale=\"1\"></b-icon>\n            </div>\n            <card\n              :card=\"card\"\n              :targetGroup=\"targetGroup\"\n              @open-picker=\"openPicker\"\n              @close-picker=\"closePicker\"\n              @set-dragging-card=\"$emit('set-dragging-card', $event)\"\n            ></card>\n          </div>\n        </transition-group>\n      </draggable>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapMutations, mapActions } from \"vuex\";\nimport Card from \"./Card\";\nimport draggable from \"vuedraggable\";\n\nexport default {\n  props: {\n    group: { required: true },\n    targetGroup: { default: null },\n    draggingCard: { default: false },\n    boundaries: { default: null },\n  },\n  components: {\n    draggable,\n    Card,\n  },\n  computed: {\n    ...mapGetters([\"groupedCards\"]),\n\n    cards: {\n      get() {\n        const cards = this.groupedCards.filter(\n          (c) => this.group.id === c.group\n        );\n        if (!cards.length) {\n          this.deleteGroup(this.group.id);\n          return;\n        }\n        return cards;\n      },\n      set(value) {\n        this.updateCards(value);\n      },\n    },\n    isTarget() {\n      return this.draggingCard && this.targetGroup === this.group.id;\n    },\n  },\n  watch: {\n    boundaries(bounds) {\n      if (!this.oldBounds) this.oldBounds = bounds;\n      const xDiff = (bounds?.width || 0) - (this.oldBounds?.width || 0);\n      const yDiff = (bounds?.height || 0) - (this.oldBounds?.height || 0);\n      const newX = this.group.x + xDiff;\n      const newY = this.group.y + yDiff;\n      if (newX >= 0 && newX <= bounds.width) this.group.x = newX;\n      if (newY >= 0 && newY <= bounds.height) this.group.y = newY;\n      this.oldBounds = bounds;\n    },\n  },\n  data() {\n    return {\n      dragging: false,\n      shift: { x: 0, y: 0 },\n      oldBounds: null,\n      ordering: false,\n      orderMode: false,\n    };\n  },\n  mounted() {\n    window.addEventListener(\"mousemove\", this.drag);\n    window.addEventListener(\"mouseup\", this.dragStop);\n  },\n  methods: {\n    ...mapMutations([\"updateCards\", \"setCardProperty\"]),\n    ...mapActions([\"deleteGroup\"]),\n\n    hover() {\n      if (!this.draggingCard) return;\n      this.$emit(\"set-target-group\", this.group.id);\n    },\n    unhover() {\n      if (!this.draggingCard) return;\n      this.$emit(\"set-target-group\", null);\n    },\n    dragStart(e) {\n      this.dragging = true;\n      const rect = this.$el.getBoundingClientRect();\n      this.shift.x = e.clientX - rect.left;\n      this.shift.y = e.clientY - rect.top;\n    },\n    drag(e) {\n      if (!this.dragging) return;\n      const x = e.clientX - this.shift.x;\n      const y = e.clientY - this.shift.y;\n      if (x > 0) this.group.x = x;\n      if (y > 0) this.group.y = y;\n    },\n    dragStop() {\n      this.dragging = false;\n    },\n    openPicker(e) {\n      this.$emit(\"open-picker\", e);\n    },\n    closePicker(e) {\n      this.$emit(\"close-picker\", e);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.card-group {\n  position: absolute;\n  z-index: 20;\n\n  .container {\n    position: relative;\n    .controls {\n      position: absolute;\n      top: -1rem;\n      right: 0;\n      display: flex;\n      gap: 0.2rem;\n      border: 1px solid purple;\n      border-radius: 0.4rem;\n      background-color: white;\n      z-index: 10;\n      div {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 1.5rem;\n        height: 1.5rem;\n\n        &:not(:last-of-type) {\n          border-right: 1px solid var(--secondary-clr);\n        }\n      }\n    }\n  }\n}\n.cards {\n  min-width: fit-content;\n  border: 1px solid black;\n  border-radius: 0.3rem;\n  position: relative;\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n\n  .card-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .handle {\n      cursor: ew-resize;\n      height: 1rem;\n      width: 80%;\n      border-radius: 0.3rem;\n      margin-bottom: 0.3rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: rgba($color: #000000, $alpha: 0.1);\n    }\n  }\n\n  &.target {\n    border: 1px dashed black;\n  }\n}\n\n.flip-list-move {\n  transition: transform 0.5s;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardGroup.vue?vue&type=template&id=e00515e4&scoped=true&\"\nimport script from \"./CardGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./CardGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardGroup.vue?vue&type=style&index=0&id=e00515e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e00515e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shown),expression:\"shown\"}],staticClass:\"picker\",style:({ top: (_vm.y + \"px\"), left: (_vm.x + \"px\") })},_vm._l((_vm.emojis.emoji),function(emoji,key){return _c('div',{key:key,staticClass:\"emoji\",attrs:{\"title\":key},domProps:{\"textContent\":_vm._s(emoji)},on:{\"click\":function($event){return _vm.pick({ key: key, emoji: emoji })}}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-show=\"shown\" class=\"picker\" :style=\"{ top: `${y}px`, left: `${x}px` }\">\n    <div\n      v-for=\"(emoji, key) in emojis.emoji\"\n      :key=\"key\"\n      class=\"emoji\"\n      :title=\"key\"\n      v-text=\"emoji\"\n      @click=\"pick({ key, emoji })\"\n    ></div>\n  </div>\n</template>\n<script>\nimport emojis from \"node-emoji\";\n\nexport default {\n  data() {\n    return {\n      emojis,\n      shown: false,\n      x: 0,\n      y: 0,\n    };\n  },\n  methods: {\n    open(e) {\n      const rect = this.$el.getBoundingClientRect();\n      const offset = 20;\n      this.x = e.clientX + offset;\n      this.y = e.clientY - rect.height - offset;\n      this.shown = true;\n    },\n    close() {\n      this.shown = false;\n    },\n    pick(emoji) {\n      this.$emit(\"pick\", emoji);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scped>\n.picker {\n  position: absolute;\n  width: auto;\n  height: auto;\n  max-width: 400px;\n  max-height: 300px;\n  display: flex;\n  flex-wrap: wrap;\n  overflow: auto;\n  user-select: none;\n  z-index: 51;\n  padding: 0.5rem;\n  box-sizing: border-box;\n\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 0 5px black;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=a1ed27ca&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiPicker.vue?vue&type=style&index=0&lang=scss&scped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cards-wrapper\">\n    <div class=\"cards\">\n      <emoji-picker ref=\"picker\" @pick=\"emojiPick\"></emoji-picker>\n      <card-group\n        v-for=\"group in cardGroups\"\n        :key=\"group.id\"\n        :group=\"group\"\n        :boundaries=\"boundaries\"\n        :targetGroup=\"targetGroup\"\n        :draggingCard=\"draggingCard\"\n        @set-dragging-card=\"setDraggingCard\"\n        @set-target-group=\"setTargetGroup\"\n        @open-picker=\"openPicker\"\n        @close-picker=\"closePicker\"\n      ></card-group>\n      <card\n        v-for=\"card in cards\"\n        :key=\"card.id\"\n        :card=\"card\"\n        :targetGroup=\"targetGroup\"\n        :boundaries=\"boundaries\"\n        @set-dragging-card=\"setDraggingCard\"\n        @set-target-group=\"setTargetGroup\"\n        @open-picker=\"openPicker\"\n        @close-picker=\"closePicker\"\n      ></card>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\n\nimport Card from \"./Card\";\nimport CardGroup from \"./CardGroup\";\nimport EmojiPicker from \"@/components/EmojiPicker\";\n\nexport default {\n  components: {\n    Card,\n    EmojiPicker,\n    CardGroup,\n  },\n  computed: {\n    ...mapGetters([\"cards\"]),\n    ...mapState([\"_cards\", \"cardGroups\"]),\n  },\n  data() {\n    return {\n      target: null,\n      targetGroup: null,\n      draggingCard: false,\n      boundaries: null,\n    };\n  },\n  mounted() {\n    this.boundaries = this.$el.getBoundingClientRect();\n    window.addEventListener(\"resize\", this.align);\n  },\n  methods: {\n    ...mapMutations([\"setCardProperty\"]),\n    align() {\n      this.boundaries = this.$el.getBoundingClientRect();\n    },\n    setTargetGroup(group) {\n      this.targetGroup = group;\n    },\n    setDraggingCard(value) {\n      this.draggingCard = value;\n    },\n    openPicker([e, cardID]) {\n      this.target = cardID;\n      this.$refs.picker.open(e);\n    },\n    closePicker(cardID) {\n      if (this.target !== cardID) return;\n      this.$refs.picker.close();\n      this.target = null;\n    },\n    emojiPick(emoji) {\n      const index = this._cards.findIndex((c) => c.id === this.target);\n      if (index < 0) return;\n      this._cards[index].icon = emoji.emoji;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.cards-wrapper {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  .cards {\n    position: relative;\n    height: 100%;\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardsWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardsWrapper.vue?vue&type=template&id=4ec4c7a0&scoped=true&\"\nimport script from \"./CardsWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./CardsWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardsWrapper.vue?vue&type=style&index=0&id=4ec4c7a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ec4c7a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <context-menu ref=\"contextMenu\">\r\n      <template #items>\r\n        <button class=\"context-menu-item\" @click=\"addSibling\">\r\n          <b-icon icon=\"node-plus\"></b-icon>\r\n          Add sibling\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"addChild\">\r\n          <b-icon icon=\"diagram2\"></b-icon>\r\n          Add child\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"toggleDone\">\r\n          <b-icon :icon=\"tree.lastNode.done ? 'x' : 'check2'\"></b-icon>\r\n          {{ tree.lastNode.done ? \"Undo\" : \"Done\" }}\r\n        </button>\r\n        <button\r\n          class=\"context-menu-item\"\r\n          @click=\"pushRootToQuery\"\r\n          v-if=\"!tree.lastNode.isRoot\"\r\n        >\r\n          <b-icon icon=\"arrow-bar-down\"></b-icon>\r\n          Drill down\r\n        </button>\r\n        <button\r\n          v-if=\"tree.lastNode.childrenLength\"\r\n          class=\"context-menu-item\"\r\n          @click=\"collapseLastNode\"\r\n        >\r\n          <b-icon\r\n            :icon=\"\r\n              tree.lastNode.collapsed ? 'arrows-expand' : 'arrows-collapse'\r\n            \"\r\n          ></b-icon>\r\n          {{ tree.lastNode.collapsed ? \"Expand\" : \"Collapse\" }}\r\n        </button>\r\n        <button class=\"context-menu-item\" @click=\"editLastNode\">\r\n          <b-icon icon=\"pencil\"></b-icon>\r\n          Edit\r\n        </button>\r\n        <button class=\"context-menu-selector\">\r\n          <b-icon icon=\"kanban\"></b-icon>\r\n          Weight: {{ tree.lastNode.weight || 1 }}\r\n          <ul>\r\n            <li\r\n              v-for=\"(value, key) in ['Default', 10, 5, 1, -1, -5, -10]\"\r\n              :key=\"key\"\r\n              @click=\"tree.lastNode.addWeight(value)\"\r\n            >\r\n              {{ value >= 0 ? `+${value}` : value }}\r\n            </li>\r\n          </ul>\r\n          <b-icon icon=\"chevron-right\" class=\"arrow\"></b-icon>\r\n        </button>\r\n        <button class=\"context-menu-selector\">\r\n          <b-icon icon=\"gear\"></b-icon>\r\n          Settings\r\n          <ul>\r\n            <li\r\n              v-for=\"(value, key) in tree.lastNode.settings\"\r\n              :key=\"key\"\r\n              @click=\"tree.lastNode.toggleSetting(key)\"\r\n            >\r\n              {{ key }}\r\n              <b-icon v-if=\"value\" icon=\"check2\"></b-icon>\r\n            </li>\r\n          </ul>\r\n          <b-icon icon=\"chevron-right\" class=\"arrow\"></b-icon>\r\n        </button>\r\n        <button\r\n          v-if=\"tree.lastNode.deletable\"\r\n          class=\"context-menu-item\"\r\n          @click=\"deleteLastNode\"\r\n        >\r\n          <b-icon icon=\"node-minus\"></b-icon>\r\n          Delete\r\n        </button>\r\n      </template>\r\n    </context-menu>\r\n    <toolbar></toolbar>\r\n\r\n    <div\r\n      class=\"tree-container\"\r\n      ref=\"container\"\r\n      :class=\"{ dragging: nodeDrag.dragging }\"\r\n      @mousewheel=\"handleZoom\"\r\n      @click.middle=\"handleZoom\"\r\n    >\r\n      <svg class=\"svg vue-tree\" ref=\"svg\" :style=\"initialTransformStyle\"></svg>\r\n\r\n      <div\r\n        class=\"dom-container\"\r\n        ref=\"domContainer\"\r\n        :style=\"initialTransformStyle\"\r\n      >\r\n        <div\r\n          class=\"node-slot\"\r\n          v-for=\"node of nodeDataList\"\r\n          :key=\"node.data._key\"\r\n          :style=\"{\r\n            left: formatDimension(node.y),\r\n            top: formatDimension(node.x),\r\n            width: formatDimension(config.nodeWidth),\r\n            height: formatDimension(config.nodeHeight),\r\n          }\"\r\n          @dragover.stop=\"mouseOverNode($event, node)\"\r\n          @dragend=\"onDrop($event, node)\"\r\n        >\r\n          <!-- @dragleave=\"mouseLeaveNode($event, node)\" -->\r\n          <div\r\n            class=\"node-slot-overlay\"\r\n            :class=\"{\r\n              'node-top': nodeDrag.snap === 'top' && isDraggedOver(node.data),\r\n              'node-bottom':\r\n                nodeDrag.snap === 'bottom' && isDraggedOver(node.data),\r\n              'node-right':\r\n                nodeDrag.snap === 'right' && isDraggedOver(node.data),\r\n            }\"\r\n          >\r\n            <div\r\n              class=\"node\"\r\n              :class=\"{\r\n                dragover: isDraggedOver(node.data),\r\n                highlighted: node.data._gid === tree.lastNode._gid,\r\n                stack: node.data.childrenLength && node.data.collapsed,\r\n                done: node.data.done,\r\n                editing: node.data.editing,\r\n              }\"\r\n              :style=\"{\r\n                'max-width': formatDimension(config.nodeMaxWidth),\r\n                'max-height': formatDimension(config.nodeMaxHeight),\r\n              }\"\r\n              @mousedown.stop\r\n              @click=\"setLastNode(node.data, $event)\"\r\n              @contextmenu=\"nodeContextClick($event, node.data)\"\r\n              :draggable=\"node.data.draggable\"\r\n              @dragstart=\"startDrag($event, node)\"\r\n              @drag=\"onDrag()\"\r\n            >\r\n              <div class=\"content\" v-if=\"!node.data.editing\">\r\n                <div\r\n                  v-if=\"\r\n                    !node.data.editing &&\r\n                    node.data.emoji &&\r\n                    node.data.emoji.length\r\n                  \"\r\n                >\r\n                  <span\r\n                    v-for=\"(emoji, key) in emojifyArray(node.data.emoji)\"\r\n                    :key=\"key\"\r\n                    >{{ emoji }}\r\n                  </span>\r\n                </div>\r\n                <pre\r\n                  v-if=\"!node.data.editing\"\r\n                  v-text=\"node.data.name\"\r\n                  @mousewheel.stop\r\n                ></pre>\r\n                <button\r\n                  class=\"drill-up\"\r\n                  v-if=\"node.data.isRoot && tree.hasQuery\"\r\n                  @click.stop=\"spliceRootsQuery\"\r\n                >\r\n                  <b-icon icon=\"arrow-bar-up\"></b-icon>\r\n                </button>\r\n              </div>\r\n              <textarea\r\n                v-if=\"node.data.editing\"\r\n                v-model=\"node.data._name\"\r\n                :ref=\"`node-#${node.data._gid}`\"\r\n                @keydown.esc=\"quitNodeEditor\"\r\n                @keydown.enter.prevent=\"quitNodeEditor($event, { save: true })\"\r\n                @keydown.tab.prevent=\"\r\n                  quitNodeEditor($event, { save: true, callback: addChild })\r\n                \"\r\n                @keydown.exact.stop\r\n                @blur=\"blurLastNode(node.data)\"\r\n                @mousewheel.stop\r\n              ></textarea>\r\n              <!-- <button v-if=\"node.data.editing\">Save</button> -->\r\n\r\n              <sub\r\n                v-if=\"!node.data.editing && node.data.totalChildrenTasks > 0\"\r\n                class=\"completeness\"\r\n                >{{\r\n                  `${node.data.finishedChildrenTasks}/${node.data.totalChildrenTasks}`\r\n                }}</sub\r\n              >\r\n              <div\r\n                v-if=\"shouldDisplayProgress(node.data)\"\r\n                class=\"progress\"\r\n                :class=\"{ 'round-right': node.data.progress == 100 }\"\r\n                :style=\"{ width: `${node.data.progress}%` }\"\r\n                :title=\"`${node.data.progress}%`\"\r\n              >\r\n                <!-- <span>{{ node.data.progress }}%</span> -->\r\n              </div>\r\n              <div\r\n                class=\"controls\"\r\n                v-if=\"node.data._gid === tree.lastNode._gid\"\r\n              >\r\n                <button class=\"add-child\" @click.stop=\"addSibling\">\r\n                  <b-icon icon=\"node-plus\"></b-icon>\r\n                </button>\r\n                <button class=\"add-sibling\" @click=\"addChild\">\r\n                  <b-icon icon=\"diagram2\"></b-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <breadcrumb></breadcrumb>\r\n    <cards-wrapper></cards-wrapper>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Breadcrumb from \"@/components/Breadcrumb\";\r\nimport ContextMenu from \"@/components/ContextMenu\";\r\nimport CardsWrapper from \"@/components/cards/CardsWrapper\";\r\n\r\nimport * as d3 from \"d3\";\r\nimport { flextree } from \"d3-flextree\";\r\nconst layout = flextree();\r\n\r\nimport { tree } from \"@/tree\";\r\nimport { events, eventBus } from \"@/hotkeys\";\r\nimport { store } from \"@/store/index\";\r\nimport { mapActions } from \"vuex\";\r\nimport emojis from \"node-emoji\";\r\n\r\nconst MATCH_TRANSLATE_REGEX = /translate\\((-?\\d+)px, ?(-?\\d+)px\\)/i;\r\nconst MATCH_SCALE_REGEX = /scale\\((\\S*)\\)/i;\r\n\r\nconst LinkStyle = {\r\n  CURVE: \"curve\",\r\n  STRAIGHT: \"straight\",\r\n};\r\n\r\nconst DEFAULT_NODE_WIDTH = 200;\r\nconst DEFAULT_NODE_HEIGHT = 100;\r\nconst DEFAULT_LEVEL_HEIGHT = 200;\r\n\r\nconst ANIMATION_DURATION = 0;\r\n\r\nfunction uuid() {\r\n  const s = [];\r\n  const hexDigits = \"0123456789abcdef\";\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n  }\r\n  s[14] = \"4\";\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\r\n  s[8] = s[13] = s[18] = s[23] = \"-\";\r\n  return s.join(\"\");\r\n}\r\n\r\nfunction rotatePoint({ x, y }) {\r\n  return {\r\n    x: y,\r\n    y: x,\r\n  };\r\n}\r\n\r\nexport default {\r\n  name: \"Tree\",\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          nodeWidth: DEFAULT_NODE_WIDTH,\r\n          nodeHeight: DEFAULT_NODE_HEIGHT,\r\n          nodeMaxWidth: 150,\r\n          nodeMaxHeight: 200,\r\n          levelHeight: DEFAULT_LEVEL_HEIGHT,\r\n        };\r\n      },\r\n    },\r\n    linkStyle: {\r\n      type: String,\r\n      default: LinkStyle.CURVE,\r\n    },\r\n  },\r\n  components: { Toolbar, ContextMenu, Breadcrumb, CardsWrapper },\r\n  data() {\r\n    return {\r\n      d3,\r\n      events,\r\n      store,\r\n      tree,\r\n      colors: \"568FE1\",\r\n      nodeDataList: [],\r\n      linkDataList: [],\r\n      initTransformX: 0,\r\n      initTransformY: 0,\r\n      currentScale: 1,\r\n      nodeDrag: {\r\n        dragging: false,\r\n        source: null,\r\n        target: null,\r\n        snap: \"\",\r\n      },\r\n      key: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    initialTransformStyle() {\r\n      return {\r\n        transform: `scale(1) translate(${this.initTransformX}px, ${this.initTransformY}px)`,\r\n        transformOrigin: \"center\",\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    this.addUniqueKey(this.tree.root);\r\n    window.addEventListener(\"unload\", this.beforeUnload);\r\n\r\n    eventBus.$on(\"tree-push-root\", this.pushRootToQuery);\r\n    eventBus.$on(\"tree-pop-root\", this.spliceRootsQuery);\r\n    eventBus.$on(\"tree-add-sibling\", this.addSibling);\r\n    eventBus.$on(\"tree-add-child\", this.addChild);\r\n    eventBus.$on(\"tree-set-last-node\", (args) => {\r\n      if (args && args[0]) this.setLastNode(args[0]);\r\n    });\r\n    eventBus.$on(\"tree-node-toggle-done\", this.toggleDone);\r\n    eventBus.$on(\"tree-node-toggle-emoji\", this.toggleEmoji);\r\n    eventBus.$on(\"tree-node-collapse\", this.collapseLastNode);\r\n    eventBus.$on(\"tree-node-edit\", this.editLastNode);\r\n    eventBus.$on(\"tree-node-do-all-children\", this.doAllChildren);\r\n    eventBus.$on(\"tree-node-undo-all-children\", this.undoAllChildren);\r\n\r\n    eventBus.$on(\"tree-delete-last-node\", this.deleteLastNode);\r\n\r\n    eventBus.$on(\"tree-go-up\", this.goUp);\r\n    eventBus.$on(\"tree-go-down\", this.goDown);\r\n    eventBus.$on(\"tree-go-left\", this.goLeft);\r\n    eventBus.$on(\"tree-go-right\", this.goRight);\r\n    eventBus.$on(\"document-save\", this.saveDocument);\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      saveDocumentAction: \"saveDocument\",\r\n    }),\r\n    isDraggedOver(node) {\r\n      return (\r\n        this.nodeDrag?.target?.data._gid === node._gid &&\r\n        this.nodeDrag?.source?.data._gid !== node._gid &&\r\n        !node.isRoot\r\n      );\r\n    },\r\n    startDrag(evt, node) {\r\n      evt.dataTransfer.dropEffect = \"move\";\r\n      evt.dataTransfer.effectAllowed = \"move\";\r\n      node.data.collapsed = true;\r\n      this.nodeDrag.source = node;\r\n    },\r\n    onDrag() {\r\n      this.nodeDrag.dragging = true;\r\n    },\r\n    onDrop(_, node) {\r\n      if (this.nodeDrag.target && this.nodeDrag.target !== node)\r\n        tree.cloneNode(\r\n          node.data,\r\n          this.nodeDrag.target.data,\r\n          this.nodeDrag.snap\r\n        );\r\n      node.collapsed = false;\r\n      this.nodeDrag.dragging = false;\r\n      this.nodeDrag.target = null;\r\n      this.nodeDrag.source = null;\r\n    },\r\n    mouseOverNode(e, node) {\r\n      if (!this.nodeDrag.dragging || node.isRoot) return;\r\n      this.nodeDrag.target = node;\r\n      let rect = e.target.getBoundingClientRect();\r\n      let x = e.clientX - rect.left;\r\n      let y = e.clientY - rect.top;\r\n      let yHalf = rect.height / 2;\r\n\r\n      if (x > rect.width - rect.width / 4) {\r\n        this.nodeDrag.snap = \"right\";\r\n      } else if (y < yHalf) {\r\n        this.nodeDrag.snap = \"top\";\r\n      } else if (y >= yHalf) {\r\n        this.nodeDrag.snap = \"bottom\";\r\n      }\r\n    },\r\n    mouseLeaveNode(_, node) {\r\n      if (node.data._gid !== this.nodeDrag?.target?.data._gid) return;\r\n      this.nodeDrag.target = null;\r\n    },\r\n    beforeUnload() {\r\n      this.saveDocument();\r\n      window.removeEventListener(\"unload\", this.beforeUnload);\r\n    },\r\n    spliceRootsQuery(n = 1) {\r\n      tree.spliceRootsQuery(n);\r\n    },\r\n    pushRootToQuery() {\r\n      if (tree.lastNode) tree.pushRootToQuery(tree.lastNode);\r\n    },\r\n    sortTree(by, direction) {\r\n      tree.sortLastNode(by, direction);\r\n    },\r\n    addSibling() {\r\n      tree.addSibling();\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    addChild() {\r\n      tree.addChild();\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    toggleDone() {\r\n      tree.lastNode.toggleDoneState();\r\n    },\r\n    shouldDisplayProgress(node) {\r\n      return node?.settings?.displayProgress;\r\n    },\r\n    doAllChildren() {\r\n      tree.lastNode.setAllChildrenDoneState(true);\r\n    },\r\n    undoAllChildren() {\r\n      tree.lastNode.setAllChildrenDoneState(false);\r\n    },\r\n    toggleEmoji(emoji) {\r\n      tree.lastNode.toggleEmoji(emoji);\r\n    },\r\n    emojifyArray(array) {\r\n      if (!array?.length) return \"\";\r\n      return array.map((a) => emojis.get(a));\r\n    },\r\n    setLastNode(node, event) {\r\n      if (event?.which === 1 && tree.lastNode._gid === node._gid)\r\n        return this.collapseLastNode();\r\n      tree.lastNode = node;\r\n      this.$refs?.contextMenu?.close();\r\n    },\r\n    editLastNode() {\r\n      tree.lastNode.editing = true;\r\n      this.focusInput(`node-#${tree.lastNode._gid}`);\r\n      // this.saveDocument();\r\n    },\r\n    blurLastNode(triggerNode) {\r\n      tree.blurLastNode(triggerNode);\r\n    },\r\n    collapseLastNode() {\r\n      tree.collapseLastNode();\r\n    },\r\n    deleteLastNode() {\r\n      tree.deleteLastNode();\r\n      // this.saveDocument();\r\n    },\r\n    quitNodeEditor(e, options = { save: false, callback: null }) {\r\n      if (e.shiftKey) return (tree.lastNode._name += \"\\n\");\r\n      if (tree.lastNode.firstEdit && !options.save) {\r\n        tree.deleteLastNode({ force: true });\r\n      } else {\r\n        tree.lastNode.editing = false;\r\n        tree.lastNode.parseName();\r\n      }\r\n      if (typeof options.callback === \"function\") options.callback();\r\n    },\r\n\r\n    goUp() {\r\n      tree.goUp();\r\n    },\r\n    goDown() {\r\n      tree.goDown();\r\n    },\r\n    goLeft() {\r\n      tree.goLeft();\r\n    },\r\n    goRight() {\r\n      tree.goRight();\r\n    },\r\n    clickedText(node) {\r\n      this.setLastNode(node.data);\r\n    },\r\n    clickedNode(node) {\r\n      this.setLastNode(node);\r\n      tree.collapseLastNode();\r\n    },\r\n    focusInput(ref) {\r\n      if (!ref) return;\r\n      this.$nextTick(() => {\r\n        const input = this.$refs[ref];\r\n        if (input && input[0]) input[0].focus();\r\n      });\r\n    },\r\n    saveDocument() {\r\n      this.saveDocumentAction(tree.export());\r\n    },\r\n\r\n    handleZoom(e) {\r\n      if (e.which === 2) return this.restoreScale();\r\n      if (!e.which) {\r\n        ((e.deltaY || -e.wheelDelta || e.detail) >> 10 || 1) < 0\r\n          ? this.zoomIn()\r\n          : this.zoomOut();\r\n      }\r\n    },\r\n    init() {\r\n      this.draw();\r\n      this.enableDrag();\r\n      this.initTransform();\r\n    },\r\n    zoomIn() {\r\n      const originTransformStr = this.$refs.domContainer?.style?.transform;\r\n      if (!originTransformStr) return;\r\n      let targetScale = 1 * 1.2;\r\n      const scaleMatchResult = originTransformStr.match(MATCH_SCALE_REGEX);\r\n      if (scaleMatchResult && scaleMatchResult.length > 0) {\r\n        const originScale = parseFloat(scaleMatchResult[1]);\r\n        targetScale *= originScale;\r\n      }\r\n      this.setScale(targetScale);\r\n    },\r\n    zoomOut() {\r\n      const originTransformStr = this.$refs.domContainer?.style?.transform;\r\n      if (!originTransformStr) return;\r\n      let targetScale = 1 / 1.2;\r\n      const scaleMatchResult = originTransformStr.match(MATCH_SCALE_REGEX);\r\n      if (scaleMatchResult && scaleMatchResult.length > 0) {\r\n        const originScale = parseFloat(scaleMatchResult[1]);\r\n        targetScale = originScale / 1.2;\r\n      }\r\n      this.setScale(targetScale);\r\n    },\r\n    restoreScale() {\r\n      this.setScale(1);\r\n    },\r\n    setScale(scaleNum) {\r\n      if (typeof scaleNum !== \"number\") return;\r\n      let pos = this.getTranslate();\r\n      if (!pos) return;\r\n      let translateString = `translate(${pos[0]}px, ${pos[1]}px)`;\r\n      if (!this.$refs.domContainer?.style?.transform) return;\r\n      this.$refs.svg.style.transform = `scale(${scaleNum}) ` + translateString;\r\n      this.$refs.domContainer.style.transform =\r\n        `scale(${scaleNum}) ` + translateString;\r\n      this.currentScale = scaleNum;\r\n    },\r\n    getTranslate() {\r\n      let string = this.$refs.svg?.style.transform;\r\n      if (!string) return;\r\n      let match = string.match(MATCH_TRANSLATE_REGEX);\r\n      if (match === null) {\r\n        return [null, null];\r\n      }\r\n      let x = parseInt(match[1]);\r\n      let y = parseInt(match[2]);\r\n      return [x, y];\r\n    },\r\n    addUniqueKey(rootNode) {\r\n      const queue = [rootNode];\r\n      while (queue.length !== 0) {\r\n        const node = queue.pop();\r\n        node._key = uuid();\r\n        if (node.children) {\r\n          queue.push(...node.children);\r\n        }\r\n      }\r\n      return rootNode;\r\n    },\r\n    initTransform() {\r\n      const containerHeight = this.$refs.container.offsetHeight;\r\n      this.initTransformX = Math.floor(this.config.nodeWidth);\r\n      this.initTransformY = Math.floor(containerHeight / 2);\r\n    },\r\n    generateLinkPath(d) {\r\n      if (this.linkStyle === LinkStyle.CURVE) {\r\n        const linkPath = d3.linkHorizontal();\r\n        linkPath\r\n          .x(function (d) {\r\n            return d.x;\r\n          })\r\n          .y(function (d) {\r\n            return d.y;\r\n          })\r\n          .source(function (d) {\r\n            const sourcePoint = {\r\n              x: d.source.x,\r\n              y: d.source.y,\r\n            };\r\n            return rotatePoint(sourcePoint);\r\n          })\r\n          .target(function (d) {\r\n            const targetPoint = {\r\n              x: d.target.x,\r\n              y: d.target.y,\r\n            };\r\n            return rotatePoint(targetPoint);\r\n          });\r\n        return linkPath(d);\r\n      }\r\n      if (this.linkStyle === LinkStyle.STRAIGHT) {\r\n        // the link path is: source -> secondPoint -> thirdPoint -> target\r\n        const linkPath = d3.path();\r\n        let sourcePoint = { x: d.source.x, y: d.source.y };\r\n        let targetPoint = { x: d.target.x, y: d.target.y };\r\n        sourcePoint = rotatePoint(sourcePoint);\r\n        targetPoint = rotatePoint(targetPoint);\r\n        const xOffset = targetPoint.x - sourcePoint.x;\r\n        const secondPoint = {\r\n          x: sourcePoint.x + xOffset / 2,\r\n          y: sourcePoint.y,\r\n        };\r\n        const thirdPoint = { x: sourcePoint.x + xOffset / 2, y: targetPoint.y };\r\n        linkPath.moveTo(sourcePoint.x, sourcePoint.y);\r\n        linkPath.lineTo(secondPoint.x, secondPoint.y);\r\n        linkPath.lineTo(thirdPoint.x, thirdPoint.y);\r\n        linkPath.lineTo(targetPoint.x, targetPoint.y);\r\n        return linkPath.toString();\r\n      }\r\n    },\r\n    draw() {\r\n      const [nodeDataList, linkDataList] = this.buildTree(this.tree.root);\r\n      this.linkDataList = linkDataList;\r\n      this.svg = this.d3.select(this.$refs.svg);\r\n\r\n      const self = this;\r\n      const links = this.svg.selectAll(\".link\").data(linkDataList, (d) => {\r\n        return `${d.source.data._key}-${d.target.data._key}`;\r\n      });\r\n\r\n      links\r\n        .enter()\r\n        .append(\"path\")\r\n        // .style(\"opacity\", 0)\r\n        // .transition()\r\n        // .duration(ANIMATION_DURATION)\r\n        // .ease(d3.easeCubicInOut)\r\n        // .style(\"opacity\", 1)\r\n        .attr(\"class\", \"link\")\r\n        .attr(\"d\", function (d) {\r\n          return self.generateLinkPath(d);\r\n        });\r\n      links\r\n        .transition()\r\n        .duration(ANIMATION_DURATION)\r\n        .ease(d3.easeCubicInOut)\r\n        .attr(\"d\", function (d) {\r\n          return self.generateLinkPath(d);\r\n        });\r\n      links\r\n        .exit()\r\n        .transition()\r\n        .duration(ANIMATION_DURATION / 2)\r\n        .ease(d3.easeCubicInOut)\r\n        .style(\"opacity\", 0)\r\n        .remove();\r\n\r\n      this.nodeDataList = nodeDataList;\r\n    },\r\n    buildTree(rootNode) {\r\n      const treeBuilder = this.d3\r\n        .tree()\r\n        .nodeSize([this.config.nodeWidth, this.config.levelHeight]);\r\n      const tree = treeBuilder(this.d3.hierarchy(rootNode));\r\n      layout(tree);\r\n      return [tree.descendants(), tree.links()];\r\n    },\r\n    enableDrag() {\r\n      const svgElement = this.$refs.svg;\r\n      const container = this.$refs.container;\r\n      let startX = 0;\r\n      let startY = 0;\r\n      let isDrag = false;\r\n      let mouseDownTransform = \"\";\r\n      container.onmousedown = (event) => {\r\n        mouseDownTransform = svgElement.style.transform;\r\n        startX = event.clientX;\r\n        startY = event.clientY;\r\n        isDrag = true;\r\n      };\r\n      container.onmousemove = (event) => {\r\n        if (!isDrag) return;\r\n        const originTransform = mouseDownTransform;\r\n        let originOffsetX = 0;\r\n        let originOffsetY = 0;\r\n        if (originTransform) {\r\n          const result = originTransform.match(MATCH_TRANSLATE_REGEX);\r\n          if (result !== null && result.length !== 0) {\r\n            const [offsetX, offsetY] = result.slice(1);\r\n            originOffsetX = parseInt(offsetX);\r\n            originOffsetY = parseInt(offsetY);\r\n          }\r\n        }\r\n        let newX =\r\n          Math.floor((event.clientX - startX) / this.currentScale) +\r\n          originOffsetX;\r\n        let newY =\r\n          Math.floor((event.clientY - startY) / this.currentScale) +\r\n          originOffsetY;\r\n        let transformStr = `translate(${newX}px, ${newY}px)`;\r\n        if (originTransform) {\r\n          transformStr = originTransform.replace(\r\n            MATCH_TRANSLATE_REGEX,\r\n            transformStr\r\n          );\r\n        }\r\n        svgElement.style.transform = transformStr;\r\n        this.$refs.domContainer.style.transform = transformStr;\r\n      };\r\n\r\n      container.onmouseleave = () => {\r\n        startX = 0;\r\n        startY = 0;\r\n        isDrag = false;\r\n      };\r\n\r\n      container.onmouseup = () => {\r\n        startX = 0;\r\n        startY = 0;\r\n        isDrag = false;\r\n      };\r\n    },\r\n    formatDimension(dimension) {\r\n      if (typeof dimension === \"number\") return `${dimension}px`;\r\n      if (dimension.indexOf(\"px\") !== -1) {\r\n        return dimension;\r\n      } else {\r\n        return `${dimension}px`;\r\n      }\r\n    },\r\n    parseDimensionNumber(dimension) {\r\n      if (typeof dimension === \"number\") {\r\n        return dimension;\r\n      }\r\n      return parseInt(dimension.replace(\"px\", \"\"));\r\n    },\r\n    nodeContextClick(event, node) {\r\n      event.preventDefault();\r\n      this.setLastNode(node);\r\n      this.$refs.contextMenu?.open(event);\r\n    },\r\n  },\r\n  watch: {\r\n    \"tree.root\": {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        this.draw();\r\n        this.saveDocument();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.tree-container {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.node {\r\n  border-radius: 0.6rem;\r\n  box-sizing: border-box;\r\n  border: 1px solid grey;\r\n  background-color: var(--node-bg-clr);\r\n  color: black;\r\n  user-select: none;\r\n  height: fit-content;\r\n  position: relative;\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &.editing {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5rem;\r\n    position: relative;\r\n    align-self: center;\r\n  }\r\n\r\n  .completeness {\r\n    margin: 0.5rem -0.5rem 0 0;\r\n    align-self: flex-end;\r\n    min-width: 4rem;\r\n    text-align: end;\r\n    color: rgba($color: #000000, $alpha: 0.4);\r\n  }\r\n\r\n  .progress {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    margin: 0 -1rem;\r\n    bottom: 0;\r\n    height: 0.4rem;\r\n    background-color: rgb(44, 189, 44);\r\n    border-bottom-left-radius: 0.7rem;\r\n    font-size: 0.8rem;\r\n    color: white;\r\n    transition: width 1s ease;\r\n    span {\r\n      margin-left: 0.4rem;\r\n    }\r\n\r\n    &.round-right {\r\n      border-bottom-right-radius: 0.7rem;\r\n    }\r\n  }\r\n  &.dragover {\r\n    border: 0.2rem solid var(--secondary-clr);\r\n    opacity: 1;\r\n  }\r\n  &.done {\r\n    background-color: var(--primary-clr);\r\n  }\r\n  &.done pre {\r\n    text-decoration: line-through;\r\n  }\r\n  pre {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-height: 150px;\r\n    margin: 0;\r\n    padding: 0;\r\n    text-align: center;\r\n    height: fit-content;\r\n    font-family: var(--font-family);\r\n    white-space: pre-line;\r\n    word-wrap: break-word;\r\n    overflow: auto;\r\n  }\r\n\r\n  .drill-up {\r\n    align-self: center;\r\n  }\r\n  textarea {\r\n    height: 4rem;\r\n    width: 100%;\r\n    font-size: 1rem;\r\n    font-family: var(--font-family);\r\n    resize: vertical;\r\n    max-height: 150px;\r\n    min-height: 30px;\r\n  }\r\n  button {\r\n    cursor: pointer;\r\n    outline: none;\r\n    border: 1px solid var(--secondary-clr);\r\n    border-radius: 0.4rem;\r\n    box-sizing: border-box;\r\n    background-color: white;\r\n  }\r\n  button:active {\r\n    border: 1px solid white;\r\n  }\r\n  .add-sibling {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: calc(100% + 1rem);\r\n  }\r\n  .add-child {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    top: calc(100% + 0.5rem);\r\n  }\r\n}\r\n\r\n.link {\r\n  stroke-width: 2px !important;\r\n  fill: transparent !important;\r\n  stroke: var(--node-link-clr) !important;\r\n}\r\n\r\n.tree-container.dragging .link {\r\n  opacity: 0.2;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree-container {\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  .vue-tree {\r\n    position: relative;\r\n  }\r\n\r\n  > svg,\r\n  .dom-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    overflow: visible;\r\n    transform-origin: 0 50%;\r\n  }\r\n\r\n  .dom-container {\r\n    z-index: 1;\r\n    // pointer-events: none;\r\n  }\r\n\r\n  &.dragging .node {\r\n    opacity: 0.7;\r\n  }\r\n}\r\n\r\n.node-slot {\r\n  cursor: pointer;\r\n  position: absolute;\r\n  background-color: transparent;\r\n  box-sizing: border-box;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-sizing: content-box;\r\n\r\n  .node-slot-overlay {\r\n    position: relative;\r\n\r\n    // top\r\n    &.node-top::before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      bottom: calc(100% + 0.5rem);\r\n      width: 100%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n\r\n    // bottom\r\n    &.node-bottom::before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      top: calc(100% + 0.5rem);\r\n      width: 100%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n\r\n    // right\r\n    &.node-right::before {\r\n      content: \"\";\r\n      width: 15px;\r\n      height: 15px;\r\n      margin-right: 5px;\r\n      position: absolute;\r\n      left: calc(100% + 0.5rem);\r\n      width: 50%;\r\n      height: 3rem;\r\n      text-align: center;\r\n      background-color: white;\r\n      border-radius: 1rem;\r\n    }\r\n  }\r\n}\r\n\r\n.highlighted {\r\n  border: 2px solid var(--secondary-clr);\r\n}\r\n\r\n.stack {\r\n  position: relative;\r\n}\r\n\r\n.stack,\r\n.stack::before,\r\n.stack::after {\r\n  box-shadow: 2px 1px 1px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.stack::before,\r\n.stack::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  border-radius: 1rem;\r\n}\r\n\r\n/* Second sheet of stack */\r\n.stack::before {\r\n  left: 4px;\r\n  top: 4px;\r\n  z-index: -1;\r\n}\r\n\r\n/* Third sheet of stack */\r\n.stack::after {\r\n  left: 8px;\r\n  top: 8px;\r\n  z-index: -2;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tree.vue?vue&type=template&id=0f436fd6&scoped=true&\"\nimport script from \"./Tree.vue?vue&type=script&lang=js&\"\nexport * from \"./Tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tree.vue?vue&type=style&index=0&id=0f436fd6&lang=scss&scoped=true&\"\nimport style1 from \"./Tree.vue?vue&type=style&index=1&lang=scss&\"\nimport style2 from \"./Tree.vue?vue&type=style&index=2&id=0f436fd6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f436fd6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <tree v-if=\"tree.loaded\"></tree>\n  </div>\n</template>\n\n<script>\nimport Tree from \"@/components/Tree\";\nimport { tree } from \"@/tree\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Tree,\n  },\n  data() {\n    return {\n      tree,\n    };\n  },\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css2?family=Roboto&display=swap\");\n\n:root {\n  --body-bg-clr: #eef2f5;\n  --primary-clr: #eef2f5;\n  --secondary-clr: #a03bc3;\n  --node-bg-clr: white;\n  --node-link-clr: #a03bc3;\n  --node-bg-secondary-clr: #282c34;\n  --context-menu-bg-clr: #293845;\n  --context-menu-item-hover-clr: #a03bc3;\n  --hr-clr: #6e6b74;\n  --max-height: calc(100vh - 1.5rem);\n  --text-primary: rgba(255, 255, 255, 0.6);\n  --text-secondary: rgba(255, 255, 255, 0.87);\n\n  --font-family: \"Roboto\", sans-serif;\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  background-color: var(--body-bg-clr);\n}\n\n#app {\n  font-family: var(--font-family);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=44676804&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport { store } from \"@/store/index\";\n\nimport { Init } from \"@/hotkeys\";\nInit();\n\nimport VModal from \"vue-js-modal\";\nVue.use(VModal, { componentName: \"Modal\" });\n\nimport {\n  ModalPlugin,\n  FormTextareaPlugin,\n  BootstrapVueIcons,\n} from \"bootstrap-vue\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nVue.use(BootstrapVueIcons);\nVue.use(ModalPlugin);\nVue.use(FormTextareaPlugin);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: (h) => h(App),\n  store,\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&lang=scss&scped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentsList.vue?vue&type=style&index=0&id=fdd9583a&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=style&index=0&id=d1b84f7e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=1&id=75f4cf53&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardGroup.vue?vue&type=style&index=0&id=e00515e4&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=0f436fd6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiBar.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportJSON.vue?vue&type=style&index=0&id=726764da&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExportModal.vue?vue&type=style&index=0&id=8c80905c&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=4db4a189&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=75f4cf53&lang=scss&scoped=true&\""],"sourceRoot":""}